(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{106:function(e,t,a){e.exports=a.p+"static/media/gmail.96cdc794.svg"},107:function(e,t,a){e.exports=a.p+"static/media/resume.1f84e97a.svg"},108:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAGq0lEQVR4Xt2XW2xcRxnHfzNndtcXNnEbxzHGNYnTJKRcGhRQQ1HVVFxTqiIuUkGorYSQqAQSd4k+hCLBA0VCSPCCKh5paVUEotxUSMhDEVCkNA0JxUlMnUIcx46dEK/X3ss582F90hGxzxkdqUplb37SaOX1/9sz//0uM2sAGH3XB7o/9Lnv79i2dXfFCsL6xgCLCXLq9Jmj8TPf+3z/wsTzhptvf//oA488/el379ww2BPRERhA4Ox8zGNH/j7T+OV33mN6vvjUxJc/uHfrTVXHUtvTSfSWI07MtXj813/4hbtpaHBr1cHcYptOYyn2bC7DltFde12EZzH2eC9g6CiMgXYiRJGLXOxFS8qLEAZEBNFgMJh1YkRoJ5B4Ly7xwmKcBI14D83EU4kMkTU0Yg9Axdl1kxERcInAUluNZFTtxNNdirjnlgH2DFXpchEXak0Oj89xbPIKXc6uCyMewYx8+5Dcsb0fWWUk8dBVsjx813Z2be5lNT/+23/47dhFNQqyZlO47YVj5/57TktrKfarjWiW7rt1RE3k8cDeYY5OzjN5pYGLzJoa8VpaCM04WWHEC7q520b6CFGOjJbbP2dqOs/X0oiI4LyHlmaEFBIRKpGjp2CDGyqOZiyUrLBWxF4QwHkRWn6lERGYW2pxcaFFX5cjxMTlJdre0/JmTY14ETWi41WEFdRbCT87OcXD+7eTx/RCi8PjsxiDxq9pRgSc1zrLGilFhp8eP89IXzef2jO0ykSTr/1ujKnl1+6Sxfv1Ulpx1ggGEi9889BpDo1f5M7RTdoTZ2br/GZshslag55SpLFrSZw2uwi09A+yGLAWDr88x+/HZzGAgB6EpcjSSq5FJgQBDADm1WdERPCJIORkJBFaiV/xCAM0Y6+Z0JMdg6KnrNdU5+GsUfOANmej7TXjLjJExuh7ab2XndUrUbEx8P83krrKCvp7ywxv7CIHzcbp2QXdAKCbesOydmA5Jo+ZhRbnaw0a+gVY9o9u4s5tN3Lzpl6qlUjfX9ZwYrrGcxOXOHmhpn1ajixCmPbVpZX4rLTWiLnvbUN89+43kcf5+SZ3PfYX6nFCZIzqH9w/zEP7Rsjjh38+y5d+9RJ37xrg4Ht38M7hjeTxsbcMahX8/OQFvnV4nNl6U69BEs4IAE4QLaHQfA4hoHEaa4r1Vxox996yhSc++faiy6Zm4RO3DvHWwSof/8kLzNXblJ0hx40mwUpaWiJZgYiuEFrTugQp1rPn9Rv47G0jOSbCvHlLlUcP7Ob+p17EGpvXMvr8Utojks2IvieeMJJq1AgSC4T13LN7gFfBchYHuH2kjz9NXNJxvxrxAtbgQJslK1CHQhiNQ40Y1SMIrwUfXe6bI2dmEWdz92mMwQkEjBRvSwTUiE2NkyE0KMama3p+7ezvZXRTD2Fg3xtv0Bu29oPJ7iGOYxyBL169FTS7yKpFMY8e+Rc/eG6Cy4st1feWHV+4YxsH37eDAHpN2txbZmq+qSP5aqwx1BfquHSE5U0DkcLDSJcBfS0KeOKFSb6+PIJf1+XSpqcVJzzy7CneMbyRA/l9pFejG7tL/PvyEpGxXI0H0pOdJDC1PEKGvMkmqT6MCPzor68QOYO1qgfAWBCEJ4+fDxoxBjXf9p6SGK4mQcF53RBZPCQFUytJY3WBF4JcWGgyNlPHWbvycwUdradm6kj4UqLXm9hn9xqj4CCwgYJmF43ThZFUH4zQH2m1ZpvQ86402nqiVyILEJqimVg1L4JLRRmEIjROlxTrG3FCnAiRMTmGBb1wJkIlCg8X1ItkjaQHYoLkhnop6BFEl0LBcEifk1M+Pv2cMHiAHF2SGglOWYHicyRdxXqVhDTFAw+RfJ2gYLlOcKGSKCp8yfRISF88QLKpCqYtt0ckLS1PLsXpRsFn9GF8YMT6ojgJ6K6/0pJwJou7fcUq5Bo9K4PINc2IsCaIUCo5HIoUbawwbcV6eW1S4oVqX/V66pHwgagXtRDVioOrDymBShQRoqes+vzcCRiM/ngK4azJPzgFxRGiFPHH8Vk+8/TxTLABas2YZuLBmFTP48fO8Y/pefxqvYGZWlO1GLJYw9xiiweffJGSNQjZ552YqoGzhDB85RkJ/AdiD20fioSKW6FXbRzQWwPliCACNGNCaKw1ZEiEgRt6zqkROpjUiKXzQcBYhI7HGZPYDRV7FjF0LLFnz3DfUfuR6tRDDr9AVKKzMECEM/HsV/cNfsPurVx+9l770oeZfvl5jG13jIkkafTHl47cv/GVAzu7Gif/B1VhQDg89RGeAAAAAElFTkSuQmCC"},109:function(e,t,a){e.exports=a.p+"static/media/github.0ba2aa20.png"},110:function(e,t,a){e.exports=a(176)},115:function(e,t,a){},117:function(e,t,a){},127:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(21),r=a.n(s),o=(a(115),a(10)),c=a(11),i=a(13),m=a(12),d=a(14),u=a(16),h=a(39),p=(a(116),a(117),a(6)),E=a(97),g=a.n(E);function f(){console.log("window.width",window.innerWidth);var e=window.innerWidth;return(l.a.createElement("div",{className:"formPosition"},l.a.createElement("br",null),l.a.createElement("h5",null,"It is easy to track your worked times and manage invoices with Clockin.js."),l.a.createElement("p",null,"You just need to Sign Up and enjoy."),l.a.createElement("p",null," It is free. ;)"),l.a.createElement("br",null),l.a.createElement("img",{src:g.a,alt:"Clockin.js",width:e<800?e-.08*e:e-.2*e}),l.a.createElement("div",{style:{marginTop:"2.5rem",textAlign:"center"}},"More information at"),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(u.b,{to:"/about"},"About Clockin.js")," or ",l.a.createElement(u.b,{to:"/guidance"},"Guidance"),".")))}function b(){return l.a.createElement("div",null,l.a.createElement("h2",null," <404> NoNo page at all.."))}var v=a(25),y=a(186),C=a(187),k=a(180),w=a(101),I=a(98),S=a.n(I),x=(a(127),a(185)),N=a(179);function T(e){return l.a.createElement("div",null,l.a.createElement(x.a,{show:e.openModal,onHide:e.noMethod},l.a.createElement(x.a.Header,{closeButton:!0},l.a.createElement(x.a.Title,null,"Clockin.js")),l.a.createElement(x.a.Body,null,e.message),l.a.createElement(x.a.Footer,null,e.yesMethod?l.a.createElement(N.a,{className:"mt-3",style:{width:"50%"}},l.a.createElement(w.a,{variant:e.colorBtn1||"primary",onClick:e.yesMethod,style:{width:"50%"}},"Yes"),l.a.createElement(w.a,{variant:e.colorBtn2||"danger",onClick:e.noMethod,style:{width:"50%"}},"No")):l.a.createElement(w.a,{autoFocus:!0,variant:e.color||"primary",onClick:e.noMethod,style:{width:"50%"}},"OK"))))}var L=Object(p.b)((function(e){return{storeEmail:e.email}}),(function(e){return{noUser:function(){return e({type:"LOGOUT"})}}}))((function(e){var t=Object(n.useState)(!1),a=Object(v.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)(!1),c=Object(v.a)(o,2),i=c[0],m=c[1],d=Object(n.useState)(!1),p=Object(v.a)(d,2),E=p[0],g=p[1],f=function(e){e.preventDefault(),m(!1),r(!0)};return l.a.createElement("div",null,e.storeEmail?l.a.createElement("div",null,l.a.createElement(y.a,{bg:"primary showNormalMenu"},l.a.createElement(y.a.Brand,null,l.a.createElement(u.b,{to:"/",className:"navbar-brand"}," Clockin.js ")),l.a.createElement(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(y.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(C.a,{className:"mr-auto"},l.a.createElement(u.b,{to:"/user",className:"nav-link"},e.storeEmail),l.a.createElement(k.a,{title:"Clients",id:"basic-nav-dropdown1"},l.a.createElement(k.a.Item,{href:"clientNew"},"Add New One"),l.a.createElement(k.a.Divider,null),l.a.createElement(k.a.Item,{href:"/clientList"}," List ")),l.a.createElement(k.a,{title:"Clockins",id:"basic-nav-dropdown2"},l.a.createElement(k.a.Item,{href:"punchInNew"}," Punch in "),l.a.createElement(k.a.Divider,null),l.a.createElement(k.a.Item,{href:"punchInsList"},"List them all")),l.a.createElement(k.a,{title:"Invoices",id:"basic-nav-dropdown3"},l.a.createElement(k.a.Item,{href:"invoiceNew"},"Generate a brand new one"),l.a.createElement(k.a.Divider,null),l.a.createElement(k.a.Item,{href:"invoicesList"},"List, Check and Edit")),l.a.createElement(u.b,{to:"/guidance",className:"nav-link"},"Guidance"),l.a.createElement(u.b,{to:"/about",className:"nav-link"},"About")),l.a.createElement(w.a,{onClick:f,className:"logoutBtn"},"Logout"))),l.a.createElement("div",{className:"showHamburguer"},l.a.createElement(y.a,{bg:"info"},l.a.createElement(u.b,{to:"/",className:"nav-link"},"Clockin.js"),l.a.createElement(u.b,{to:"/user",className:"nav-link"},e.storeEmail),l.a.createElement(S.a,{right:!0,isOpen:i,onStateChange:function(e){return function(e){m(e.isOpen)}(e)}},l.a.createElement(k.a,{title:"Clients",id:"basic-nav-dropdown1",className:"menu-item"},l.a.createElement(k.a.Item,{href:"clientNew",className:"menu-item"},"Add New One"),l.a.createElement(k.a.Divider,null),l.a.createElement(k.a.Item,{href:"clientList"}," List ")),l.a.createElement("br",null),l.a.createElement(k.a,{title:"Clockins",id:"basic-nav-dropdown2"},l.a.createElement(k.a.Item,{href:"punchInNew"}," Punch in "),l.a.createElement(k.a.Divider,null),l.a.createElement(k.a.Item,{href:"punchInsList"},"List them all")),l.a.createElement("br",null),l.a.createElement(k.a,{title:"Invoices",id:"basic-nav-dropdown3",className:"font-color"},l.a.createElement(k.a.Item,{href:"invoiceNew"},"Generate a brand new one"),l.a.createElement(k.a.Divider,null),l.a.createElement(k.a.Item,{href:"invoicesList"},"List, Check and Edit")),l.a.createElement("br",null),l.a.createElement("a",{id:"guidance",className:"menu-item",href:"/guidance"},"Guidance"),l.a.createElement("br",null),l.a.createElement("a",{id:"about",className:"menu-item",href:"/about"},"About"),l.a.createElement("br",null),l.a.createElement("a",{onClick:f,className:"menu-item--small",href:"/"},"Logout"))))):l.a.createElement(y.a,{bg:"dark",variant:"dark"},l.a.createElement(y.a.Brand,{href:"/"},"Clockin.js"),l.a.createElement(C.a,null,l.a.createElement(u.b,{to:"/login",className:"nav-link"},"Login"),l.a.createElement(u.b,{to:"/register",className:"nav-link"},"Sign Up"),l.a.createElement(u.b,{to:"/guidance",className:"nav-link"},"Guidance"),l.a.createElement(u.b,{to:"/about",className:"nav-link"},"About"))),s?l.a.createElement(T,{openModal:s,message:"Are you sure you want to leave?",yesMethod:function(){r(!1),e.noUser(),g(!0)},noMethod:function(e){m(!1),r(!1)}}):"",E?l.a.createElement(h.a,{to:"/land"}):"")})),P=a(5),M=a.n(P),j=a(9),D=a(188),O=a(184),A=a(7),F=a.n(A),B=a(29),G=a.n(B),R=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={name:"",email:"",password:"",confirmPassword:"",address:"",city:"",postalCode:"",phone:"",redirectFlag:!1,message:"",btnType:void 0,classNameMessage:""},a.handleChange=function(e){if("Enter"===e.key)switch(e.target.name){case"name":""!==a.state.name&&a.textInput2.focus();break;case"email":""!==a.state.email&&a.textInput3.focus();break;case"city":""!==a.state.city&&a.textInput4.focus();break;case"address":""!==a.state.address&&a.textInput5.focus();break;case"postalCode":break;case"phone":""!==a.state.phone&&a.textInput7.focus();break;case"password":""!==a.state.password&&a.textInput8.focus();break;case"confirmPassword":""!==a.state.confirmPassword&&a.setState({btnType:"submit"})}"postalCode"!==e.target.name?a.setState(Object(j.a)({},e.target.name,e.target.value)):e.target.value.length<7&&a.setState(Object(j.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t,n,l;return M.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),""===a.state.email||""===a.state.name){s.next=20;break}if(a.state.password===a.state.confirmPassword&&""!==a.state.password){s.next=7;break}a.setState({classNameMessage:"messageFailure",message:"Password and \nConfirm Password fields\n\nMUST be the same\n and NOT empty.",password:"",confirmPassword:""}),a.clearMessage(),s.next=20;break;case 7:return"/user/signup",t={name:a.state.name,email:a.state.email,password:a.state.password,address:a.state.address,city:a.state.city,postalCode:a.state.postalCode,phone:a.state.phone},s.prev=9,s.next=12,M.a.awrap(F.a.post("/user/signup",t));case 12:(n=s.sent).data.message?(l={id:n.data.user._id,name:n.data.user.name,email:n.data.user.email,token:n.data.token,address:n.data.user.address,city:n.data.user.city,postalCode:n.data.user.postal_code,phone:n.data.user.phone},a.props.dispatchLogin({user:l}),a.setState({redirectFlag:!0})):n.data.error&&(a.setState({classNameMessage:"messageFailure",message:n.data.error}),a.clearMessage()),s.next=20;break;case 16:s.prev=16,s.t0=s.catch(9),a.setState({classNameMessage:"messageFailure",message:s.t0.message}),a.clearMessage();case 20:case"end":return s.stop()}}),null,null,[[9,16]])},a.clearMessage=function(){setTimeout((function(){a.setState({message:"",password:"",confirmPassword:""})}),3500)},a.afterChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirectFlag?l.a.createElement(h.a,{to:"/"}):l.a.createElement("div",{className:"formPosition"},l.a.createElement("br",null),l.a.createElement("h3",null,"User's Sign Up"),l.a.createElement(D.a,{className:"card-settings"},l.a.createElement(O.a,{onSubmit:this.handleSubmit},l.a.createElement(O.a.Group,{controlId:"formName"},l.a.createElement(O.a.Label,null,"Name"),l.a.createElement(O.a.Control,{autoFocus:!0,type:"text",placeholder:"User's name",name:"name",onChange:this.handleChange,value:this.state.name,onKeyPress:this.handleChange,ref:function(t){return e.textInput1=t}})),l.a.createElement(O.a.Group,{controlId:"formBasicEmail",style:{marginBottom:"5px"}},l.a.createElement(O.a.Label,null,"Email address"),l.a.createElement(O.a.Control,{type:"email",placeholder:"User's email",name:"email",onChange:this.handleChange,value:this.state.email,onKeyPress:this.handleChange,ref:function(t){return e.textInput2=t}})),l.a.createElement(O.a.Text,{className:"text-muted",style:{marginTop:"2px"}},"We'll never share your email with anyone else."),l.a.createElement(O.a.Text,{className:"text-muted",style:{marginTop:"0px",marginBottom:"16px"}},"Set a real email so you will receive emails from Clockin.js."),l.a.createElement(O.a.Group,{controlId:"formCity"},l.a.createElement(O.a.Label,null,"City"),l.a.createElement(O.a.Control,{type:"text",placeholder:"Type the user's city",name:"city",onChange:this.handleChange,value:this.state.city,onKeyPress:this.handleChange,ref:function(t){return e.textInput3=t}})),l.a.createElement(O.a.Group,{controlId:"formAddress"},l.a.createElement(O.a.Label,null,"Address"),l.a.createElement(O.a.Control,{type:"text",placeholder:"Type the user's address",name:"address",onChange:this.handleChange,value:this.state.address,onKeyPress:this.handleChange,ref:function(t){return e.textInput4=t}})),l.a.createElement(O.a.Group,{controlId:"formPostalCode"},l.a.createElement(O.a.Label,null,"Postal Code"),l.a.createElement(O.a.Control,{type:"text",placeholder:"Type the user's Postal Code",name:"postalCode",onChange:this.handleChange,value:this.state.postalCode,onKeyPress:this.handleChange,ref:function(t){return e.textInput5=t}})),l.a.createElement(O.a.Group,{controlId:"formPhone"},l.a.createElement(O.a.Label,null,"Phone"),l.a.createElement(G.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Enter your phone number",name:"phone",onBlur:function(t){return e.afterChange(t)},value:this.state.phone,onKeyPress:this.handleChange})),l.a.createElement(O.a.Group,{controlId:"formBasicPassword"},l.a.createElement(O.a.Label,null,"Password"),l.a.createElement(O.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:this.handleChange,value:this.state.password,onKeyPress:this.handleChange,ref:function(t){return e.textInput7=t}})),l.a.createElement(O.a.Group,{controlId:"formConfirmPassword"},l.a.createElement(O.a.Label,null,"Confirm Password"),l.a.createElement(O.a.Control,{type:"password",placeholder:"Confirm Password",name:"confirmPassword",onChange:this.handleChange,value:this.state.confirmPassword,onKeyPress:this.handleChange,ref:function(t){return e.textInput8=t}})),l.a.createElement(D.a.Footer,{className:this.state.classNameMessage},this.state.message?this.state.message:l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("div",{className:"d-flex flex-column"},l.a.createElement(w.a,{variant:"primary",type:this.state.btnType,onClick:this.handleSubmit},"Submit")))),l.a.createElement("br",null),l.a.createElement("br",null))}}]),t}(n.Component),_=Object(p.b)(null,(function(e){return{dispatchLogin:function(t){return e({type:"LOGIN",data:t})}}}))(R),U=a(38),H=a.n(U);H.a.setAppElement("#root");var K={content:{top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},z={width:"50%"},V=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={emailFP:a.props.email,message:"",classNameMessage:"",disableBtnReset:!1,disableBtnCancel:!1,label2:"Cancel"},a.handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value)),"Enter"===e.key&&(e.preventDefault(),""!==a.state.emailFP&&a.resetPasswordBtn.click())},a.clearMessage=function(){setTimeout((function(){a.setState({message:"",disableBtnReset:!1,disableBtnCancel:!1})}),3500)},a.closeFTModal=function(){a.props.closeModal()},a.handleResetPassword=function(e){var t;return M.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.emailFP){n.next=7;break}a.setState({message:"Type a valid email to have the password reseted.",classNameMessage:"messageFailure",disableBtnReset:!0,disableBtnCancel:!0}),a.resetPasswordEmail.focus(),a.clearMessage(),n.next=20;break;case 7:return"/user/forgetPassword",n.prev=8,n.next=11,M.a.awrap(F.a.post("/user/forgetPassword",{data:{email:a.state.emailFP}}));case 11:t=n.sent,console.log("@@@ forgetPassword",t),t.data.message?a.setState({message:"If <".concat(a.state.emailFP,"> is a valid email, you are about to receive an email with instructions to reset the password."),classNameMessage:"messageSuccess",disableBtnReset:!0,label2:"Close"}):(a.setState({message:t.data.error,classNameMessage:"messageFailure"}),a.clearMessage()),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(8),a.setState({message:n.t0.message}),a.clearMessage();case 20:case"end":return n.stop()}}),null,null,[[8,16]])},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(H.a,{isOpen:this.props.openFPModal,style:K},l.a.createElement(D.a,null,l.a.createElement(D.a.Header,{as:"h3"}," Reset Password "),l.a.createElement(D.a.Body,null,l.a.createElement(O.a,null,l.a.createElement(O.a.Label,null,"This procedure is going to send an email to reset the password."),l.a.createElement(O.a.Control,{autoFocus:!0,type:"email",placeholder:"Type the Email",name:"emailFP",value:this.state.emailFP,onChange:this.handleChange,onKeyPress:this.handleChange,ref:function(t){return e.resetPasswordEmail=t}}),l.a.createElement(D.a.Text,{className:this.state.classNameMessage},this.state.message),l.a.createElement("div",{className:"d-flex flex-column"},l.a.createElement(N.a,{className:"mt-3"},this.state.disableBtnReset?"":l.a.createElement(w.a,{variant:"info",style:z,disabled:this.state.disableBtnReset,onClick:this.handleResetPassword,ref:function(t){return e.resetPasswordBtn=t}}," Reset password "),l.a.createElement(w.a,{variant:this.state.disableBtnReset?"primary":"danger",disabled:this.state.disableBtnCancel,style:z,onClick:this.closeFTModal}," ",this.state.label2,"  ")))))))}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:"",errorMsg:"",forgetPasswordModal:!1},a.handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value)),"Enter"===e.key&&"email"===e.target.name&&""!==a.state.email&&a.textInput2.focus()},a.handleSubmit=function(e){if(e.preventDefault(),""!==a.state.email&&""!==a.state.password){fetch("/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.email,password:a.state.password})}).then((function(e){return e.json()})).then((function(e){if("message"in e){var t=e.user;t.id=t._id,t.token=e.token,a.props.dispatchLogin({user:t})}else"error"in e&&(a.setState({errorMsg:e.error,email:"",password:""}),a.clearMsg())})).catch((function(e){console.error(e),a.setState({errorMsg:e.message}),a.clearMsg()}))}},a.clearMsg=function(){setTimeout((function(){a.setState({errorMsg:""}),a.textInput1.focus()}),3500)},a.openModal=function(e){e.preventDefault(),a.setState({forgetPasswordModal:!0})},a.closeModal=function(){a.setState({forgetPasswordModal:!1})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"formPosition"},l.a.createElement("br",null),l.a.createElement("h3",null,"Login Page"),l.a.createElement(D.a,{className:"card-settings"},l.a.createElement(O.a,{onSubmit:this.handleSubmit},l.a.createElement(O.a.Group,{controlId:"formBasicEmail"},l.a.createElement(O.a.Label,null,"User's Email"),l.a.createElement(O.a.Control,{autoFocus:!0,type:"email",placeholder:"Type the user's email",name:"email",onChange:this.handleChange,onKeyPress:this.handleChange,value:this.state.email,ref:function(t){return e.textInput1=t}}),l.a.createElement(O.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),l.a.createElement(O.a.Group,{controlId:"formBasicPassword",style:{marginBottom:"5px"}},l.a.createElement(O.a.Label,null,"Password"),l.a.createElement(O.a.Control,{type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleChange,onKeyPress:this.handleChange,ref:function(t){return e.textInput2=t}})),l.a.createElement("p",{style:{marginBottom:"20px",fontStyle:"italic",fontSize:"0.9rem",paddingLeft:"1rem"}},l.a.createElement("a",{href:window.location.hash,onClick:this.openModal},"Forget password")),this.state.forgetPasswordModal?l.a.createElement(V,{openFPModal:this.state.forgetPasswordModal,closeModal:this.closeModal,email:this.state.email}):"",l.a.createElement(D.a.Footer,{className:"messageFailure"},this.state.errorMsg?this.state.errorMsg:l.a.createElement("br",null)),l.a.createElement("div",{className:"d-flex flex-column"},l.a.createElement(w.a,{variant:"primary",type:"submit"},"Submit")))))}}]),t}(n.Component),J=Object(p.b)(null,(function(e){return{dispatchLogin:function(t){return e({type:"LOGIN",data:t})}}}))(Y);var W=Object(p.b)((function(e){return{storeUser:e.name}}),null)((function(e){return l.a.createElement("div",null,l.a.createElement(D.a,{className:"homeBack"},l.a.createElement(D.a.Body,null,l.a.createElement(D.a.Title,null,"Home Page"),l.a.createElement("br",null),"Hi ",l.a.createElement("b",null,e.storeUser),l.a.createElement("br",null)," ",l.a.createElement("br",null),"With Clockin.js you are able to have all your clients data, their clockins and invoices, in one system. It is easy to manage and track your work with them.",l.a.createElement("br",null),"More information at ",l.a.createElement(u.b,{to:"/about"},"About Clockin.js")," or ",l.a.createElement(u.b,{to:"/guidance"},"Guidance"),".",l.a.createElement("br",null),l.a.createElement("br",null),"Enjoy and good work!!",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("p",null,"Kind regards from"),l.a.createElement("b",null,"Clockin.js Team :)"))))})),X=a(181),q=a(105),Q={width:"50%",paddingLeft:"0px",paddingRight:"0px"},Z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){var t,n,l,s;return M.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.preventDefault(),!a.state.name||!a.state.email){r.next=17;break}return t="user/".concat(a.state.userId),n={name:a.state.name,email:a.state.email,address:a.state.address,city:a.state.city,postalCode:a.state.postalCode,phone:a.state.phone},r.prev=4,r.next=7,M.a.awrap(F.a.patch(t,n,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 7:(l=r.sent).data.message?l.data.newData?(s={id:a.props.storeId,name:l.data.newData.name,email:l.data.newData.email,city:l.data.newData.city,address:l.data.newData.address,postalCode:l.data.newData.postalCode,phone:l.data.newData.phone,token:l.data.newData.token},a.setState({message:"Info has been updated.",classNameMessage:"messageSuccess",disableEdit:!0}),a.props.dispatchLogin({user:s})):a.setState({disableEdit:!0,message:l.data.message,classNameMessage:"messageSuccess"}):l.data.error&&a.setState({disableEdit:!0,message:l.data.error,classNameMessage:"messageFailure"}),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(4),console.log("catch error: ",r.t0.message),a.setState({disableEdit:!0,message:r.t0.message,classNameMessage:"messageFailure"});case 15:r.next=18;break;case 17:!a.state.name&&a.state.email?(a.setState({message:"Please, name should be filled.",classNameMessage:"messageFailure"}),a.textInput1.focus()):!a.state.email&&a.state.name?(a.setState({message:"Please, email should be filled.",classNameMessage:"messageFailure"}),a.textInput2.focus()):a.state.name||a.state.email||(a.setState({message:"Please, at least name and email should be filled.",classNameMessage:"messageFailure"}),a.textInput1.focus());case 18:a.clearMessage();case 19:case"end":return r.stop()}}),null,null,[[4,11]])},a.editForm=function(){a.setState({disableEdit:!1})},a.btnCancel=function(){a.setState({disableEdit:!0,name:a.props.storeName,email:a.props.storeEmail,city:a.props.storeCity,address:a.props.storeAddress,phone:a.props.storePhone,postalCode:a.props.storePostalCode})},a.clearMessage=function(){setTimeout((function(){a.setState({message:""})}),3e3)},a.handleAskChangePassowrd=function(){a.setState({showModal:!0,modalMessage:"Are you sure you want to change your password?"})},a.handleChangePassword=function(){var e;return M.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return"/user/forgetPassword",t.prev=1,t.next=4,M.a.awrap(F.a.post("/user/forgetPassword",{data:{email:a.state.email}}));case 4:(e=t.sent).data.message?a.setState({message:"Your email <".concat(a.state.email,"> is going to receive an email with instructions to change your password."),classNameMessage:"messageSuccess"}):(a.setState({message:e.data.error,classNameMessage:"messageFailure"}),a.clearMessage()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a.setState({message:t.t0.message});case 11:setTimeout((function(){a.clearMessage()}),2e3);case 12:case"end":return t.stop()}}),null,null,[[1,8]])},a.handleChange=function(e){if("Enter"===e.key)switch(e.target.name){case"name":""!==a.state.name&&a.textInput3.focus();break;case"address":""!==a.state.address&&a.textInput4.focus();break;case"city":""!==a.state.city&&a.textInput5.focus();break;case"phone":""!==a.state.phone&&a.buttonSave.click()}"postalCode"!==e.target.name?a.setState(Object(j.a)({},e.target.name,e.target.value)):e.target.value.length<7&&a.setState(Object(j.a)({},e.target.name,e.target.value))},a.state={disableEdit:!0,userId:a.props.storeId,name:a.props.storeName,email:a.props.storeEmail,city:a.props.storeCity,address:a.props.storeAddress,phone:a.props.storePhone,postalCode:a.props.storePostalCode,message:"",tmp_name:"",tmp_email:"",tmp_city:"",tmp_address:"",tmp_phone:"",tmp_postalCode:"",showModal:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"formPosition"},l.a.createElement("br",null),l.a.createElement(D.a,{className:"card-settings"},l.a.createElement(D.a.Header,{className:"cardTitle"},"User Information"),l.a.createElement(O.a,{className:"formPosition"},l.a.createElement("br",null),l.a.createElement(O.a.Group,{as:X.a,controlId:"formName"},l.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Name"),l.a.createElement(q.a,{sm:8,style:{paddingLeft:"0px"}},l.a.createElement(O.a.Control,{disabled:this.state.disableEdit,type:"text",name:"name",onChange:this.handleChange,placeholder:"Your name",value:this.state.name||"",onKeyPress:this.handleChange,ref:function(t){return e.textInput1=t}}))),l.a.createElement(O.a.Group,{as:X.a,controlId:"formEmail"},l.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Email"),l.a.createElement(q.a,{sm:8,style:{paddingLeft:"0px"}},l.a.createElement(O.a.Control,{disabled:!0,type:"text",name:"email",onChange:this.handleChange,placeholder:"Your email",value:this.state.email,onKeyPress:this.handleChange,ref:function(t){return e.textInput2=t}}))),l.a.createElement(O.a.Group,{as:X.a,controlId:"formAddress"},l.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Address"),l.a.createElement(q.a,{sm:8,style:{paddingLeft:"0px"}},l.a.createElement(O.a.Control,{disabled:this.state.disableEdit,placeholder:"Type your address",type:"text",name:"address",onChange:this.handleChange,value:this.state.address||"",onKeyPress:this.handleChange,ref:function(t){return e.textInput3=t}}))),l.a.createElement(O.a.Group,{as:X.a,controlId:"formCity"},l.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"City:"),l.a.createElement(q.a,{sm:8,style:{paddingLeft:"0px"}},l.a.createElement(O.a.Control,{disabled:this.state.disableEdit,type:"text",name:"city",onChange:this.handleChange,placeholder:"Your city, please",value:this.state.city||"",onKeyDown:this.handleChange,ref:function(t){return e.textInput4=t}}))),l.a.createElement(O.a.Group,{as:X.a,controlId:"formPostalCode"},l.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Postal Code"),l.a.createElement(q.a,{sm:5,style:{paddingLeft:"0px"}},l.a.createElement(O.a.Control,{disabled:this.state.disableEdit,type:"text",name:"postalCode",onChange:this.handleChange,value:this.state.postalCode||"",placeholder:"Type your Postal Code",onKeyDown:this.handleChange,ref:function(t){return e.textInput5=t}}))),l.a.createElement(O.a.Group,{as:X.a,controlId:"formPhone"},l.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Phone"),l.a.createElement(q.a,{sm:5,style:{paddingLeft:"0px"}},l.a.createElement(G.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Enter your phone number",name:"phone",onBlur:function(t){return e.handleChange(t)},value:this.state.phone||"",onKeyPress:this.handleChange,disabled:this.state.disableEdit,ref:function(t){return e.textInput6=t}})))),l.a.createElement(D.a.Footer,{className:this.state.classNameMessage},this.state.message?this.state.message:l.a.createElement("br",null)),l.a.createElement("div",{className:"d-flex flex-column"},this.state.disableEdit?l.a.createElement(N.a,{className:"mt-3"},l.a.createElement(w.a,{variant:"info",style:Q,onClick:this.handleAskChangePassowrd},"Change Password"),l.a.createElement(w.a,{variant:"primary",style:Q,onClick:this.editForm},"Edit data")):l.a.createElement(N.a,{className:"mt-3"},l.a.createElement(w.a,{variant:"success",style:Q,onClick:this.handleSubmit,ref:function(t){return e.buttonSave=t}},"Save "),l.a.createElement(w.a,{variant:"danger",style:Q,onClick:this.btnCancel}," Cancel ")))),l.a.createElement("br",null),l.a.createElement("br",null),this.state.showModal?l.a.createElement(T,{openModal:!0,message:this.state.modalMessage,noMethod:function(){return e.setState({showModal:!1})},yesMethod:function(){"You are going to receive an email with the instructions to modify your password."===e.state.modalMessage?(e.handleChangePassword(),e.setState({showModal:!1})):e.setState({showModal:!0,modalMessage:"You are going to receive an email with the instructions to modify your password."})}}):"")}}]),t}(n.Component),$=Object(p.b)((function(e){return{storeToken:e.token,storeId:e.id,storeEmail:e.email,storeName:e.name,storeCity:e.city,storeAddress:e.address,storePostalCode:e.postalCode,storePhone:e.phone}}),(function(e){return{dispatchLogin:function(t){return e({type:"LOGIN",data:t})}}}))(Z),ee=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={name:"",nickname:"",birthday:"",mother:"",mPhone:"",mEmail:"",father:"",fPhone:"",fEmail:"",consultant:"",cPhone:"",cEmail:"",defaultRate:"",message:"",setModal:!1,className:"",validForm:!1,formValidated:!1,saveButtonType:void 0},a.handleChange=function(e){if("Enter"===e.key)switch(e.target.name){case"name":""!==a.state.name&&a.textInput2.focus();break;case"nickname":""!==a.state.nickname&&a.textInput3.focus();break;case"birthday":""!==a.state.birthday&&a.textInput4.focus();break;case"mPhone":""!==a.state.mPhone&&a.textInput6.focus();break;case"mEmail":""!==a.state.mEmail&&a.textInput7.focus();break;case"fPhone":""!==a.state.fPhone&&a.textInput9.focus();break;case"fEmail":""!==a.state.fEmail&&a.textInput10.focus();break;case"cPhone":""!==a.state.cPhone&&a.textInput12.focus();break;case"cEmail":""!==a.state.cEmail&&a.textInput13.focus();break;case"defaultRate":""!==a.state.defaultRate&&a.buttonSave.click()}a.setState(Object(j.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t,n;return M.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.name&&a.state.nickname&&a.state.defaultRate){e.next=5;break}a.setState({setModal:!0}),a.state.name?a.state.nickname?a.textInput13.focus():a.textInput2.focus():a.textInput1.focus(),e.next=18;break;case 5:return"/client",t={name:a.state.name,nickname:a.state.nickname,birthday:a.state.birthday,mother:a.state.mother,mPhone:a.state.mPhone,mEmail:a.state.mEmail,father:a.state.father,fPhone:a.state.fPhone,fEmail:a.state.fEmail,consultant:a.state.consultant,cPhone:a.state.cPhone,cEmail:a.state.cEmail,defaultRate:a.state.defaultRate},e.prev=7,e.next=10,M.a.awrap(F.a.post("/client",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 10:(n=e.sent).data.message?a.setState({message:l.a.createElement("p",null,"Client ",l.a.createElement("b",null,a.state.nickname)," has been created."),className:"messageSuccess",name:"",nickname:"",birthday:"",mother:"",mPhone:"",mEmail:"",father:"",fPhone:"",fEmail:"",consultant:"",cPhone:"",cEmail:"",defaultRate:""}):n.data.error&&a.setState({message:n.data.error,className:"messageFailure"}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),a.setState({message:e.t0.message,className:"messageFailure"});case 17:a.clearMessage();case 18:case"end":return e.stop()}}),null,null,[[7,14]])},a.clearMessage=function(){setTimeout((function(){a.setState({message:""}),a.textInput1.focus()}),3500)},a.afterChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"formPosition"},l.a.createElement("br",null),l.a.createElement(D.a,{className:"card-settings"},l.a.createElement(D.a.Header,null,"New Client"),l.a.createElement(O.a,{autoComplete:"off",className:"formPosition"},l.a.createElement(O.a.Group,{controlId:"formName"},l.a.createElement("br",null),l.a.createElement(O.a.Label,{className:"cardLabel"},"Name"),l.a.createElement(O.a.Control,{autoFocus:!0,type:"text",placeholder:"Client's name",name:"name",onChange:this.handleChange,value:this.state.name,onKeyPress:this.handleChange,ref:function(t){return e.textInput1=t}})),l.a.createElement(O.a.Group,{controlId:"formNickname"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Nickname"),l.a.createElement(O.a.Control,{type:"text",placeholder:"Client's nickname",name:"nickname",onChange:this.handleChange,value:this.state.nickname,onKeyPress:this.handleChange,ref:function(t){return e.textInput2=t}})),l.a.createElement(O.a.Group,{controlId:"formBirthday"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Birthday"),l.a.createElement(O.a.Control,{type:"date",placeholder:"Client's birthday",name:"birthday",onChange:this.handleChange,value:this.state.birthday,onKeyPress:this.handleChange,ref:function(t){return e.textInput3=t}})),l.a.createElement(O.a.Group,{controlId:"formMother"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Mother"),l.a.createElement(O.a.Control,{type:"text",placeholder:"Client's mother name",name:"mother",onChange:this.handleChange,value:this.state.mother,onKeyPress:this.handleChange,ref:function(t){return e.textInput4=t}})),l.a.createElement(O.a.Group,{controlId:"formMPhone"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Mother's Phone"),l.a.createElement(G.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Mother's phone number",name:"mPhone",id:"mPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.mPhone,onKeyPress:this.handleChange,ref:function(t){return e.textInput5=t}})),l.a.createElement(O.a.Group,{controlId:"formBasicEmail"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Mother's Email address"),l.a.createElement(O.a.Control,{type:"email",pattern:"/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/",placeholder:"Mother's email",name:"mEmail",onChange:this.handleChange,value:this.state.mEmail,onKeyPress:this.handleChange,ref:function(t){return e.textInput6=t}})),l.a.createElement(O.a.Group,{controlId:"formFather"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Father"),l.a.createElement(O.a.Control,{type:"text",placeholder:"Client's father name",name:"father",onChange:this.handleChange,value:this.state.father,onKeyPress:this.handleChange,ref:function(t){return e.textInput7=t}})),l.a.createElement(O.a.Group,{controlId:"formFPhone"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Father's Phone"),l.a.createElement(G.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Father's phone number",name:"fPhone",id:"fPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.fPhone,onKeyPress:this.handleChange,ref:function(t){return e.textInput8=t}})),l.a.createElement(O.a.Group,{controlId:"formFEmail"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Father's Email address"),l.a.createElement(O.a.Control,{type:"email",placeholder:"Father's email",name:"fEmail",onChange:this.handleChange,value:this.state.fEmail,onKeyPress:this.handleChange,ref:function(t){return e.textInput9=t}})),l.a.createElement(O.a.Group,{controlId:"formConsultant"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Consultant"),l.a.createElement(O.a.Control,{type:"text",placeholder:"Consultant's name",name:"consultant",onChange:this.handleChange,value:this.state.consultant,onKeyPress:this.handleChange,ref:function(t){return e.textInput10=t}})),l.a.createElement(O.a.Group,{controlId:"formCPhone"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Consultant's Phone"),l.a.createElement(G.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Consultant's phone number",name:"cPhone",id:"cPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.cPhone,onKeyPress:this.handleChange,ref:function(t){return e.textInput11=t}})),l.a.createElement(O.a.Group,{controlId:"formCEmail"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Consultant's Email address"),l.a.createElement(O.a.Control,{type:"email",placeholder:"Consultant's email",name:"cEmail",onChange:this.handleChange,value:this.state.cEmail,onKeyPress:this.handleChange,ref:function(t){return e.textInput12=t}})),l.a.createElement(O.a.Group,{controlId:"formDefaultRate"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Rate"),l.a.createElement(O.a.Control,{type:"number",placeholder:"Hourly rate - CAD$",name:"defaultRate",onChange:this.handleChange,value:this.state.defaultRate,onKeyPress:this.handleChange,ref:function(t){return e.textInput13=t}})),l.a.createElement(D.a.Footer,{className:this.state.className},this.state.message?this.state.message:l.a.createElement("br",null)),l.a.createElement("div",{className:"d-flex flex-column"},l.a.createElement(w.a,{variant:"primary",onClick:this.handleSubmit,ref:function(t){return e.buttonSave=t}},"Save")))),l.a.createElement("br",null),l.a.createElement("br",null),this.state.setModal?l.a.createElement(T,{openModal:this.state.setModal,message:l.a.createElement("div",null,"Please, fill at least:",l.a.createElement("ol",null,l.a.createElement("li",null,l.a.createElement("b",null,"Name"),","),l.a.createElement("li",null,l.a.createElement("b",null,"Nickname")," and"),l.a.createElement("li",null,l.a.createElement("b",null,"Rate($).")))),noMethod:function(){return e.setState({setModal:!1})}}):"")}}]),t}(n.Component),te=Object(p.b)((function(e){return{storeToken:e.token}}),null)(ee),ae=(a(174),a(41)),ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).populateDropbox=function(){return l.a.createElement(ae.a,null,l.a.createElement(ae.a.Toggle,{variant:"success",id:"dropdown-basic"},a.props.client&&a.props.client.nickname||"Select Client"),l.a.createElement(ae.a.Menu,null,a.state.clients.map((function(e,t){return l.a.createElement(ae.a.Item,{key:t,onClick:function(t){return a.changes(t,e)},name:e.nickname}," ",e.nickname," ")}))))},a.changes=function(e,t){e.preventDefault(),a.props.getClientInfo(t)},a.state={clients:void 0,errorMsg:void 0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e;return M.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return"/client",t.prev=1,t.next=4,M.a.awrap(F.a.get("/client",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.storeToken)}}));case 4:(e=t.sent).data.count&&this.setState({clients:e.data.message}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),this.setState({errorMsg:t.t0.message});case 11:case"end":return t.stop()}}),null,this,[[1,8]])}},{key:"render",value:function(){return l.a.createElement("div",null,this.state.clients?this.populateDropbox():"No clients at all")}}]),t}(n.Component),le=Object(p.b)((function(e){return{storeToken:e.token}}),null)(ne),se=function(e){console.log("client.birthday: ",e,typeof e);var t=new Date(e.substring(0,10));console.log("===> date",t);var a=t.getUTCMonth()+1,n=t.getUTCFullYear()+"-"+(a<10?"0".concat(a):a)+"-"+(t.getUTCDate()<10?"0".concat(t.getUTCDate()):t.getUTCDate());return console.log("newD",n),n},re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value||""))},a.handleSubmit=function(e){var t,n,l;return M.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.preventDefault(),t={clientId:a.state.clientId,name:a.state.name,nickname:a.state.nickname,birthday:a.state.birthday,mother:a.state.mother,mPhone:a.state.mPhone,mEmail:a.state.mEmail,father:a.state.father,fPhone:a.state.fPhone,fEmail:a.state.fEmail,consultant:a.state.consultant,cPhone:a.state.cPhone,cEmail:a.state.cEmail,default_rate:a.state.default_rate},n="/client/".concat(t.clientId),s.prev=3,s.next=6,M.a.awrap(F.a.patch(n,t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 6:(l=s.sent).data.message?l.data.newData?a.setState({message:"".concat(l.data.newData.nickname," has been changed"),name:l.data.newData.name,nickname:l.data.newData.nickname,birthday:l.data.newData.birthday?se(l.data.newData.birthday):"",mother:l.data.newData.mother,mPhone:l.data.newData.mphone,mEmail:l.data.newData.memail,father:l.data.newData.father,fPhone:l.data.newData.fphone,fEmail:l.data.newData.femail,cPhone:l.data.newData.cphone,cEmail:l.data.newData.cemail,consultant:l.data.newData.consultant,default_rate:l.data.newData.default_rate,className:"messageSuccess"}):a.setState({message:l.data.message,className:"messageSuccess"}):l.data.error&&a.setState({message:l.data.error,className:"messageFailure"}),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(3),a.setState({message:s.t0.message,className:"messageFailure"});case 13:a.clearMessage();case 14:case"end":return s.stop()}}),null,null,[[3,10]])},a.clearMessage=function(){a.setState({disableEditForm:!0}),setTimeout((function(){a.setState({message:""})}),3e3)},a.getClientInfo=function(e){var t=e._id,n=e.name,l=e.nickname,s=e.mother,r=e.father,o=e.consultant,c=e.default_rate;a.setState({clientId:t,name:n,nickname:l,birthday:e.birthday?se(e.birthday):"",mother:s,mPhone:e.mphone,mEmail:e.memail,father:r,fPhone:e.fphone,fEmail:e.femail,consultant:o,cPhone:e.cphone,cEmail:e.cemail,default_rate:c,disableEditForm:!0})},a.editForm=function(){a.setState({disableEditForm:!1,tmp_name:a.state.name,tmp_nickname:a.state.nickname,tmp_birthday:a.state.birthday,tmp_mother:a.state.mother,tmp_mPhone:a.state.mPhone,tmp_mEmail:a.state.mEmail,tmp_father:a.state.father,tmp_fPhone:a.state.fPhone,tmp_fEmail:a.state.fEmail,tmp_consultant:a.state.consultant,tmp_cPhone:a.state.cPhone,tmp_cEmail:a.state.cEmail,tmp_default_rate:a.state.default_rate})},a.btnCancel=function(){a.setState({disableEditForm:!0,name:a.state.tmp_name,nickname:a.state.tmp_nickname,birthday:a.state.tmp_birthday,mother:a.state.tmp_mother,mPhone:a.state.tmp_mPhone,mEmail:a.state.tmp_mEmail,father:a.state.tmp_father,fPhone:a.state.tmp_fPhone,fEmail:a.state.tmp_fEmail,consultant:a.state.tmp_consultant,cPhone:a.state.tmp_cPhone,cEmail:a.state.tmp_cEmail,default_rate:a.state.tmp_default_rate})},a.afterChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.state={message:"",disableEditForm:!0,clientId:"",name:"",nickname:"",birthday:"",mother:"",mPhone:"",mEmail:"",father:"",fPhone:"",fEmail:"",consultant:"",cPhone:"",cEmail:"",default_rate:"",tmp_name:"",tmp_nickname:"",tmp_birthday:"",tmp_mother:"",tmp_mPhone:"",tmp_mEmail:"",tmp_father:"",tmp_fPhone:"",tmp_fEmail:"",tmp_consultant:"",tmp_cPhone:"",tmp_cEmail:"",tmp_default_rate:"",className:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"formPosition"},l.a.createElement("br",null),l.a.createElement(D.a,{className:"card-settings"},l.a.createElement(D.a.Header,null,"Your Client's list"),l.a.createElement(D.a.Body,null,l.a.createElement(le,{getClientInfo:this.getClientInfo}),"     ")),this.state.clientId?l.a.createElement("div",null,l.a.createElement(D.a,{className:"card-settings"},l.a.createElement(O.a,{autoComplete:"off",onSubmit:this.handleSubmit,className:"formPosition"},l.a.createElement(O.a.Group,{controlId:"formName"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Name"),l.a.createElement(O.a.Control,{type:"text",placeholder:"Type the client's name",name:"name",onChange:this.handleChange,value:this.state.name||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm})),l.a.createElement(O.a.Group,{controlId:"formNickname"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Nickname"),l.a.createElement(O.a.Control,{type:"text",placeholder:"Type the client's nickname",name:"nickname",onChange:this.handleChange,value:this.state.nickname||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm})),l.a.createElement(O.a.Group,{controlId:"formBirthday"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Birthday"),l.a.createElement(O.a.Control,{type:"date",name:"birthday",onChange:this.handleChange,value:this.state.birthday||"",disabled:this.state.disableEditForm,ref:function(t){return e.birthday=t}})),l.a.createElement(O.a.Group,{controlId:"formMother"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Mother"),l.a.createElement(O.a.Control,{type:"text",placeholder:"Type the client's mother name",name:"mother",onChange:this.handleChange,value:this.state.mother||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput4=t}})),l.a.createElement(O.a.Group,{controlId:"formMPhone"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Mother's Phone"),l.a.createElement(G.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Enter mother's phone number",name:"mPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.mPhone||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput5=t}})),l.a.createElement(O.a.Group,{controlId:"formMEmail"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Mother's Email address"),l.a.createElement(O.a.Control,{type:"email",placeholder:"Type the mother's email",name:"mEmail",onChange:this.handleChange,value:this.state.mEmail||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput6=t}})),l.a.createElement(O.a.Group,{controlId:"formFather"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Father"),l.a.createElement(O.a.Control,{type:"text",placeholder:"Type the client's father name",name:"father",onChange:this.handleChange,value:this.state.father||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput7=t}})),l.a.createElement(O.a.Group,{controlId:"formFPhone"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Father's Phone"),l.a.createElement(G.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Enter father's phone number",name:"fPhone",id:"fPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.fPhone||"",onKeyPress:function(){return e.handleChange},disabled:this.state.disableEditForm,ref:function(t){return e.textInput8=t}})),l.a.createElement(O.a.Group,{controlId:"formFEmail"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Father's Email address"),l.a.createElement(O.a.Control,{type:"email",placeholder:"Type the father's email",name:"fEmail",onChange:this.handleChange,value:this.state.fEmail||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput9=t}})),l.a.createElement(O.a.Group,{controlId:"formConsultant"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Consultant"),l.a.createElement(O.a.Control,{type:"text",placeholder:"Type the consultant's name",name:"consultant",onChange:this.handleChange,value:this.state.consultant||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput10=t}})),l.a.createElement(O.a.Group,{controlId:"formCPhone"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Consultant's Phone"),l.a.createElement(G.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Enter consultant's phone number",name:"cPhone",id:"cPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.cPhone||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput11=t}})),l.a.createElement(O.a.Group,{controlId:"formCEmail"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Consultant's Email address"),l.a.createElement(O.a.Control,{type:"email",placeholder:"Type the consultant's email",name:"cEmail",onChange:this.handleChange,value:this.state.cEmail||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput12=t}})),l.a.createElement(O.a.Group,{controlId:"formDefaultRate"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Rate"),l.a.createElement(O.a.Control,{type:"text",placeholder:"Type the hourly rate - CAD$",name:"default_rate",onChange:this.handleChange,value:this.state.default_rate||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput13=t}})),l.a.createElement(D.a.Footer,{className:this.state.className},this.state.message?this.state.message:l.a.createElement("br",null)),l.a.createElement("div",{className:"d-flex flex-column"},this.state.disableEditForm?l.a.createElement(w.a,{style:{width:"100%"},onClick:this.editForm,ref:function(t){return e.textInputX=t}},"Edit"):l.a.createElement(N.a,null,l.a.createElement(w.a,{variant:"success",style:{width:"50%"},onClick:this.handleSubmit},"Save"),l.a.createElement(w.a,{variant:"warning",style:{width:"50%"},onClick:this.btnCancel},"Cancel"))))),l.a.createElement("br",null),l.a.createElement("br",null)):null)}}]),t}(n.Component),oe=Object(p.b)((function(e){return{storeToken:e.token}}),null)(re),ce=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={date:"",startingTime:"",endingTime:"",rate:"",notes:"",message:"",client:{},className:""},a.handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t,n;return M.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(e.preventDefault(),(t={date:a.state.date,timeStart:a.state.startingTime,timeEnd:a.state.endingTime,rate:a.state.rate,notes:a.state.notes?a.state.notes:void 0,clientId:a.state.client._id}).clientId&&t.date&&t.timeStart&&t.timeEnd&&t.rate){l.next=6;break}a.messageValidationMethod(),l.next=18;break;case 6:return"/clockin",l.prev=7,l.next=10,M.a.awrap(F.a.post("/clockin",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 10:(n=l.sent).data.message?(a.setState({message:"Punched in!",className:"messageSuccess"}),window.scrollTo(0,0)):n.data.error&&a.setState({message:n.data.error,className:"messageFailure"}),l.next=17;break;case 14:l.prev=14,l.t0=l.catch(7),a.setState({message:l.t0.message,className:"messageFailure"});case 17:a.clearForm();case 18:case"end":return l.stop()}}),null,null,[[7,14]])},a.messageValidationMethod=function(){a.setState({message:0===Object.entries(a.state.client).length?"Please, select client.":"Please fill the fields.",className:"messageFailure"}),a.clearMessage()},a.clearMessage=function(){setTimeout((function(){a.setState({message:""})}),3e3)},a.clearForm=function(){setTimeout((function(){a.setState({date:"",startingTime:"",endingTime:"",rate:"",notes:"",message:"",client:{}})}),3e3)},a.showTotalTime=function(){var e=Date.parse("01 Jan 1970 ".concat(a.state.startingTime,":00 GMT")),t=(Date.parse("01 Jan 1970 ".concat(a.state.endingTime,":00 GMT"))-e)/36e5,n=parseFloat(Math.round(100*t)/100).toFixed(2);return l.a.createElement(O.a.Group,{as:X.a,controlId:"formTotal"},l.a.createElement(O.a.Label,{column:!0,sm:"9"},"Total time: ",n," hr"))},a.getClientInfo=function(e){a.setState({client:e,rate:e.default_rate})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"formPosition"},l.a.createElement("br",null),l.a.createElement(D.a,{className:"card-settings"},l.a.createElement(D.a.Header,null,"PunchIn"),l.a.createElement(D.a.Body,null,l.a.createElement("div",{className:"gridClientBtContainer"},l.a.createElement(le,{client:this.state.client,getClientInfo:this.getClientInfo}),l.a.createElement("span",{className:this.state.className},this.state.message?this.state.message:"")),l.a.createElement("br",null),l.a.createElement(O.a,{onSubmit:this.handleSubmit},l.a.createElement(O.a.Group,{as:X.a,controlId:"formDate"},l.a.createElement(O.a.Label,{column:!0,sm:"3",className:"cardLabel"},"Date:"),l.a.createElement(q.a,{sm:"6"},l.a.createElement(O.a.Control,{type:"date",name:"date",onChange:this.handleChange,value:this.state.date,onKeyPress:this.handleChange,disabled:""===this.state.rate}))),l.a.createElement(O.a.Group,{as:X.a,controlId:"formST"},l.a.createElement(O.a.Label,{column:!0,sm:"3",className:"cardLabel"},"Time Start:"),l.a.createElement(q.a,{sm:"3"},l.a.createElement(O.a.Control,{type:"time",placeholder:"Starting Time",name:"startingTime",onChange:this.handleChange,value:this.state.startingTime,onKeyPress:this.handleChange,disabled:""===this.state.rate}))),l.a.createElement(O.a.Group,{as:X.a,controlId:"formET"},l.a.createElement(q.a,{sm:"3"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Time End:")),l.a.createElement(q.a,{sm:"3"},l.a.createElement(O.a.Control,{type:"time",placeholder:"Ending Time",name:"endingTime",onChange:this.handleChange,value:this.state.endingTime,onKeyPress:this.handleChange,disabled:""===this.state.rate})),l.a.createElement(q.a,{sm:"4"},this.state.endingTime&&this.state.startingTime?this.showTotalTime():null)),l.a.createElement(O.a.Group,{as:X.a,controlId:"formRate"},l.a.createElement(O.a.Label,{column:!0,sm:"3",className:"cardLabel"},"Rate"),l.a.createElement(q.a,{sm:"3"},l.a.createElement(O.a.Control,{type:"number",placeholder:this.state.rate||"Rate ($)",name:"rate",onChange:this.handleChange,onKeyPress:this.handleChange,value:this.state.rate,disabled:""===this.state.rate}))),l.a.createElement(O.a.Group,{controlId:"formBasicPassword"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Notes"),l.a.createElement(O.a.Control,{as:"textarea",rows:"3",placeholder:"Session's Notes",name:"notes",onChange:this.handleChange,value:this.state.notes,onKeyPress:this.handleChange,disabled:""===this.state.rate})),l.a.createElement(w.a,{variant:"primary",type:"submit",onClick:this.handleSubmit},"Submit")))),l.a.createElement("br",null),l.a.createElement("br",null))}}]),t}(n.Component),ie=Object(p.b)((function(e){return{storeToken:e.token}}),null)(ce),me=a(182),de=function(e){var t=new Date(e),a=t.getUTCDate()>9?t.getUTCDate():"0".concat(t.getUTCDate());return"".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getUTCMonth()]," ").concat(a,", ").concat(t.getUTCFullYear())};var ue=Object(p.b)((function(e){return{storeToken:e.token}}),null)((function(e){var t=Object(n.useState)(e.showModal),a=Object(v.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)(!1),c=Object(v.a)(o,2),i=c[0],m=c[1],d=Object(n.useState)(!1),u=Object(v.a)(d,2),h=u[0],p=u[1],E=Object(n.useState)(""),g=Object(v.a)(E,2),f=g[0],b=g[1],y=Object(n.useState)(""),C=Object(v.a)(y,2),k=C[0],I=C[1],S=e.thinScreen?"1rem":"3rem",L=function(){r(!1),e.closeModal()};return l.a.createElement("div",null,l.a.createElement(x.a,{show:s,onHide:e.closeModal},l.a.createElement(x.a.Header,{closeButton:L},l.a.createElement(x.a.Title,null,"ClockIn Information")),e.thinScreen?l.a.createElement(x.a.Body,null,l.a.createElement(D.a,{className:"card-settings",style:{marginLeft:0,backgroundColor:"lightsteelblue"}},l.a.createElement(D.a.Header,{className:"cardTitle"},"Client: ",e.client),l.a.createElement(O.a,{style:{paddingLeft:S}},l.a.createElement(X.a,null,l.a.createElement(q.a,null,l.a.createElement(O.a.Label,{column:!0,sm:3,className:"cardLabel",style:{paddingLeft:"0px"}},"Date")),l.a.createElement(q.a,null,l.a.createElement(O.a.Control,{disabled:!0,value:e.clockinData.date||"date"}))),l.a.createElement(X.a,null,l.a.createElement(q.a,null,l.a.createElement(O.a.Label,{column:!0,sm:3,className:"cardLabel",style:{paddingLeft:"0px"}},"Time Start")),l.a.createElement(q.a,null,l.a.createElement(O.a.Control,{disabled:!0,value:e.clockinData.timeStart||"timestart"}))),l.a.createElement(X.a,null,l.a.createElement(q.a,null,l.a.createElement(O.a.Label,{column:!0,sm:3,className:"cardLabel",style:{paddingLeft:"0px"}},"Time End")),l.a.createElement(q.a,null,l.a.createElement(O.a.Control,{disabled:!0,value:e.clockinData.timeEnd||"timeend"}))),l.a.createElement(X.a,null,l.a.createElement(q.a,null,l.a.createElement(O.a.Label,{column:!0,sm:3,className:"cardLabel",style:{paddingLeft:"0px"}},"Rate")),l.a.createElement(q.a,null,l.a.createElement(O.a.Control,{disabled:!0,value:e.clockinData.rate||"rate"}))),l.a.createElement(X.a,null,l.a.createElement(q.a,null,l.a.createElement(O.a.Label,{column:!0,sm:3,className:"cardLabel",style:{paddingLeft:"0px"}},"Total Time")),l.a.createElement(q.a,null,l.a.createElement(O.a.Control,{disabled:!0,value:e.clockinData.totalTime||"totaltime"}))),l.a.createElement(X.a,null,l.a.createElement(q.a,null,l.a.createElement(O.a.Label,{column:!0,sm:3,className:"cardLabel",style:{paddingLeft:"0px"}},"Total CAD$")),l.a.createElement(q.a,null,l.a.createElement(O.a.Control,{disabled:!0,value:e.clockinData.totalCad||"cad$"}))),l.a.createElement(X.a,null,l.a.createElement(q.a,null,l.a.createElement(O.a.Label,{column:!0,sm:3,className:"cardLabel",style:{paddingLeft:"0px"}},"Invoice")),l.a.createElement(q.a,null,l.a.createElement(O.a.Control,{disabled:!0,value:e.clockinData.invoice||"invoice"})))))):l.a.createElement(x.a.Body,null,l.a.createElement(D.a,{className:"card-settings",style:{marginLeft:0,backgroundColor:"lightsteelblue"}},l.a.createElement(D.a.Header,{className:"cardTitle"},"Client: ",e.client),l.a.createElement(O.a,{style:{paddingLeft:S}},l.a.createElement(O.a.Group,{as:X.a,controlId:"formDate",style:{marginBottom:0}},l.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Date"),l.a.createElement(q.a,{sm:5,style:{paddingLeft:"0px"}},l.a.createElement(O.a.Control,{disabled:!0,value:e.clockinData.date||"date"}))),l.a.createElement(O.a.Group,{as:X.a,controlId:"formTS",style:{marginBottom:0}},l.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Time Start"),l.a.createElement(q.a,{sm:5,style:{paddingLeft:"0px"}},l.a.createElement(O.a.Control,{disabled:!0,value:e.clockinData.timeStart||"timestart"}))),l.a.createElement(O.a.Group,{as:X.a,controlId:"formTE",style:{marginBottom:0}},l.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Time End"),l.a.createElement(q.a,{sm:5,style:{paddingLeft:"0px"}},l.a.createElement(O.a.Control,{disabled:!0,value:e.clockinData.timeEnd||"timeend"}))),l.a.createElement(O.a.Group,{as:X.a,controlId:"formRate",style:{marginBottom:0}},l.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Rate"),l.a.createElement(q.a,{sm:5,style:{paddingLeft:"0px"}},l.a.createElement(O.a.Control,{disabled:!0,value:e.clockinData.rate||"rate"}))),l.a.createElement(O.a.Group,{as:X.a,controlId:"formTt",style:{marginBottom:0}},l.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Total Time"),l.a.createElement(q.a,{sm:5,style:{paddingLeft:"0px"}},l.a.createElement(O.a.Control,{disabled:!0,value:e.clockinData.totalTime||"totaltime"}))),l.a.createElement(O.a.Group,{as:X.a,controlId:"formTotalCad",style:{marginBottom:0}},l.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Total $"),l.a.createElement(q.a,{sm:5,style:{paddingLeft:"0px"}},l.a.createElement(O.a.Control,{disabled:!0,value:e.clockinData.total||"CAD$"}))),l.a.createElement(O.a.Group,{as:X.a,controlId:"formInvoice",style:{marginBottom:0}},l.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Invoice"),l.a.createElement(q.a,{sm:5,style:{paddingLeft:"0px"}},l.a.createElement(O.a.Control,{disabled:!0,value:e.clockinData.invoice||"invoice"})))))),l.a.createElement(D.a.Footer,{className:k},f||l.a.createElement("br",null)),l.a.createElement(x.a.Footer,null,l.a.createElement(N.a,{className:"mt-3",style:{width:"50%"}},l.a.createElement(w.a,{variant:"primary",onClick:L,style:{width:"50%"}},"Close"),l.a.createElement(w.a,{variant:"danger",onClick:function(){e.invoice?p(!0):m(!0)},style:{width:"50%"}},"Delete")))),i?l.a.createElement(T,{openModal:i,message:"Are you sure you want to Delete this clockin?",yesMethod:function(){var t;return M.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return m(!1),"/clockin",a.prev=2,a.next=5,M.a.awrap(F.a.delete("/clockin",{data:{clockinId:e.clockinData.id},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.storeToken)}}));case 5:if(!(t=a.sent).data.error){a.next=10;break}throw t.data.error;case 10:I("messageSuccess"),b("Clocking has been deleted."),setTimeout((function(){e.deleteClockin(e.clockinData.id),e.closeModal()}),2500);case 13:a.next=20;break;case 15:a.prev=15,a.t0=a.catch(2),console.log(a.t0),I("messageFailure"),b(a.t0);case 20:case"end":return a.stop()}}),null,null,[[2,15]])},colorBtn1:"warning",colorBtn2:"success",noMethod:function(){return m(!1)}}):"",h?l.a.createElement(T,{openModal:h,message:l.a.createElement("div",null,l.a.createElement("p",null,"This clockin cannot be delete due there is a invoice related to it."),l.a.createElement("br",null),l.a.createElement("p",null,"You need to delete the invoice first.")),noMethod:function(){return p(!1)}}):"")})),he=window.innerWidth<800,pe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t,n,l,s,r;return M.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),t=a.state.dateStart,n=a.state.dateEnd,l=a.state.clientId,s="/clockin?dateStart=".concat(t,"&dateEnd=").concat(n,"&clientId=").concat(l),!l){o.next=16;break}return o.prev=4,o.next=7,M.a.awrap(F.a.get(s,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 7:(r=o.sent).data.allClockins?a.setState({clockinList:r.data.allClockins,clockInListTable:a.renderDataTable(r.data.allClockins),tableVisibility:!0,cleanButton:!0}):(a.setState({message:r.data.message,tableVisibility:!1}),setTimeout((function(){a.clearMessage()}),3e3)),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(4),a.setState({message:o.t0.message});case 14:o.next=17;break;case 16:a.messageValidationMethod();case 17:case"end":return o.stop()}}),null,null,[[4,11]])},a.editClockin=function(e){a.setState({showModal:!0,clockinToModal:e})},a.closeClockinModal=function(){a.setState({showModal:!1})},a.renderDataTable=function(e){return e.map((function(e,t){var n=new Date(e.time_start),s=new Date(e.time_end),r={id:e._id,num:t+1,date:de(e.date),timeStart:n.getUTCHours()+":"+(n.getUTCMinutes()<10?"0"+n.getUTCMinutes():n.getUTCMinutes()),timeEnd:s.getUTCHours()+":"+(s.getUTCMinutes()<10?"0"+s.getUTCMinutes():s.getUTCMinutes()),rate:e.rate,totalTime:((s-n)/36e5).toFixed(2),totalCad:((s-n)/36e5*Number(e.rate)).toFixed(2),invoice:e.invoice_id?e.invoice.code:"not yet"};return he?l.a.createElement("tr",{key:r.num,onClick:function(){return a.editClockin(r)}},l.a.createElement("td",{style:{verticalAlign:"middle"}},r.num),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.date),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.timeStart),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.totalCad),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.invoice)):l.a.createElement("tr",{key:r.num,onClick:function(){return a.editClockin(r)}},l.a.createElement("td",{style:{verticalAlign:"middle"}},r.num),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.date),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.timeStart),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.totalTime),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.total),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.invoice))}))},a.clearForm=function(){a.setState({date:"",timeStart:"",timeEnd:"",rate:"",clientId:"",message:"",client:{},tableVisibility:!1,cleanButton:!1})},a.messageValidationMethod=function(){a.setState({message:"Please, select client."}),setTimeout((function(){a.clearMessage()}),3e3)},a.clearMessage=function(){a.setState({message:""})},a.getClientInfo=function(e){a.setState({client:e,clientId:e._id,tableVisibility:!1})},a.updateClockins=function(e){var t=a.state.clockinList.filter((function(t){return t._id!==e})),n=a.renderDataTable(t);a.setState({clockinList:t,clockInListTable:n})},a.state={dateStart:"",dateEnd:"",clientId:"",clockinList:[],clockInListTable:"",tableVisibility:!1,message:"",client:{},cleanButton:!1,showModal:!1,clockinToModal:{}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"formPosition"},l.a.createElement("br",null),l.a.createElement(D.a,{className:"card-settings"},l.a.createElement(D.a.Header,null,"List of PunchIns"),l.a.createElement(D.a.Body,null,l.a.createElement("div",{className:"gridClientBtContainer"},l.a.createElement(le,{client:this.state.client,getClientInfo:this.getClientInfo}),l.a.createElement("span",null,this.state.message||"")),l.a.createElement("br",null),l.a.createElement(O.a,null,l.a.createElement(O.a.Group,{as:X.a,controlId:"formST"},l.a.createElement(O.a.Label,{column:!0,sm:"3",className:"cardLabel"},"Date Start:"),l.a.createElement(q.a,{sm:"5"},l.a.createElement(O.a.Control,{type:"date",name:"dateStart",onChange:this.handleChange,value:this.state.dateStart,disabled:""===this.state.clientId}))),l.a.createElement(O.a.Group,{as:X.a,controlId:"formET"},l.a.createElement(q.a,{sm:"3"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Date End:")),l.a.createElement(q.a,{sm:"5"},l.a.createElement(O.a.Control,{type:"date",name:"dateEnd",onChange:this.handleChange,value:this.state.dateEnd,disabled:""===this.state.clientId}))),l.a.createElement(w.a,{variant:"primary",onClick:this.handleSubmit},"Get List"),this.state.cleanButton?l.a.createElement(w.a,{variant:"info",onClick:this.clearForm},"Clean"):null))),this.state.tableVisibility?l.a.createElement(D.a,{className:"cardInvoiceGenListofClockins card"},l.a.createElement(D.a.Header,{style:{textAlign:"center"}},"Client: ",l.a.createElement("b",null,this.state.client.nickname),", ","  ",l.a.createElement("b",null,this.state.clockinList.length)," ",this.state.clockinList.length>1?"Clockins":"Clockin"),this.state.clockinList.length>0?he?l.a.createElement(me.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0},l.a.createElement("thead",{style:{textAlign:"center"}},l.a.createElement("tr",null,l.a.createElement("th",{style:{verticalAlign:"middle"}},"#"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Date"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Time Start"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"CAD$"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Invoice"))),l.a.createElement("tbody",{style:{textAlign:"center"}},this.state.clockInListTable)):l.a.createElement(me.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0},l.a.createElement("thead",{style:{textAlign:"center"}},l.a.createElement("tr",null,l.a.createElement("th",{style:{verticalAlign:"middle"}},"#"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Date"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Time Start"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Total Time"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"CAD$"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Invoice"))),l.a.createElement("tbody",{style:{textAlign:"center"}},this.state.clockInListTable)):null):null,this.state.showModal?l.a.createElement(ue,{showModal:this.state.showModal,clockinData:this.state.clockinToModal,client:this.state.client.nickname,deleteClockin:function(t){return e.updateClockins(t)},closeModal:this.closeClockinModal,thinScreen:he}):"")}}]),t}(n.Component),Ee=Object(p.b)((function(e){return{storeToken:e.token}}),null)(pe),ge=window.innerWidth<800,fe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={dateStart:"",dateEnd:"",clientId:"",clockinList:[],client:"",clockInListTable:"",tableVisibility:!1,message:"",invoiceCode:"",clockinWithInvoiceCode:!1,showModal:!1,clockinToModal:"",classNameMessage:""},a.handleChange=function(e){var t;a.setState((t={},Object(j.a)(t,e.target.name,e.target.value),Object(j.a)(t,"message",""),t))},a.handleGetClockins=function(e){var t,n,l,s,r;return M.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e.preventDefault(),t=a.state.dateStart,n=a.state.dateEnd,l=a.state.clientId,s="/clockin?dateStart=".concat(t,"&dateEnd=").concat(n,"&clientId=").concat(l),o.prev=3,o.next=6,M.a.awrap(F.a.get(s,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 6:r=o.sent,console.log("getClockins.data",r.data),r.data.allClockins?(a.setState({clockinList:r.data.allClockins,clockInListTable:a.renderDataTable(r.data.allClockins),tableVisibility:!0,clientId:l,clockinWithInvoiceCode:a.checkIfThereIsInvoiceCode(r.data.allClockins)}),a.textCode.scrollIntoView({behavior:"smooth"})):a.setState({message:"No clockins for this period.",classNameMessage:"messageFailure"}),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(3),a.setState({message:o.t0.message,classNameMessage:"messageFailure"});case 14:a.clearMessage();case 15:case"end":return o.stop()}}),null,null,[[3,11]])},a.handleInvoiceGenerator=function(e){var t,n;return M.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(e.preventDefault(),a.state.invoiceCode&&""!==a.state.invoiceCode){l.next=6;break}a.setState({message:"Please, provide Invoice's Code.",classNameMessage:"messageFailure"}),a.textCode.focus(),l.next=26;break;case 6:return t={date:new Date,dateStart:a.state.dateStart,dateEnd:a.state.dateEnd,notes:a.state.notes||"no notes at all",clientId:a.state.clientId,code:a.state.invoiceCode.toUpperCase()},"/invoice",l.prev=8,l.next=11,M.a.awrap(F.a.post("/invoice",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 11:if(n=l.sent,console.log("invoice data",n.data),!n.data.message){l.next=18;break}a.setState({message:"Invoice has been Generated!",classNameMessage:"messageSuccess",clockinWithInvoiceCode:!0}),a.getClockinsBtn.click(),l.next=19;break;case 18:throw n.data.error;case 19:l.next=26;break;case 21:l.prev=21,l.t0=l.catch(8),console.log("errrr",l.t0),a.setState({message:l.t0,classNameMessage:"messageFailure"}),a.clearMessage();case 26:case"end":return l.stop()}}),null,null,[[8,21]])},a.renderDataTable=function(e){return e.map((function(e,t){var n=new Date(e.time_start),s=new Date(e.time_end),r={id:e._id,num:t+1,date:de(e.date),timeStart:n.getUTCHours()+":"+(n.getUTCMinutes()<10?"0"+n.getUTCMinutes():n.getUTCMinutes()),timeEnd:s.getUTCHours()+":"+(s.getUTCMinutes()<10?"0"+s.getUTCMinutes():s.getUTCMinutes()),rate:e.rate,totalTime:((s-n)/36e5).toFixed(2),totalCad:((s-n)/36e5*Number(e.rate)).toFixed(2),invoice:e.invoice_id?e.invoice.code:"not yet"};return ge?l.a.createElement("tr",{key:r.num,onClick:function(){return a.editClockin(r)}},l.a.createElement("td",{style:{verticalAlign:"middle"}},r.num),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.date),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.timeStart),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.totalCad),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.invoice)):l.a.createElement("tr",{key:r.num,onClick:function(){return a.editClockin(r)}},l.a.createElement("td",{style:{verticalAlign:"middle"}},r.num),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.date),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.timeStart),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.totalTime),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.total),l.a.createElement("td",{style:{verticalAlign:"middle"}},r.invoice))}))},a.editClockin=function(e){a.setState({showModal:!0,clockinToModal:e})},a.closeClockinModal=function(){a.setState({showModal:!1})},a.updateClockins=function(e){var t=a.state.clockinList.filter((function(t){return t._id!==e})),n=a.renderDataTable(t);a.setState({clockinList:t,clockInListTable:n})},a.clearMessage=function(){setTimeout((function(){a.setState({message:"",invoiceCode:""})}),3500)},a.getClientInfo=function(e){a.setState({client:e,clientId:e._id,disabledIPBtn:!1,tableVisibility:!1})},a.handleEnter=function(e){"Enter"===e.key&&"invoiceCode"===e.target.name&&a.generatorBtn.click()},a.checkIfThereIsInvoiceCode=function(e){return e.filter((function(e){return e.invoice})).length>0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"formPosition"},l.a.createElement("br",null),l.a.createElement(D.a,{className:"card-settings"},l.a.createElement(D.a.Header,null,"Invoice Generator"),l.a.createElement(D.a.Body,null,l.a.createElement(le,{client:this.state.client,getClientInfo:this.getClientInfo})," ",l.a.createElement("br",null),l.a.createElement(O.a,{onSubmit:this.handleGetClockins},l.a.createElement(O.a.Group,{as:X.a,controlId:"formST"},l.a.createElement(O.a.Label,{column:!0,sm:"3",className:"cardLabel"},"Date Start:"),l.a.createElement(q.a,{sm:"5"},l.a.createElement(O.a.Control,{type:"date",name:"dateStart",onChange:this.handleChange,value:this.state.dateStart}))),l.a.createElement(O.a.Group,{as:X.a,controlId:"formET"},l.a.createElement(q.a,{sm:"3"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Date End:")),l.a.createElement(q.a,{sm:"5"},l.a.createElement(O.a.Control,{type:"date",name:"dateEnd",onChange:this.handleChange,value:this.state.dateEnd}))),l.a.createElement(D.a.Footer,{className:this.state.classNameMessage},this.state.message?this.state.message:l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement(w.a,{variant:"primary",type:"submit",disabled:!(this.state.dateStart&&this.state.dateEnd&&this.state.client),onClick:this.handleGetClockins,ref:function(t){return e.getClockinsBtn=t}},"Get Clockins")))),this.state.tableVisibility?l.a.createElement(D.a,{className:"cardInvoiceGenListofClockins card"},l.a.createElement(D.a.Header,{style:{textAlign:"center"}},"Client: ",l.a.createElement("b",null,this.state.client.nickname),", ",l.a.createElement("b",null,this.state.clockinList.length)," clockins"),this.state.clockinList.length>0?ge?l.a.createElement(me.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0},l.a.createElement("thead",{style:{textAlign:"center"}},l.a.createElement("tr",null,l.a.createElement("th",{style:{verticalAlign:"middle"}},"#"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Date"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Time Start"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"CAD$"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Invoice"))),l.a.createElement("tbody",{style:{textAlign:"center"}},this.state.clockInListTable)):l.a.createElement(me.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0},l.a.createElement("thead",{style:{textAlign:"center"}},l.a.createElement("tr",null,l.a.createElement("th",{style:{verticalAlign:"middle"}},"#"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Date"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Time Start"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Total Time"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"CAD$"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Invoice"))),l.a.createElement("tbody",{style:{textAlign:"center"}},this.state.clockInListTable)):null,l.a.createElement(O.a.Group,{as:X.a,controlId:"invoiceCode"},l.a.createElement(O.a.Label,{column:!0,sm:"3",className:"cardLabel"},"Code:"),l.a.createElement(q.a,{sm:"4"},l.a.createElement(O.a.Control,{sm:2,type:"text",name:"invoiceCode",placeholder:"Type Invoice's code",onKeyPress:this.handleEnter,onChange:this.handleChange,value:this.state.invoiceCode,disabled:this.state.clockinWithInvoiceCode,ref:function(t){return e.textCode=t}}))),l.a.createElement(w.a,{variant:"primary",type:"submit",disabled:this.state.clockinWithInvoiceCode,onClick:this.handleInvoiceGenerator,ref:function(t){return e.generatorBtn=t}},"Invoice's Generator"),l.a.createElement("br",null)):null,this.state.showModal?l.a.createElement(ue,{showModal:this.state.showModal,clockinData:this.state.clockinToModal,client:this.state.client.nickname,deleteClockin:function(t){return e.updateClockins(t)},closeModal:this.closeClockinModal,thinScreen:ge}):"")}}]),t}(n.Component),be=Object(p.b)((function(e){return{storeToken:e.token}}),null)(fe),ve=(a(175),a(106)),ye=a.n(ve),Ce=a(107),ke=a.n(Ce),we=a(108),Ie=a.n(we),Se=a(109),xe=a.n(Se),Ne=window.innerWidth<800?"1rem":"5rem";function Te(){return l.a.createElement("div",{className:"page-general twoThirds"},l.a.createElement("br",null),l.a.createElement("h1",{className:"main-title"},"Clockin.js"),l.a.createElement("div",{className:"content-general"},l.a.createElement("p",null,"Clockin.js allows you to have all your clients data, their clockins and invoices, in one place. It is easy to manage and track your work with them."),l.a.createElement("p",null,"The system is aimed to be responsive, providing a good visualization in both small (mobile devices) and big screens (regular computers)."),l.a.createElement("p",null,"It also carries out some safety features, such as password encryption and Two-factor authentication for some of its procedures. Plus, some operations send email, which warranties a safe copy of them, just in case. "),l.a.createElement("p",null,"The project and its source code is kept at ",l.a.createElement("a",{href:"https://github.com/tonykieling/clockinJS",target:"_blank",rel:"noopener noreferrer"},"GitHub - Clockin.js")),l.a.createElement("h2",{className:"sub-title",style:{fontWeight:"bold"}},"Contents"),l.a.createElement("div",{style:{marginLeft:Ne}},l.a.createElement("a",{href:"#id1"},l.a.createElement("h3",null,"- Functionalities")),l.a.createElement("a",{href:"#id2"},l.a.createElement("h3",null,"- System main actors")),l.a.createElement("a",{href:"#id3"},l.a.createElement("h3",null,"- Motivation")),l.a.createElement("a",{href:"#id4"},l.a.createElement("h3",null,"- Tech Stack")),l.a.createElement("a",{href:"#id5"},l.a.createElement("h3",null,"- Todo list and Releases")),l.a.createElement("a",{href:"#id6"},l.a.createElement("h3",null,"- Contact"))),l.a.createElement("h2",{className:"sub-title",id:"id1"},"Some of its functionalities"),l.a.createElement("ul",null,l.a.createElement("li",null,"User\xb4s register"),l.a.createElement("li",null,"User\xb4s login"),l.a.createElement("li",null,"User modify their own data - 2FA already added and working"),l.a.createElement("li",null,"Users are able to:"),l.a.createElement("ul",null,l.a.createElement("li",null,"Register clients,"),l.a.createElement("li",null,"List, Check, and Modify client\xb4s data,"),l.a.createElement("li",null,"Punch in their work hours (clock-ins),"),l.a.createElement("li",null,"List, Check and Edit clock-ins data,"),l.a.createElement("li",null,"Generate invoice and manage their status (generated, delivered and received),"),l.a.createElement("li",null,"List and Check invoices."))),l.a.createElement("h2",{className:"sub-title",id:"id2"},"System main actors"),l.a.createElement("ol",null,l.a.createElement("li",null,l.a.createElement("span",{className:"strong"},"User: "),"People who have clients and want to register their worked hours."),l.a.createElement("li",null,l.a.createElement("span",{className:"strong"},"Client: "),"People or organizations which the users provide their service."),l.a.createElement("li",null,l.a.createElement("span",{className:"strong"},"Clock-in: "),"It is the start and end time in which the users worked for a client."),l.a.createElement("li",null,l.a.createElement("span",{className:"strong"},"Invoice: "),"It is a set of one or more clock-ins for a particular client and period that a user wants to generate. It will contain information about the user, the client, the description of hours worked, and the total amount of money earned for the user regarding that specific client. The invoice can be generated according to the user's necessity (weekly, monthly, etc). The invoice format is complained to the Government of Canada.")),l.a.createElement("h2",{className:"sub-title",id:"id3"},"Motivation"),l.a.createElement("p",null,"I have been developing the Clockin.js application to help my wife to register data and control their worked hours for her behavior intervention clients. The system facilitates the administration of the data (hours, invoice, clients) of her clients and allows a fast and reliable emission of a monthly invoice addressed to the Autism BC."),l.a.createElement("p",null,"The system will be used for my wife to help her to control her work hours plus will automate the invoice\xb4s generation. However, this is not necessary or asked for her clients or any governmental agency of any country. It is for her own control, but it can be used for anyone. The invoices that this system will generate are complained to a public format and can be reached on the internet."),l.a.createElement("p",null,"In a general view, the system has two process: Punch-in and Invoice's generation. The first one independ to the second. It means it can be used without generate invoices, only to registering the puch-ins. The second on (invoice's process) depend on the clock-ins recorded in the system."),l.a.createElement("h2",{className:"sub-title",id:"id4"},"Teck stack"),l.a.createElement("p",null,"MERN - MongoDB, Express, React and Node, plus Redux, JWT, Bootstrap, Bcrypt, Axios, Mongoose and Nodemailer are the main technologies used."),l.a.createElement("h2",{className:"sub-title",id:"id5"},"Todo list and Releases"),l.a.createElement("p",null,"The system is in production and being used by my wife to manage her work time to her clients."),l.a.createElement("br",null),l.a.createElement("p",null,"Even though it is running, some improvements and features are being developed."),l.a.createElement("ul",null,l.a.createElement("li",null,"Better styling for some components - almost done"),l.a.createElement("li",null,"Edit and Delete Clockin - done"),l.a.createElement("li",null,"Edit and Delete Invoice - done"),l.a.createElement("li",null,"Img at Land and Quick Guidance - done"),l.a.createElement("li",null,"Reports"),l.a.createElement("li",null,"Generate a Invoice's pdf file from the system.")),l.a.createElement("h3",{className:"sub-title",id:"id6"},"Contact us"),l.a.createElement("p",null," Tony Kieling's: "),l.a.createElement("div",{className:"iconLine"},l.a.createElement("a",{href:"mailto:tony.kieling@gmail.com",target:"_top"},l.a.createElement("img",{src:ye.a,alt:"gmail",className:"iconSettings"})),l.a.createElement("a",{href:"https://www.linkedin.com/in/tony-kieling/",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("img",{src:Ie.a,className:"iconSettings",alt:"linkedin"})),l.a.createElement("a",{href:"https://github.com/tonykieling",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("img",{src:xe.a,className:"iconSettings",alt:"linkedin"})),l.a.createElement("a",{href:"https://resume.creddle.io/resume/hqaeq2fbnr6",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("img",{src:ke.a,alt:"resume",className:"iconSettings"}))),l.a.createElement("br",null),l.a.createElement("br",null)))}H.a.setAppElement("#root");var Le={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},Pe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={message:"",newStatus:"Generated"===a.props.currentStatus?"Delivered":"Received",disableButtons:!1},a.clearMessage=function(){setTimeout((function(){a.setState({message:"",disableButtons:!1})}),3500)},a.handleChangeInvoiceStatus=function(){var e,t;return M.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e={newStatus:a.state.newStatus},t="/invoice/".concat(a.props.invoice._id),n.prev=2,n.next=5,M.a.awrap(F.a.patch(t,e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 5:n.sent.data.message?(a.setState({message:"Invoice's status changed to ".concat(a.state.newStatus),disableButtons:!0}),a.props.receiveNewStatus(a.state.newStatus),setTimeout((function(){a.props.closeChangeModal()}),3500)):a.setState({message:"Something wrong happened."}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),console.log("Error:",n.t0.message);case 12:a.clearMessage();case 13:case"end":return n.stop()}}),null,null,[[2,9]])},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(H.a,{isOpen:this.props.openChangeInvoiceModal,style:Le},l.a.createElement(D.a,null,l.a.createElement(D.a.Header,{as:"h3"}," Change Invoice Status "),l.a.createElement(D.a.Body,null,l.a.createElement(D.a.Text,null,"Do you wanna change the Invoice's Status to:"),l.a.createElement(O.a,null,l.a.createElement("div",{className:"d-flex flex-column"},l.a.createElement(N.a,{className:"mt-3"},l.a.createElement(w.a,{variant:"secondary",disabled:!0},"Generated"),l.a.createElement(w.a,{disabled:!!this.state.disableButtons||"Delivered"!==this.state.newStatus,variant:"Delivered"===this.state.newStatus?"primary":"secondary",onClick:this.handleChangeInvoiceStatus},"Delivered"),l.a.createElement(w.a,{disabled:!!this.state.disableButtons||"Received"!==this.state.newStatus,variant:"Received"===this.state.newStatus?"primary":"secondary",onClick:this.handleChangeInvoiceStatus},"Received"))),l.a.createElement("span",{className:"invoiceGenMsg"},this.state.message),l.a.createElement("div",{className:"d-flex flex-column"},l.a.createElement(N.a,{className:"mt-3"},l.a.createElement(w.a,{variant:"success",onClick:this.handleChangeInvoiceStatus,disabled:this.state.disableButtons},"Yes"),l.a.createElement(w.a,{variant:"danger",onClick:this.props.closeChangeModal,disabled:this.state.disableButtons}," No ")))))))}}]),t}(n.Component),Me=Object(p.b)((function(e){return{storeToken:e.token}}),null)(Pe);var je=Object(p.b)((function(e){return{storeToken:e.token}}),null)((function(e){var t=Object(n.useState)(e.initialState),a=Object(v.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)("Deleting the invoice will set all its clockins to no invoice. Are you sure you want to delete it?"),c=Object(v.a)(o,2),i=c[0],m=c[1],d=Object(n.useState)(!1),u=Object(v.a)(d,2),h=u[0],p=u[1],E=Object(n.useState)(!1),g=Object(v.a)(E,2),f=g[0],b=g[1],y=function(){f&&e.confirmDeletion(),r(!1),e.closeDeleteModal()};return l.a.createElement("div",null,l.a.createElement(x.a,{show:s,onHide:y},l.a.createElement(x.a.Header,{closeButton:!0},l.a.createElement(x.a.Title,null,"Delete Invoice")),l.a.createElement(x.a.Body,null," ",i," "),l.a.createElement(x.a.Footer,null,h?l.a.createElement(w.a,{variant:"primary",onClick:y,style:{width:"50%"}},"Close"):l.a.createElement(N.a,{className:"mt-3",style:{width:"50%"}},l.a.createElement(w.a,{variant:"primary",onClick:function(){var t,a;return M.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t="/invoice/".concat(e.invoiceId),console.log("props",e),n.prev=2,n.next=5,M.a.awrap(F.a.delete(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.storeToken)}}));case 5:(a=n.sent).data.message?(m("Invoice ".concat(e.invoiceCode," has been delete")),b(!0)):(console.log("ERROR is present"),m(a.data.error+"!!!")),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),console.log(n.t0.message),m(n.t0.message);case 13:p(!0);case 14:case"end":return n.stop()}}),null,null,[[2,9]])},style:{width:"50%"}},"Yes"),l.a.createElement(w.a,{variant:"danger",onClick:y,style:{width:"50%"}},"No")))))})),De=window.innerWidth<800?{content:{width:"95%",height:"90%",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",overflow:"scroll"}}:{content:{width:"40%",height:"75%",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",overflow:"scroll"}},Oe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={dateStart:"",dateEnd:"",clientId:"",client:"",clockInListTable:"",tableVisibility:!1,message:"",changeStatusModal:!1,currentStatus:a.props.invoice.status,updateYN:!1,showModalDeleteInvoice:!1,invoiceDeleted:!1},a.handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.clearMessage=function(){setTimeout((function(){a.setState({message:"",invoiceCode:""})}),3500)},a.componentDidMount=function(){var e,t,n,l,s;return M.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=a.props.invoice.date_start,t=a.props.invoice.date_end,n=a.props.client._id,l="/clockin?dateStart=".concat(e,"&dateEnd=").concat(t,"&clientId=").concat(n),r.prev=2,r.next=5,M.a.awrap(F.a.get(l,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 5:(s=r.sent).data.allClockins?a.setState({clockinList:s.data.allClockins,clockInListTable:a.renderDataTable(s.data.allClockins),tableVisibility:!0}):a.setState({message:s.data.message,tableVisibility:!1}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),a.setState({message:r.t0.message,tableVisibility:!1});case 12:case"end":return r.stop()}}),null,null,[[2,9]])},a.handleChangeInvoiceStatus=function(){a.setState({changeStatusModal:!0})},a.handleDeleteInvoice=function(){console.log("It is gonna delete Invoice SOON")},a.renderDataTable=function(e){return e.map((function(e,t){var a=new Date(e.time_start),n=new Date(e.time_end),s={num:t+1,date:de(e.date),timeStart:a.getUTCHours()+":"+(a.getUTCMinutes()<10?"0"+a.getUTCMinutes():a.getUTCMinutes()),timeEnd:n.getUTCHours()+":"+(n.getUTCMinutes()<10?"0"+n.getUTCMinutes():n.getUTCMinutes()),totalTime:(n-a)/36e5,total:((n-a)/36e5*Number(e.rate)).toFixed(2),invoice:e.invoice_id?e.invoice_id:"not yet"};return l.a.createElement("tr",{key:s.num},l.a.createElement("td",{style:{verticalAlign:"middle"}},s.num),l.a.createElement("td",{style:{verticalAlign:"middle"}},s.date),l.a.createElement("td",{style:{verticalAlign:"middle"}},s.timeStart),l.a.createElement("td",{style:{verticalAlign:"middle"}},s.timeEnd),l.a.createElement("td",{style:{verticalAlign:"middle"}},s.total))}))},a.closeChangeModal=function(){a.setState({changeStatusModal:!1})},a.receiveNewStatus=function(e){a.setState({currentStatus:e,updateYN:!0})},a.backToThePrevious=function(){a.state.updateYN||a.state.invoiceDeleted?a.props.updateScreen():a.props.closeModal()},a.setShowModalDeleteInvoice=function(){a.setState({showModalDeleteInvoice:!0})},a.closeShowModalDeleteInvoice=function(){a.setState({showModalDeleteInvoice:!1})},a.confirmDeletion=function(){a.setState({invoiceDeleted:!0})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(H.a,{isOpen:this.props.openInvoiceModal,style:De},l.a.createElement(D.a,null,l.a.createElement(D.a.Header,{as:"h3"},"Invoice: ",this.props.invoice.code),l.a.createElement(D.a.Body,null,l.a.createElement(D.a.Title,{style:{fontWeight:"bold",fontSize:"large"}}," Client: ",this.props.client.nickname),l.a.createElement(O.a,null,l.a.createElement(O.a.Label,{style:{left:"2rem"}},l.a.createElement("b",null,"Total: $"),this.props.invoice.total_cad.toFixed(2)),l.a.createElement("br",null),l.a.createElement(O.a.Label,{style:{left:"2rem"}},l.a.createElement("b",null,"Date Generated:")," ",de(this.props.invoice.date)),l.a.createElement("br",null),l.a.createElement(O.a.Label,{style:{left:"2rem"}},l.a.createElement("b",null,"Date Start: ")," ",de(this.props.invoice.date_start)),l.a.createElement("br",null),l.a.createElement(O.a.Label,null,l.a.createElement("b",null,"Date End: ")," ",de(this.props.invoice.date_end)),l.a.createElement("div",{className:"d-flex flex-column"},this.state.invoiceDeleted?l.a.createElement(w.a,{style:{width:"100%"},variant:"warning",disabled:!0},"Invoice already deleted."):l.a.createElement(N.a,{className:"mt-3"},l.a.createElement(w.a,{style:{width:"50%"},variant:"info",disabled:"Received"===this.state.currentStatus,onClick:this.handleChangeInvoiceStatus},this.state.currentStatus),l.a.createElement(w.a,{style:{width:"50%"},variant:"danger",disabled:"Received"===this.state.currentStatus,onClick:this.setShowModalDeleteInvoice}," Delete ")))))),this.state.changeStatusModal?l.a.createElement(Me,{invoice:this.props.invoice,closeChangeModal:this.closeChangeModal,receiveNewStatus:this.receiveNewStatus,currentStatus:this.state.currentStatus,openChangeInvoiceModal:this.state.changeStatusModal}):"",this.state.tableVisibility?l.a.createElement(D.a,{className:"cardInvoiceGenListofClockinsModal card"},l.a.createElement(D.a.Footer,{style:{fontSize:"x-large",textAlign:"center",fontWeight:"bold"}},"Invoice's Clockins List:"),l.a.createElement(me.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",{style:{textAlign:"center"}},l.a.createElement("th",{style:{verticalAlign:"middle"}},"#"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Date"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Time Start"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"Time End"),l.a.createElement("th",{style:{verticalAlign:"middle"}},"CAD$"))),l.a.createElement("tbody",{style:{textAlign:"center"}},this.state.clockInListTable))):l.a.createElement(D.a,null,l.a.createElement(D.a.Title,null,this.state.message)),l.a.createElement(w.a,{variant:"primary",onClick:this.backToThePrevious},"Close Window"),this.state.showModalDeleteInvoice?l.a.createElement(je,{initialState:this.state.showModalDeleteInvoice,closeDeleteModal:this.closeShowModalDeleteInvoice,invoiceCode:this.props.invoice.code,invoiceId:this.props.invoice._id,confirmDeletion:this.confirmDeletion}):"")}}]),t}(n.Component),Ae=Object(p.b)((function(e){return{storeToken:e.token}}),null)(Oe),Fe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={dateStart:"",dateEnd:"",clientId:"",invoiceList:[],client:"",invoiceListTable:"",tableVisibility:!1,message:"",openInvoiceModal:!1,invoice:""},a.handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.handleGetInvoices=function(e){var t,n,l,s,r;return M.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),t=a.state.dateStart,n=a.state.dateEnd,l=a.state.clientId,a.state.clientId){o.next=6;break}a.setState({message:"Select a client.",classNameMessage:"messageFailure"}),o.next=17;break;case 6:return s="/invoice?dateStart=".concat(t,"&dateEnd=").concat(n,"&clientId=").concat(l),o.prev=7,o.next=10,M.a.awrap(F.a.get(s,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 10:(r=o.sent).data.allInvoices?a.setState({invoiceList:r.data.allInvoices,invoiceListTable:a.renderDataTable(r.data.allInvoices),tableVisibility:!0,clientId:l}):a.setState({message:"No Invoices for this period.",classNameMessage:"messageFailure",tableVisibility:!1}),o.next=17;break;case 14:o.prev=14,o.t0=o.catch(7),a.setState({message:o.t0.message,classNameMessage:"messageFailure"});case 17:a.clearMessage();case 18:case"end":return o.stop()}}),null,null,[[7,14]])},a.renderDataTable=function(e){return e.map((function(e,t){var n={num:t+1,date:de(e.date),totalCad:e.total_cad,code:e.code,status:e.status};return l.a.createElement("tr",{key:n.num,onClick:function(){return a.invoiceEdit(e)}},l.a.createElement("td",null,n.num),l.a.createElement("td",null,n.date),l.a.createElement("td",null,n.totalCad.toFixed(2)),l.a.createElement("td",null,n.code),l.a.createElement("td",null,n.status))}))},a.clearMessage=function(){setTimeout((function(){a.setState({message:"",invoiceCode:""})}),3500)},a.getClientInfo=function(e){a.setState({client:e,clientId:e._id,disabledIPBtn:!1,tableVisibility:!1})},a.invoiceEdit=function(e){a.setState({openInvoiceModal:!0,invoice:e})},a.closeModal=function(){a.setState({openInvoiceModal:!1})},a.updateScreen=function(){a.closeModal(),a.getInvoicesBtn.click()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"formPosition"},l.a.createElement("br",null),this.state.openInvoiceModal?l.a.createElement(Ae,{invoice:this.state.invoice,client:this.state.client,closeModal:this.closeModal,updateScreen:this.updateScreen,openInvoiceModal:this.state.openInvoiceModal}):"",l.a.createElement(D.a,{className:"card-settings"},l.a.createElement(D.a.Header,null,"Invoice's List and Edit"),l.a.createElement(D.a.Body,null,l.a.createElement(le,{client:this.state.client,getClientInfo:this.getClientInfo})," ",l.a.createElement("br",null),l.a.createElement(O.a,{onSubmit:this.handleGetInvoices},l.a.createElement(O.a.Group,{as:X.a,controlId:"formST"},l.a.createElement(O.a.Label,{column:!0,sm:"3",className:"cardLabel"},"Date Start:"),l.a.createElement(q.a,{sm:"5"},l.a.createElement(O.a.Control,{type:"date",name:"dateStart",onChange:this.handleChange,value:this.state.dateStart}))),l.a.createElement(O.a.Group,{as:X.a,controlId:"formET"},l.a.createElement(q.a,{sm:"3"},l.a.createElement(O.a.Label,{className:"cardLabel"},"Date End:")),l.a.createElement(q.a,{sm:"5"},l.a.createElement(O.a.Control,{type:"date",name:"dateEnd",onChange:this.handleChange,value:this.state.dateEnd}))),l.a.createElement(D.a.Footer,{className:this.state.classNameMessage},this.state.message?this.state.message:l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement(w.a,{variant:"primary",type:"submit",onClick:this.handleGetInvoices,ref:function(t){return e.getInvoicesBtn=t}},"Get Invoices")))),this.state.tableVisibility?l.a.createElement(D.a,{className:"cardInvoiceGenListofInvoices card"},l.a.createElement(D.a.Header,{style:{textAlign:"center"}},"Client: ",l.a.createElement("b",null,this.state.client.nickname),", ","  ",l.a.createElement("b",null,this.state.invoiceList.length)," ",this.state.invoiceList.length>1?"Invoices":"Invoice"),this.state.invoiceList.length>0?l.a.createElement("div",null,l.a.createElement(me.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",{style:{textAlign:"center",verticalAlign:"middle"}},l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"CAD$"),l.a.createElement("th",null,"Code"),l.a.createElement("th",null,"Status"))),l.a.createElement("tbody",{style:{textAlign:"center"}},this.state.invoiceListTable))):null):null)}}]),t}(n.Component),Be=Object(p.b)((function(e){return{storeToken:e.token}}),null)(Fe),Ge=a(183),Re=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={newPassword:"",confirmPassword:"",code:"",url:"",user:"",cancel:!1,logged:!1,newResetPassword:!1,message:""},a.handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value)),"Enter"===e.key&&"newPassword"===e.target.name&&""!==e.target.value?(a.textInput2.focus(),e.preventDefault()):"Enter"===e.key&&"confirmPassword"===e.target.name&&""!==e.target.value&&(a.handleSubmit(e),e.preventDefault())},a.handleSubmit=function(e){var t,n,l;return M.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),""!==a.state.newPassword){s.next=5;break}alert("New Password and Confirm Password have to be the same and not empty!"),s.next=21;break;case 5:if(a.state.newPassword===a.state.confirmPassword){s.next=9;break}alert("New Password and Confirm Password have to be the same."),s.next=21;break;case 9:return t="/user".concat(a.state.url),s.prev=10,s.next=13,M.a.awrap(F.a.post(t,{data:{userId:a.state.user._id,newPassword:a.state.newPassword}}));case 13:(n=s.sent).data.message?((l=n.data.user).id=n.data.user._id,l.token=n.data.token,a.props.dispatchLogin({user:l}),a.setState({logged:!0})):a.setState({message:n.data.error,classNameMessage:"messageFailure"}),s.next=20;break;case 17:s.prev=17,s.t0=s.catch(10),a.setState({message:s.t0.message,classNameMessage:"messageFailure"});case 20:a.clearMsg();case 21:case"end":return s.stop()}}),null,null,[[10,17]])},a.clearMsg=function(){setTimeout((function(){a.setState({message:""})}),3500)},a.cancelResetPassword=function(){a.setState({cancel:!0})},a.componentDidMount=function(){var e,t,n,l;return M.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=Object(h.f)(window.location.pathname,{path:"/reset_password/:param",exact:!0,strict:!1}),s.prev=1,t="/user/get_by_code/".concat(e.params.param),s.next=5,M.a.awrap(F.a.get(t,{data:{code:a.state.code}}));case 5:(n=s.sent).data.message?a.setState({user:n.data.user,code:e.params.param,url:e.url}):(l={name:"<code is invaild>"},a.setState({user:n.data.code?n.data.user.name:l,message:n.data.error,classNameMessage:"messageFailure"}),setTimeout((function(){a.setState({newResetPassword:!0})}),5e3)),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(1),a.setState({message:s.t0.message,classNameMessage:"messageFailure"});case 12:a.clearMsg();case 13:case"end":return s.stop()}}),null,null,[[1,9]])},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state.cancel||this.state.newResetPassword?l.a.createElement(h.a,{to:"/login"}):this.state.logged?l.a.createElement(h.a,{to:"/"}):l.a.createElement("div",null,l.a.createElement("div",{className:"formPosition"},l.a.createElement("br",null),l.a.createElement("h3",null,"Reset Password"),l.a.createElement("br",null),l.a.createElement("p",null,"Hi ",l.a.createElement("b",null,this.state.user?this.state.user.name.split(" ")[0]:"")),l.a.createElement("br",null),l.a.createElement(D.a,{className:"card-settings"},l.a.createElement(O.a,{onSubmit:this.handleSubmit},l.a.createElement(O.a.Group,{controlId:"formBasicEmail"},l.a.createElement(O.a.Label,null,"New password"),l.a.createElement(O.a.Control,{autoFocus:!0,type:"password",placeholder:"Type new password",name:"newPassword",onChange:this.handleChange,onKeyPress:this.handleChange,value:this.state.newPassword,ref:function(t){return e.textInput1=t}}),l.a.createElement(O.a.Text,{className:"text-muted"},"Never share your password. ;)")),l.a.createElement(O.a.Group,{controlId:"formBasicPassword"},l.a.createElement(O.a.Label,null,"Confirm New Password"),l.a.createElement(O.a.Control,{type:"password",placeholder:"Confirm New Password",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleChange,onKeyPress:this.handleChange,ref:function(t){return e.textInput2=t}})),l.a.createElement(Ge.a,{className:this.state.classNameMessage},this.state.message),l.a.createElement("br",null),l.a.createElement("div",{className:"d-flex flex-column"},l.a.createElement(N.a,{className:"mt-3"},l.a.createElement(w.a,{variant:"primary",type:"submit"},"Submit"),l.a.createElement(w.a,{variant:"danger",onClick:this.cancelResetPassword},"Cancel")))))))}}]),t}(n.Component),_e=Object(p.b)(null,(function(e){return{dispatchLogin:function(t){return e({type:"LOGIN",data:t})}}}))(Re);function Ue(){return l.a.createElement("div",{className:"page-general twoThirds"},l.a.createElement(D.a,null,l.a.createElement(D.a.Header,{style:{textAlign:"center"}},"Quick Guidance"),l.a.createElement(D.a.Body,null,l.a.createElement(D.a.Title,{style:{backgroundColor:""}},"With Clockin.js you are able to manage data about your clients, work times and invoices."),"Each set of actions described below are reached by its own menu.",l.a.createElement(D.a,{style:{marginTop:"1rem"}},l.a.createElement(D.a.Header,{style:{fontSize:"h4"}},"1- Sign Up"),l.a.createElement(D.a.Body,null,"Here you you enter you info"),l.a.createElement(D.a.Body,{style:{paddingTop:"0px"}},"If you set a real email you are going to receive emails when you punch in and set more security to your account - change data and password only occurs by receiving a code in your email.")),l.a.createElement(D.a,{style:{marginTop:"1rem"}},l.a.createElement(D.a.Header,{style:{fontSize:"h4"}},"2- Input data of your Clients"),l.a.createElement(D.a.Body,null,"The system also allows you to have client's contact info stored."),l.a.createElement(D.a.Body,{style:{paddingTop:"0px"}},"You can have one or multiples clients. (none also but it would not be the point :D)")),l.a.createElement(D.a,{style:{marginTop:"1rem"}},l.a.createElement(D.a.Header,{style:{fontSize:"h4"}},"3- PunchIn"),l.a.createElement(D.a.Body,null,"Each time you work to a client you register the time about it - punch in."),l.a.createElement(D.a.Body,{style:{paddingTop:"0px"}},"For every Punch in, Clockin.js will send you an email with all info you registered. It is a way to double register."),l.a.createElement(D.a.Body,{style:{paddingTop:"0px"}},"You can also delete punchins.")),l.a.createElement(D.a,{style:{marginTop:"1rem"}},l.a.createElement(D.a.Header,{style:{fontSize:"h4"}},"4- Generate invoices"),l.a.createElement(D.a.Body,null,"At the end of a period we need to invoice a client."),l.a.createElement(D.a.Body,{style:{paddingTop:"0px"}},"For that, you go to Invoices menu, select the client, specify the period, set a code for the invoice and generate it."),l.a.createElement(D.a.Body,{style:{paddingTop:"0px"}},"Afterwars, you can check the invoice and its clockins."),l.a.createElement(D.a.Body,{style:{paddingTop:"0px"}},"Also, you can delete the invoice and manage their status wich are:"),l.a.createElement(D.a.Body,{style:{paddingTop:"0px",paddingLeft:"2rem"}},l.a.createElement("b",null,"1) Generated"),", after steps above,"),l.a.createElement(D.a.Body,{style:{paddingTop:"0px",paddingLeft:"2rem"}},l.a.createElement("b",null,"2) Delivered"),", when you handle the invoice to your client, and"),l.a.createElement(D.a.Body,{style:{paddingTop:"0px",paddingLeft:"2rem"}},l.a.createElement("b",null,"3) Received"),", when you get the earning$ in your pockets.")),l.a.createElement(D.a.Body,{style:{marginTop:"1rem"}},"It is easy and helpful."),l.a.createElement(D.a.Body,{style:{paddingTop:"0px"}},"Let's get started!"),l.a.createElement(D.a.Body,{style:{paddingTop:"0px"}},"More info, motivation and tech topics at ",l.a.createElement(u.b,{to:"/about"},"About Clockin.js")),l.a.createElement(D.a.Body,{style:{paddingTop:"0px",paddingBottom:"0px"}},"Kind regards from"),l.a.createElement(D.a.Body,{style:{paddingTop:"0px",paddingLeft:"2rem",fontWeight:"bold"}},"Clockin.js Team :)"))))}var He=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(u.a,null,l.a.createElement("div",null,l.a.createElement(L,null),l.a.createElement(h.d,null,l.a.createElement(h.b,{exact:!0,path:"/",render:function(){return e.props.storeEmail?l.a.createElement(W,null):l.a.createElement(h.a,{to:"/land"})}}),l.a.createElement(h.b,{exact:!0,path:"/user",render:function(){return e.props.storeEmail?l.a.createElement($,null):l.a.createElement(h.a,{to:"/land"})}}),l.a.createElement(h.b,{exact:!0,path:"/land",render:function(){return e.props.storeEmail?l.a.createElement(h.a,{to:"/"}):l.a.createElement(f,null)}}),l.a.createElement(h.b,{exact:!0,path:"/register",render:function(){return e.props.storeEmail?l.a.createElement(h.a,{to:"/"}):l.a.createElement(_,null)}}),l.a.createElement(h.b,{exact:!0,path:"/login",render:function(){return e.props.storeEmail?l.a.createElement(h.a,{to:"/"}):l.a.createElement(J,null)}}),l.a.createElement(h.b,{exact:!0,path:"/clientNew",render:function(){return e.props.storeEmail?l.a.createElement(te,null):l.a.createElement(J,null)}}),l.a.createElement(h.b,{exact:!0,path:"/clientList",render:function(){return e.props.storeEmail?l.a.createElement(oe,null):l.a.createElement(J,null)}}),l.a.createElement(h.b,{exact:!0,path:"/punchInNew",render:function(){return e.props.storeEmail?l.a.createElement(ie,null):l.a.createElement(J,null)}}),l.a.createElement(h.b,{exact:!0,path:"/punchInsList",render:function(){return e.props.storeEmail?l.a.createElement(Ee,null):l.a.createElement(J,null)}}),l.a.createElement(h.b,{exact:!0,path:"/invoiceNew",render:function(){return e.props.storeEmail?l.a.createElement(be,null):l.a.createElement(J,null)}}),l.a.createElement(h.b,{exact:!0,path:"/invoicesList",render:function(){return e.props.storeEmail?l.a.createElement(Be,null):l.a.createElement(J,null)}}),l.a.createElement(h.b,{path:"/reset_password"},l.a.createElement(_e,null)),l.a.createElement(h.b,{exact:!0,path:"/about"},l.a.createElement(Te,null)),l.a.createElement(h.b,{exact:!0,path:"/guidance"},l.a.createElement(Ue,null)),l.a.createElement(h.b,{component:b}))))}}]),t}(n.Component),Ke=Object(p.b)((function(e){return{storeEmail:e.email}}),null)(He),ze=a(51),Ve=a(75),Ye=function(){try{var e={id:localStorage.getItem("id"),name:localStorage.getItem("name"),email:localStorage.getItem("email"),token:localStorage.getItem("token"),address:localStorage.getItem("address"),city:localStorage.getItem("city"),postalCode:localStorage.getItem("postalCode"),phone:localStorage.getItem("phone")};return e||void 0}catch(t){return}},Je=function(e){try{localStorage.setItem("id",e.id),localStorage.setItem("email",e.email),localStorage.setItem("name",e.name),localStorage.setItem("token",e.token),localStorage.setItem("city",e.city),localStorage.setItem("address",e.address),localStorage.setItem("postalCode",e.postalCode),localStorage.setItem("phone",e.phone)}catch(t){return t.message}},We=function(){localStorage.removeItem("id"),localStorage.removeItem("name"),localStorage.removeItem("email"),localStorage.removeItem("token"),localStorage.removeItem("address"),localStorage.removeItem("city"),localStorage.removeItem("postalCode"),localStorage.removeItem("phone")},Xe={},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0,a=Object(Ve.a)({},e);return"LOGIN"===t.type?(a=Object(Ve.a)({},e,{id:t.data.user.id,email:t.data.user.email,name:t.data.user.name,token:t.data.user.token,address:t.data.user.address,city:t.data.user.city,postalCode:t.data.user.postalCode,phone:t.data.user.phone}),Je(a)):"LOGOUT"===t.type?(a={id:void 0,email:void 0,name:void 0,token:void 0,address:void 0,city:void 0,postalCode:void 0,phone:void 0},We()):"SETCLIENT"===t.type&&console.log("error on SETCLIENT in reducer.js"),a},Qe={id:Ye().id,email:Ye().email,name:Ye().name,token:Ye().token,address:Ye().address,city:Ye().city,postalCode:Ye().postalCode,phone:Ye().phone},Ze=Object(ze.b)(qe,Qe);Ze.subscribe((function(){}));var $e=Ze;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(p.a,{store:$e},l.a.createElement(Ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},97:function(e,t,a){e.exports=a.p+"static/media/clockinjs.9e3a6c84.png"}},[[110,1,2]]]);
//# sourceMappingURL=main.1b19f7e8.chunk.js.map