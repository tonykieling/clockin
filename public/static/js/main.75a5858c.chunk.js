(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{105:function(e,t,a){e.exports=a.p+"static/media/gmail.96cdc794.svg"},106:function(e,t,a){e.exports=a.p+"static/media/resume.1f84e97a.svg"},107:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAGq0lEQVR4Xt2XW2xcRxnHfzNndtcXNnEbxzHGNYnTJKRcGhRQQ1HVVFxTqiIuUkGorYSQqAQSd4k+hCLBA0VCSPCCKh5paVUEotxUSMhDEVCkNA0JxUlMnUIcx46dEK/X3ss582F90hGxzxkdqUplb37SaOX1/9sz//0uM2sAGH3XB7o/9Lnv79i2dXfFCsL6xgCLCXLq9Jmj8TPf+3z/wsTzhptvf//oA488/el379ww2BPRERhA4Ox8zGNH/j7T+OV33mN6vvjUxJc/uHfrTVXHUtvTSfSWI07MtXj813/4hbtpaHBr1cHcYptOYyn2bC7DltFde12EZzH2eC9g6CiMgXYiRJGLXOxFS8qLEAZEBNFgMJh1YkRoJ5B4Ly7xwmKcBI14D83EU4kMkTU0Yg9Axdl1kxERcInAUluNZFTtxNNdirjnlgH2DFXpchEXak0Oj89xbPIKXc6uCyMewYx8+5Dcsb0fWWUk8dBVsjx813Z2be5lNT/+23/47dhFNQqyZlO47YVj5/57TktrKfarjWiW7rt1RE3k8cDeYY5OzjN5pYGLzJoa8VpaCM04WWHEC7q520b6CFGOjJbbP2dqOs/X0oiI4LyHlmaEFBIRKpGjp2CDGyqOZiyUrLBWxF4QwHkRWn6lERGYW2pxcaFFX5cjxMTlJdre0/JmTY14ETWi41WEFdRbCT87OcXD+7eTx/RCi8PjsxiDxq9pRgSc1zrLGilFhp8eP89IXzef2jO0ykSTr/1ujKnl1+6Sxfv1Ulpx1ggGEi9889BpDo1f5M7RTdoTZ2br/GZshslag55SpLFrSZw2uwi09A+yGLAWDr88x+/HZzGAgB6EpcjSSq5FJgQBDADm1WdERPCJIORkJBFaiV/xCAM0Y6+Z0JMdg6KnrNdU5+GsUfOANmej7TXjLjJExuh7ab2XndUrUbEx8P83krrKCvp7ywxv7CIHzcbp2QXdAKCbesOydmA5Jo+ZhRbnaw0a+gVY9o9u4s5tN3Lzpl6qlUjfX9ZwYrrGcxOXOHmhpn1ajixCmPbVpZX4rLTWiLnvbUN89+43kcf5+SZ3PfYX6nFCZIzqH9w/zEP7Rsjjh38+y5d+9RJ37xrg4Ht38M7hjeTxsbcMahX8/OQFvnV4nNl6U69BEs4IAE4QLaHQfA4hoHEaa4r1Vxox996yhSc++faiy6Zm4RO3DvHWwSof/8kLzNXblJ0hx40mwUpaWiJZgYiuEFrTugQp1rPn9Rv47G0jOSbCvHlLlUcP7Ob+p17EGpvXMvr8Utojks2IvieeMJJq1AgSC4T13LN7gFfBchYHuH2kjz9NXNJxvxrxAtbgQJslK1CHQhiNQ40Y1SMIrwUfXe6bI2dmEWdz92mMwQkEjBRvSwTUiE2NkyE0KMama3p+7ezvZXRTD2Fg3xtv0Bu29oPJ7iGOYxyBL169FTS7yKpFMY8e+Rc/eG6Cy4st1feWHV+4YxsH37eDAHpN2txbZmq+qSP5aqwx1BfquHSE5U0DkcLDSJcBfS0KeOKFSb6+PIJf1+XSpqcVJzzy7CneMbyRA/l9pFejG7tL/PvyEpGxXI0H0pOdJDC1PEKGvMkmqT6MCPzor68QOYO1qgfAWBCEJ4+fDxoxBjXf9p6SGK4mQcF53RBZPCQFUytJY3WBF4JcWGgyNlPHWbvycwUdradm6kj4UqLXm9hn9xqj4CCwgYJmF43ThZFUH4zQH2m1ZpvQ86402nqiVyILEJqimVg1L4JLRRmEIjROlxTrG3FCnAiRMTmGBb1wJkIlCg8X1ItkjaQHYoLkhnop6BFEl0LBcEifk1M+Pv2cMHiAHF2SGglOWYHicyRdxXqVhDTFAw+RfJ2gYLlOcKGSKCp8yfRISF88QLKpCqYtt0ckLS1PLsXpRsFn9GF8YMT6ojgJ6K6/0pJwJou7fcUq5Bo9K4PINc2IsCaIUCo5HIoUbawwbcV6eW1S4oVqX/V66pHwgagXtRDVioOrDymBShQRoqes+vzcCRiM/ngK4azJPzgFxRGiFPHH8Vk+8/TxTLABas2YZuLBmFTP48fO8Y/pefxqvYGZWlO1GLJYw9xiiweffJGSNQjZ552YqoGzhDB85RkJ/AdiD20fioSKW6FXbRzQWwPliCACNGNCaKw1ZEiEgRt6zqkROpjUiKXzQcBYhI7HGZPYDRV7FjF0LLFnz3DfUfuR6tRDDr9AVKKzMECEM/HsV/cNfsPurVx+9l770oeZfvl5jG13jIkkafTHl47cv/GVAzu7Gif/B1VhQDg89RGeAAAAAElFTkSuQmCC"},108:function(e,t,a){e.exports=a.p+"static/media/github.0ba2aa20.png"},109:function(e,t,a){e.exports=a(175)},114:function(e,t,a){},116:function(e,t,a){},125:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(19),r=a.n(l),o=(a(114),a(9)),c=a(10),i=a(12),m=a(11),d=a(13),u=a(24),h=a(38),p=(a(115),a(116),a(6));function E(){return s.a.createElement("div",{className:"formPosition"},s.a.createElement("br",null),s.a.createElement("h2",null,"This is Land page"),s.a.createElement("p",null,"Need to add a picture..."))}function g(){return s.a.createElement("div",null,s.a.createElement("h2",null," <404> NoNo page at all.."))}var f=a(40),b=a(185),v=a(186),C=a(179),y=a(100),k=a(97),w=a.n(k),I=(a(125),a(184)),S=a(178);function N(e){return s.a.createElement("div",null,s.a.createElement(I.a,{show:e.openModal,onHide:e.noMethod},s.a.createElement(I.a.Header,{closeButton:!0},s.a.createElement(I.a.Title,null,"Clockin.js")),s.a.createElement(I.a.Body,null,e.message),s.a.createElement(I.a.Footer,null,e.yesMethod?s.a.createElement(S.a,{className:"mt-3",style:{width:"50%"}},s.a.createElement(y.a,{variant:e.color||"primary",onClick:e.yesMethod,style:{width:"50%"}},"Yes"),s.a.createElement(y.a,{variant:e.color||"danger",onClick:e.noMethod,style:{width:"50%"}},"No")):s.a.createElement(y.a,{autoFocus:!0,variant:e.color||"primary",onClick:e.noMethod,style:{width:"50%"}},"OK"))))}var P=Object(p.b)((function(e){return{storeEmail:e.email}}),(function(e){return{noUser:function(){return e({type:"LOGOUT"})}}}))((function(e){var t=Object(n.useState)(!1),a=Object(f.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)(!1),c=Object(f.a)(o,2),i=c[0],m=c[1],d=function(e){e.preventDefault(),m(!1),r(!0)};return s.a.createElement("div",null,e.storeEmail?s.a.createElement("div",null,s.a.createElement(b.a,{bg:"primary showNormalMenu"},s.a.createElement(b.a.Brand,null,s.a.createElement(u.b,{to:"/",className:"navbar-brand"}," ClockinJS ")),s.a.createElement(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),s.a.createElement(b.a.Collapse,{id:"basic-navbar-nav"},s.a.createElement(v.a,{className:"mr-auto"},s.a.createElement(u.b,{to:"/user",className:"nav-link"},e.storeEmail," is logged"),s.a.createElement(C.a,{title:"Clients",id:"basic-nav-dropdown1"},s.a.createElement(C.a.Item,{href:"clientNew"},"Add New One"),s.a.createElement(C.a.Divider,null),s.a.createElement(C.a.Item,{href:"/clientList"}," List ")),s.a.createElement(C.a,{title:"Clockins",id:"basic-nav-dropdown2"},s.a.createElement(C.a.Item,{href:"punchInNew"}," Punch in "),s.a.createElement(C.a.Divider,null),s.a.createElement(C.a.Item,{href:"punchInsList"},"List them all")),s.a.createElement(C.a,{title:"Invoices",id:"basic-nav-dropdown3"},s.a.createElement(C.a.Item,{href:"invoiceNew"},"Generate a brand new one"),s.a.createElement(C.a.Divider,null),s.a.createElement(C.a.Item,{href:"invoicesList"},"List, Check and Edit")),s.a.createElement(u.b,{to:"/about",className:"nav-link"},"About")),s.a.createElement(y.a,{onClick:d,className:"logoutBtn"},"Logout"))),s.a.createElement("div",{className:"showHamburguer"},s.a.createElement(b.a,{bg:"info"},s.a.createElement(u.b,{to:"/",className:"nav-link"},"ClockinJS"),s.a.createElement(u.b,{to:"/user",className:"nav-link"},e.storeEmail),s.a.createElement(w.a,{right:!0,isOpen:i,onStateChange:function(e){return function(e){m(e.isOpen)}(e)}},s.a.createElement(C.a,{title:"Clients",id:"basic-nav-dropdown1",className:"menu-item"},s.a.createElement(C.a.Item,{href:"clientNew",className:"menu-item"},"Add New One"),s.a.createElement(C.a.Divider,null),s.a.createElement(C.a.Item,{href:"clientList"}," List ")),s.a.createElement("br",null),s.a.createElement(C.a,{title:"Clockins",id:"basic-nav-dropdown2"},s.a.createElement(C.a.Item,{href:"punchInNew"}," Punch in "),s.a.createElement(C.a.Divider,null),s.a.createElement(C.a.Item,{href:"punchInsList"},"List them all")),s.a.createElement("br",null),s.a.createElement(C.a,{title:"Invoices",id:"basic-nav-dropdown3",className:"font-color"},s.a.createElement(C.a.Item,{href:"invoiceNew"},"Generate a brand new one"),s.a.createElement(C.a.Divider,null),s.a.createElement(C.a.Item,{href:"invoicesList"},"List, Check and Edit")),s.a.createElement("br",null),s.a.createElement("a",{id:"about",className:"menu-item",href:"/about"},"About"),s.a.createElement("br",null),s.a.createElement("a",{onClick:d,className:"menu-item--small",href:"/"},"Logout"))))):s.a.createElement(b.a,{bg:"dark",variant:"dark"},s.a.createElement(b.a.Brand,{href:"/"},"ClockinJS"),s.a.createElement(v.a,null,s.a.createElement(u.b,{to:"/login",className:"nav-link"},"Login"),s.a.createElement(u.b,{to:"/register",className:"nav-link"},"Register"),s.a.createElement(u.b,{to:"/about",className:"nav-link"},"About"))),l?s.a.createElement(N,{openModal:l,message:"Are you sure you want to leave?",yesMethod:function(){return r(!1),e.noUser(),s.a.createElement(h.a,{to:"/land"})},noMethod:function(e){e.preventDefault(),m(!1),r(!1)}}):"")})),x=a(5),T=a.n(x),L=a(8),M=a(187),O=a(183),j=a(14),D=a.n(j),G=a(28),F=a.n(G),B=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={name:"",email:"",password:"",confirmPassword:"",address:"",city:"",postalCode:"",phone:"",redirectFlag:!1,message:"",btnType:void 0,classNameMessage:""},a.handleChange=function(e){if("Enter"===e.key)switch(e.target.name){case"name":""!==a.state.name&&a.textInput2.focus();break;case"email":""!==a.state.email&&a.textInput3.focus();break;case"city":""!==a.state.city&&a.textInput4.focus();break;case"address":""!==a.state.address&&a.textInput5.focus();break;case"postalCode":break;case"phone":""!==a.state.phone&&a.textInput7.focus();break;case"password":""!==a.state.password&&a.textInput8.focus();break;case"confirmPassword":""!==a.state.confirmPassword&&a.setState({btnType:"submit"})}"postalCode"!==e.target.name?a.setState(Object(L.a)({},e.target.name,e.target.value)):e.target.value.length<7&&a.setState(Object(L.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t,n,s;return T.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(e.preventDefault(),""===a.state.email||""===a.state.name){l.next=20;break}if(a.state.password===a.state.confirmPassword&&""!==a.state.password){l.next=7;break}a.setState({classNameMessage:"messageFailure",message:"Password and \nConfirm Password fields\n\nMUST be the same\n and NOT empty.",password:"",confirmPassword:""}),a.clearMessage(),l.next=20;break;case 7:return"/user/signup",t={name:a.state.name,email:a.state.email,password:a.state.password,address:a.state.address,city:a.state.city,postalCode:a.state.postalCode,phone:a.state.phone},l.prev=9,l.next=12,T.a.awrap(D.a.post("/user/signup",t));case 12:(n=l.sent).data.message?(s={id:n.data.user._id,name:n.data.user.name,email:n.data.user.email,token:n.data.token,address:n.data.user.address,city:n.data.user.city,postalCode:n.data.user.postal_code,phone:n.data.user.phone},a.props.dispatchLogin({user:s}),a.setState({redirectFlag:!0})):n.data.error&&(a.setState({classNameMessage:"messageFailure",message:n.data.error}),a.clearMessage()),l.next=20;break;case 16:l.prev=16,l.t0=l.catch(9),a.setState({classNameMessage:"messageFailure",message:l.t0.message}),a.clearMessage();case 20:case"end":return l.stop()}}),null,null,[[9,16]])},a.clearMessage=function(){setTimeout((function(){a.setState({message:"",password:"",confirmPassword:""})}),3500)},a.afterChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirectFlag?s.a.createElement(h.a,{to:"/"}):s.a.createElement("div",{className:"formPosition"},s.a.createElement("br",null),s.a.createElement("h3",null,"User's Sign Up"),s.a.createElement(M.a,{className:"card-settings"},s.a.createElement(O.a,{onSubmit:this.handleSubmit},s.a.createElement(O.a.Group,{controlId:"formName"},s.a.createElement(O.a.Label,null,"Name"),s.a.createElement(O.a.Control,{autoFocus:!0,type:"text",placeholder:"User's name",name:"name",onChange:this.handleChange,value:this.state.name,onKeyPress:this.handleChange,ref:function(t){return e.textInput1=t}})),s.a.createElement(O.a.Group,{controlId:"formBasicEmail"},s.a.createElement(O.a.Label,null,"Email address"),s.a.createElement(O.a.Control,{type:"email",placeholder:"User's email",name:"email",onChange:this.handleChange,value:this.state.email,onKeyPress:this.handleChange,ref:function(t){return e.textInput2=t}})),s.a.createElement(O.a.Group,{controlId:"formCity"},s.a.createElement(O.a.Label,null,"City"),s.a.createElement(O.a.Control,{type:"text",placeholder:"Type the user's city",name:"city",onChange:this.handleChange,value:this.state.city,onKeyPress:this.handleChange,ref:function(t){return e.textInput3=t}})),s.a.createElement(O.a.Group,{controlId:"formAddress"},s.a.createElement(O.a.Label,null,"Address"),s.a.createElement(O.a.Control,{type:"text",placeholder:"Type the user's address",name:"address",onChange:this.handleChange,value:this.state.address,onKeyPress:this.handleChange,ref:function(t){return e.textInput4=t}})),s.a.createElement(O.a.Group,{controlId:"formPostalCode"},s.a.createElement(O.a.Label,null,"Postal Code"),s.a.createElement(O.a.Control,{type:"text",placeholder:"Type the user's Postal Code",name:"postalCode",onChange:this.handleChange,value:this.state.postalCode,onKeyPress:this.handleChange,ref:function(t){return e.textInput5=t}})),s.a.createElement(O.a.Group,{controlId:"formPhone"},s.a.createElement(O.a.Label,null,"Phone"),s.a.createElement(F.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Enter your phone number",name:"phone",onBlur:function(t){return e.afterChange(t)},value:this.state.phone,onKeyPress:this.handleChange})),s.a.createElement(O.a.Group,{controlId:"formBasicPassword"},s.a.createElement(O.a.Label,null,"Password"),s.a.createElement(O.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:this.handleChange,value:this.state.password,onKeyPress:this.handleChange,ref:function(t){return e.textInput7=t}})),s.a.createElement(O.a.Group,{controlId:"formConfirmPassword"},s.a.createElement(O.a.Label,null,"Confirm Password"),s.a.createElement(O.a.Control,{type:"password",placeholder:"Confirm Password",name:"confirmPassword",onChange:this.handleChange,value:this.state.confirmPassword,onKeyPress:this.handleChange,ref:function(t){return e.textInput8=t}})),s.a.createElement(M.a.Header,{className:this.state.classNameMessage},this.state.message?this.state.message:s.a.createElement("br",null)),s.a.createElement("div",{className:"d-flex flex-column"},s.a.createElement("br",null),s.a.createElement(y.a,{variant:"primary",type:this.state.btnType,onClick:this.handleSubmit},"Submit")))),s.a.createElement("br",null),s.a.createElement("br",null))}}]),t}(n.Component),A=Object(p.b)(null,(function(e){return{dispatchLogin:function(t){return e({type:"LOGIN",data:t})}}}))(B),R=a(180),_=a(37),U=a.n(_);U.a.setAppElement("#root");var K={content:{top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},H={width:"50%"},W=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={emailFP:a.props.email,message:"",classNameMessage:"",disableBtnReset:!1,disableBtnCancel:!1,label2:"Cancel"},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value)),"Enter"===e.key&&(e.preventDefault(),""!==a.state.emailFP&&a.resetPasswordBtn.click())},a.clearMessage=function(){setTimeout((function(){a.setState({message:"",disableBtnReset:!1,disableBtnCancel:!1})}),3500)},a.closeFTModal=function(){a.props.closeModal()},a.handleResetPassword=function(e){var t;return T.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.emailFP){n.next=7;break}a.setState({message:"Type a valid email to have the password reseted.",classNameMessage:"messageFailure",disableBtnReset:!0,disableBtnCancel:!0}),a.resetPasswordEmail.focus(),a.clearMessage(),n.next=20;break;case 7:return"/user/forgetPassword",n.prev=8,n.next=11,T.a.awrap(D.a.post("/user/forgetPassword",{data:{email:a.state.emailFP}}));case 11:t=n.sent,console.log("@@@ forgetPassword",t),t.data.message?a.setState({message:"If <".concat(a.state.emailFP,"> is a valid email, you are about to receive an email with instructions to reset the password."),classNameMessage:"messageSuccess",disableBtnReset:!0,label2:"Close"}):(a.setState({message:t.data.error,classNameMessage:"messageFailure"}),a.clearMessage()),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(8),a.setState({message:n.t0.message}),a.clearMessage();case 20:case"end":return n.stop()}}),null,null,[[8,16]])},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(U.a,{isOpen:this.props.openFPModal,style:K},s.a.createElement(M.a,null,s.a.createElement(M.a.Header,{as:"h3"}," Reset Password "),s.a.createElement(M.a.Body,null,s.a.createElement(O.a,null,s.a.createElement(O.a.Label,null,"This procedure is going to send an email to reset the password."),s.a.createElement(O.a.Control,{autoFocus:!0,type:"email",placeholder:"Type the Email",name:"emailFP",value:this.state.emailFP,onChange:this.handleChange,onKeyPress:this.handleChange,ref:function(t){return e.resetPasswordEmail=t}}),s.a.createElement(M.a.Text,{className:this.state.classNameMessage},this.state.message),s.a.createElement("div",{className:"d-flex flex-column"},s.a.createElement(S.a,{className:"mt-3"},this.state.disableBtnReset?"":s.a.createElement(y.a,{variant:"info",style:H,disabled:this.state.disableBtnReset,onClick:this.handleResetPassword,ref:function(t){return e.resetPasswordBtn=t}}," Reset password "),s.a.createElement(y.a,{variant:this.state.disableBtnReset?"primary":"danger",disabled:this.state.disableBtnCancel,style:H,onClick:this.closeFTModal}," ",this.state.label2,"  ")))))))}}]),t}(n.Component),J=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={email:"",password:"",errorMsg:"",forgetPasswordModal:!1},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value)),"Enter"===e.key&&"email"===e.target.name&&""!==a.state.email&&a.textInput2.focus()},a.handleSubmit=function(e){if(e.preventDefault(),""!==a.state.email&&""!==a.state.password){fetch("/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.email,password:a.state.password})}).then((function(e){return e.json()})).then((function(e){if("message"in e){var t=e.user;t.id=t._id,t.token=e.token,a.props.dispatchLogin({user:t})}else"error"in e&&(a.setState({errorMsg:e.error,email:"",password:""}),a.textInput1.focus(),a.clearMsg())})).catch((function(e){console.error(e),a.setState({errorMsg:e.message}),a.clearMsg()}))}},a.clearMsg=function(){setTimeout((function(){a.setState({errorMsg:""})}),3500)},a.openModal=function(e){e.preventDefault(),a.setState({forgetPasswordModal:!0})},a.closeModal=function(){a.setState({forgetPasswordModal:!1})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"formPosition"},s.a.createElement("br",null),s.a.createElement("h3",null,"Login Page"),s.a.createElement(M.a,{className:"card-settings"},s.a.createElement(O.a,{onSubmit:this.handleSubmit},s.a.createElement(O.a.Group,{controlId:"formBasicEmail"},s.a.createElement(O.a.Label,null,"User's Email"),s.a.createElement(O.a.Control,{autoFocus:!0,type:"email",placeholder:"Type the user's email",name:"email",onChange:this.handleChange,onKeyPress:this.handleChange,value:this.state.email,ref:function(t){return e.textInput1=t}}),s.a.createElement(O.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),s.a.createElement(O.a.Group,{controlId:"formBasicPassword"},s.a.createElement(O.a.Label,null,"Password"),s.a.createElement(O.a.Control,{type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleChange,onKeyPress:this.handleChange,ref:function(t){return e.textInput2=t}})),s.a.createElement("p",null,s.a.createElement("a",{href:window.location.hash,onClick:this.openModal},"Forget password")),this.state.forgetPasswordModal?s.a.createElement(W,{openFPModal:this.state.forgetPasswordModal,closeModal:this.closeModal,email:this.state.email}):"",s.a.createElement(y.a,{variant:"primary",type:"submit"},"Submit"),s.a.createElement(R.a,{className:"messageFailure"},this.state.errorMsg))))}}]),t}(n.Component),V=Object(p.b)(null,(function(e){return{dispatchLogin:function(t){return e({type:"LOGIN",data:t})}}}))(J);function Y(){return s.a.createElement("div",null,"This is Home Page")}var z=a(181),X=a(104),q={width:"50%",paddingLeft:"0px",paddingRight:"0px"},Z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){var t,n,s,l;return T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.preventDefault(),!a.state.name||!a.state.email){r.next=17;break}return t="user/".concat(a.state.userId),n={name:a.state.name,email:a.state.email,address:a.state.address,city:a.state.city,postalCode:a.state.postalCode,phone:a.state.phone},r.prev=4,r.next=7,T.a.awrap(D.a.patch(t,n,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 7:(s=r.sent).data.message?s.data.newData?(l={id:a.props.storeId,name:s.data.newData.name,email:s.data.newData.email,city:s.data.newData.city,address:s.data.newData.address,postalCode:s.data.newData.postalCode,phone:s.data.newData.phone,token:s.data.newData.token},a.setState({message:"Info has been updated.",classNameMessage:"messageSuccess",disableEdit:!0}),a.props.dispatchLogin({user:l})):a.setState({disableEdit:!0,message:s.data.message,classNameMessage:"messageSuccess"}):s.data.error&&a.setState({disableEdit:!0,message:s.data.error,classNameMessage:"messageFailure"}),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(4),console.log("catch error: ",r.t0.message),a.setState({disableEdit:!0,message:r.t0.message,classNameMessage:"messageFailure"});case 15:r.next=18;break;case 17:!a.state.name&&a.state.email?(a.setState({message:"Please, name should be filled.",classNameMessage:"messageFailure"}),a.textInput1.focus()):!a.state.email&&a.state.name?(a.setState({message:"Please, email should be filled.",classNameMessage:"messageFailure"}),a.textInput2.focus()):a.state.name||a.state.email||(a.setState({message:"Please, at least name and email should be filled.",classNameMessage:"messageFailure"}),a.textInput1.focus());case 18:a.clearMessage();case 19:case"end":return r.stop()}}),null,null,[[4,11]])},a.editForm=function(){a.setState({disableEdit:!1})},a.btnCancel=function(){a.setState({disableEdit:!0,name:a.props.storeName,email:a.props.storeEmail,city:a.props.storeCity,address:a.props.storeAddress,phone:a.props.storePhone,postalCode:a.props.storePostalCode})},a.clearMessage=function(){setTimeout((function(){a.setState({message:""})}),3e3)},a.handleAskChangePassowrd=function(){a.setState({showModal:!0,modalMessage:"Are you sure you want to change your password?"})},a.handleChangePassword=function(){var e;return T.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return"/user/forgetPassword",t.prev=1,t.next=4,T.a.awrap(D.a.post("/user/forgetPassword",{data:{email:a.state.email}}));case 4:(e=t.sent).data.message?a.setState({message:"Your email <".concat(a.state.email,"> is going to receive an email with instructions to change your password."),classNameMessage:"messageSuccess"}):(a.setState({message:e.data.error,classNameMessage:"messageFailure"}),a.clearMessage()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a.setState({message:t.t0.message});case 11:setTimeout((function(){a.clearMessage()}),2e3);case 12:case"end":return t.stop()}}),null,null,[[1,8]])},a.handleChange=function(e){if("Enter"===e.key)switch(e.target.name){case"name":""!==a.state.name&&a.textInput3.focus();break;case"address":""!==a.state.address&&a.textInput4.focus();break;case"city":""!==a.state.city&&a.textInput5.focus();break;case"phone":""!==a.state.phone&&a.buttonSave.click()}"postalCode"!==e.target.name?a.setState(Object(L.a)({},e.target.name,e.target.value)):e.target.value.length<7&&a.setState(Object(L.a)({},e.target.name,e.target.value))},a.state={disableEdit:!0,userId:a.props.storeId,name:a.props.storeName,email:a.props.storeEmail,city:"undefined"===a.props.storeCity?"-":a.props.storeCity,address:"undefined"===a.props.storeAddress?"-":a.props.storeAddress,phone:"undefined"===a.props.storePhone?"-":a.props.storePhone,postalCode:"undefined"===a.props.storePostalCode?"-":a.props.storePostalCode,message:"",tmp_name:"",tmp_email:"",tmp_city:"",tmp_address:"",tmp_phone:"",tmp_postalCode:"",showModal:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"formPosition"},s.a.createElement("br",null),s.a.createElement("h3",{className:"htitle"},"User's Home Page"),s.a.createElement("br",null),s.a.createElement(M.a,{className:"card-settings"},s.a.createElement(M.a.Header,{className:"cardTitle"},"User Information"),s.a.createElement(O.a,{className:"formPosition"},s.a.createElement("br",null),s.a.createElement(O.a.Group,{as:z.a,controlId:"formName"},s.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Name"),s.a.createElement(X.a,{sm:8,style:{paddingLeft:"0px"}},s.a.createElement(O.a.Control,{disabled:this.state.disableEdit,type:"text",name:"name",onChange:this.handleChange,placeholder:"Your name",value:this.state.name||"",onKeyPress:this.handleChange,ref:function(t){return e.textInput1=t}}))),s.a.createElement(O.a.Group,{as:z.a,controlId:"formEmail"},s.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Email"),s.a.createElement(X.a,{sm:8,style:{paddingLeft:"0px"}},s.a.createElement(O.a.Control,{disabled:!0,type:"text",name:"email",onChange:this.handleChange,placeholder:"Your email",value:this.state.email,onKeyPress:this.handleChange,ref:function(t){return e.textInput2=t}}))),s.a.createElement(O.a.Group,{as:z.a,controlId:"formAddress"},s.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Address"),s.a.createElement(X.a,{sm:8,style:{paddingLeft:"0px"}},s.a.createElement(O.a.Control,{disabled:this.state.disableEdit,placeholder:"Type your address",type:"text",name:"address",onChange:this.handleChange,value:this.state.address||"",onKeyPress:this.handleChange,ref:function(t){return e.textInput3=t}}))),s.a.createElement(O.a.Group,{as:z.a,controlId:"formCity"},s.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"City:"),s.a.createElement(X.a,{sm:8,style:{paddingLeft:"0px"}},s.a.createElement(O.a.Control,{disabled:this.state.disableEdit,type:"text",name:"city",onChange:this.handleChange,placeholder:"Your city, please",value:this.state.city||"",onKeyDown:this.handleChange,ref:function(t){return e.textInput4=t}}))),s.a.createElement(O.a.Group,{as:z.a,controlId:"formPostalCode"},s.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Postal Code"),s.a.createElement(X.a,{sm:5,style:{paddingLeft:"0px"}},s.a.createElement(O.a.Control,{disabled:this.state.disableEdit,type:"text",name:"postalCode",onChange:this.handleChange,value:this.state.postalCode||"",placeholder:"Type your Postal Code",onKeyDown:this.handleChange,ref:function(t){return e.textInput5=t}}))),s.a.createElement(O.a.Group,{as:z.a,controlId:"formPhone"},s.a.createElement(O.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"}},"Phone"),s.a.createElement(X.a,{sm:5,style:{paddingLeft:"0px"}},s.a.createElement(F.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Enter your phone number",name:"phone",onBlur:function(t){return e.handleChange(t)},value:this.state.phone||"",onKeyPress:this.handleChange,disabled:this.state.disableEdit,ref:function(t){return e.textInput6=t}})))),s.a.createElement(M.a.Header,{className:this.state.classNameMessage},this.state.message?this.state.message:s.a.createElement("br",null)),s.a.createElement("div",{className:"d-flex flex-column"},this.state.disableEdit?s.a.createElement(S.a,{className:"mt-3"},s.a.createElement(y.a,{variant:"info",style:q,onClick:this.handleAskChangePassowrd},"Change Password"),s.a.createElement(y.a,{variant:"primary",style:q,onClick:this.editForm},"Edit data")):s.a.createElement(S.a,{className:"mt-3"},s.a.createElement(y.a,{variant:"success",style:q,onClick:this.handleSubmit,ref:function(t){return e.buttonSave=t}},"Save "),s.a.createElement(y.a,{variant:"danger",style:q,onClick:this.btnCancel}," Cancel ")))),s.a.createElement("br",null),s.a.createElement("br",null),this.state.showModal?s.a.createElement(N,{openModal:!0,message:this.state.modalMessage,noMethod:function(){return e.setState({showModal:!1})},yesMethod:function(){"You are going to receive an email with the instructions to modify your password."===e.state.modalMessage?(e.handleChangePassword(),e.setState({showModal:!1})):e.setState({showModal:!0,modalMessage:"You are going to receive an email with the instructions to modify your password."})}}):"")}}]),t}(n.Component),Q=Object(p.b)((function(e){return{storeToken:e.token,storeId:e.id,storeEmail:e.email,storeName:e.name,storeCity:e.city,storeAddress:e.address,storePostalCode:e.postalCode,storePhone:e.phone}}),(function(e){return{dispatchLogin:function(t){return e({type:"LOGIN",data:t})}}}))(Z),$=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={name:"",nickname:"",birthday:"",mother:"",mPhone:"",mEmail:"",father:"",fPhone:"",fEmail:"",consultant:"",cPhone:"",cEmail:"",defaultRate:"",message:"",setModal:!1,className:"",validForm:!1,formValidated:!1,saveButtonType:void 0},a.handleChange=function(e){if("Enter"===e.key)switch(e.target.name){case"name":""!==a.state.name&&a.textInput2.focus();break;case"nickname":""!==a.state.nickname&&a.textInput3.focus();break;case"birthday":""!==a.state.birthday&&a.textInput4.focus();break;case"mPhone":""!==a.state.mPhone&&a.textInput6.focus();break;case"mEmail":""!==a.state.mEmail&&a.textInput7.focus();break;case"fPhone":""!==a.state.fPhone&&a.textInput9.focus();break;case"fEmail":""!==a.state.fEmail&&a.textInput10.focus();break;case"cPhone":""!==a.state.cPhone&&a.textInput12.focus();break;case"cEmail":""!==a.state.cEmail&&a.textInput13.focus();break;case"defaultRate":""!==a.state.defaultRate&&a.buttonSave.click()}a.setState(Object(L.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t,n;return T.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("this.state.birthday",a.state.birthday,typeof a.state.birthday),a.state.name&&a.state.nickname&&a.state.defaultRate){e.next=6;break}a.setState({setModal:!0}),a.state.name?a.state.nickname?a.textInput13.focus():a.textInput2.focus():a.textInput1.focus(),e.next=19;break;case 6:return"/client",t={name:a.state.name,nickname:a.state.nickname,birthday:a.state.birthday,mother:a.state.mother,mPhone:a.state.mPhone,mEmail:a.state.mEmail,father:a.state.father,fPhone:a.state.fPhone,fEmail:a.state.fEmail,consultant:a.state.consultant,cPhone:a.state.cPhone,cEmail:a.state.cEmail,defaultRate:a.state.defaultRate},e.prev=8,e.next=11,T.a.awrap(D.a.post("/client",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 11:(n=e.sent).data.message?a.setState({message:s.a.createElement("p",null,"Client ",s.a.createElement("b",null,a.state.nickname)," has been created."),className:"messageSuccess",name:"",nickname:"",birthday:"",mother:"",mPhone:"",mEmail:"",father:"",fPhone:"",fEmail:"",consultant:"",cPhone:"",cEmail:"",defaultRate:""}):n.data.error&&a.setState({message:n.data.error,className:"messageFailure"}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),a.setState({message:e.t0.message,className:"messageFailure"});case 18:a.clearMessage();case 19:case"end":return e.stop()}}),null,null,[[8,15]])},a.clearMessage=function(){setTimeout((function(){a.setState({message:""}),a.textInput1.focus()}),3500)},a.afterChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"formPosition"},s.a.createElement("h3",null,"New Client Page"),s.a.createElement(M.a,{className:"card-settings"},s.a.createElement(O.a,{autoComplete:"off",className:"formPosition"},s.a.createElement(O.a.Group,{controlId:"formName"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Name"),s.a.createElement(O.a.Control,{autoFocus:!0,type:"text",placeholder:"Client's name",name:"name",onChange:this.handleChange,value:this.state.name,onKeyPress:this.handleChange,ref:function(t){return e.textInput1=t}})),s.a.createElement(O.a.Group,{controlId:"formNickname"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Nickname"),s.a.createElement(O.a.Control,{type:"text",placeholder:"Client's nickname",name:"nickname",onChange:this.handleChange,value:this.state.nickname,onKeyPress:this.handleChange,ref:function(t){return e.textInput2=t}})),s.a.createElement(O.a.Group,{controlId:"formBirthday"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Birthday"),s.a.createElement(O.a.Control,{type:"date",placeholder:"Client's birthday",name:"birthday",onChange:this.handleChange,value:this.state.birthday,onKeyPress:this.handleChange,ref:function(t){return e.textInput3=t}})),s.a.createElement(O.a.Group,{controlId:"formMother"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Mother"),s.a.createElement(O.a.Control,{type:"text",placeholder:"Client's mother name",name:"mother",onChange:this.handleChange,value:this.state.mother,onKeyPress:this.handleChange,ref:function(t){return e.textInput4=t}})),s.a.createElement(O.a.Group,{controlId:"formMPhone"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Mother's Phone"),s.a.createElement(F.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Mother's phone number",name:"mPhone",id:"mPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.mPhone,onKeyPress:this.handleChange,ref:function(t){return e.textInput5=t}})),s.a.createElement(O.a.Group,{controlId:"formBasicEmail"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Mother's Email address"),s.a.createElement(O.a.Control,{type:"email",pattern:"/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/",placeholder:"Mother's email",name:"mEmail",onChange:this.handleChange,value:this.state.mEmail,onKeyPress:this.handleChange,ref:function(t){return e.textInput6=t}})),s.a.createElement(O.a.Group,{controlId:"formFather"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Father"),s.a.createElement(O.a.Control,{type:"text",placeholder:"Client's father name",name:"father",onChange:this.handleChange,value:this.state.father,onKeyPress:this.handleChange,ref:function(t){return e.textInput7=t}})),s.a.createElement(O.a.Group,{controlId:"formFPhone"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Father's Phone"),s.a.createElement(F.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Father's phone number",name:"fPhone",id:"fPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.fPhone,onKeyPress:this.handleChange,ref:function(t){return e.textInput8=t}})),s.a.createElement(O.a.Group,{controlId:"formFEmail"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Father's Email address"),s.a.createElement(O.a.Control,{type:"email",placeholder:"Father's email",name:"fEmail",onChange:this.handleChange,value:this.state.fEmail,onKeyPress:this.handleChange,ref:function(t){return e.textInput9=t}})),s.a.createElement(O.a.Group,{controlId:"formConsultant"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Consultant"),s.a.createElement(O.a.Control,{type:"text",placeholder:"Consultant's name",name:"consultant",onChange:this.handleChange,value:this.state.consultant,onKeyPress:this.handleChange,ref:function(t){return e.textInput10=t}})),s.a.createElement(O.a.Group,{controlId:"formCPhone"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Consultant's Phone"),s.a.createElement(F.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Consultant's phone number",name:"cPhone",id:"cPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.cPhone,onKeyPress:this.handleChange,ref:function(t){return e.textInput11=t}})),s.a.createElement(O.a.Group,{controlId:"formCEmail"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Consultant's Email address"),s.a.createElement(O.a.Control,{type:"email",placeholder:"Consultant's email",name:"cEmail",onChange:this.handleChange,value:this.state.cEmail,onKeyPress:this.handleChange,ref:function(t){return e.textInput12=t}})),s.a.createElement(O.a.Group,{controlId:"formDefaultRate"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Rate"),s.a.createElement(O.a.Control,{type:"number",placeholder:"Hourly rate - CAD$",name:"defaultRate",onChange:this.handleChange,value:this.state.defaultRate,onKeyPress:this.handleChange,ref:function(t){return e.textInput13=t}})),s.a.createElement(M.a.Header,{className:this.state.className},this.state.message?this.state.message:s.a.createElement("br",null)),s.a.createElement("div",{className:"d-flex flex-column"},s.a.createElement(y.a,{variant:"primary",onClick:this.handleSubmit,ref:function(t){return e.buttonSave=t}},"Save")))),s.a.createElement("br",null),s.a.createElement("br",null),this.state.setModal?s.a.createElement(N,{openModal:this.state.setModal,message:s.a.createElement("div",null,"Please, fill at least:",s.a.createElement("ol",null,s.a.createElement("li",null,s.a.createElement("b",null,"Name"),","),s.a.createElement("li",null,s.a.createElement("b",null,"Nickname")," and"),s.a.createElement("li",null,s.a.createElement("b",null,"Rate($).")))),noMethod:function(){return e.setState({setModal:!1})}}):"")}}]),t}(n.Component),ee=Object(p.b)((function(e){return{storeToken:e.token}}),null)($),te=(a(173),a(41)),ae=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).populateDropbox=function(){return s.a.createElement(te.a,null,s.a.createElement(te.a.Toggle,{variant:"success",id:"dropdown-basic"},a.props.client&&a.props.client.nickname||"Select Client"),s.a.createElement(te.a.Menu,null,a.state.clients.map((function(e,t){return s.a.createElement(te.a.Item,{key:t,onClick:function(t){return a.changes(t,e)},name:e.nickname}," ",e.nickname," ")}))))},a.changes=function(e,t){e.preventDefault(),a.props.getClientInfo(t)},a.state={clients:void 0,errorMsg:void 0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e;return T.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return"/client",t.prev=1,t.next=4,T.a.awrap(D.a.get("/client",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.props.storeToken)}}));case 4:(e=t.sent).data.count&&this.setState({clients:e.data.message}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),this.setState({errorMsg:t.t0.message});case 11:case"end":return t.stop()}}),null,this,[[1,8]])}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.clients?this.populateDropbox():"No clients at all")}}]),t}(n.Component),ne=Object(p.b)((function(e){return{storeToken:e.token}}),null)(ae),se=function(e){console.log("client.birthday: ",e,typeof e);var t=new Date(e.substring(0,10));console.log("===> date",t);var a=t.getUTCMonth()+1,n=t.getUTCFullYear()+"-"+(a<10?"0".concat(a):a)+"-"+(t.getUTCDate()<10?"0".concat(t.getUTCDate()):t.getUTCDate());return console.log("newD",n),n},le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value||""))},a.handleSubmit=function(e){var t,n,s;return T.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e.preventDefault(),t={clientId:a.state.clientId,name:a.state.name,nickname:a.state.nickname,birthday:a.state.birthday,mother:a.state.mother,mPhone:a.state.mPhone,mEmail:a.state.mEmail,father:a.state.father,fPhone:a.state.fPhone,fEmail:a.state.fEmail,consultant:a.state.consultant,cPhone:a.state.cPhone,cEmail:a.state.cEmail,default_rate:a.state.default_rate},n="/client/".concat(t.clientId),l.prev=3,l.next=6,T.a.awrap(D.a.patch(n,t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 6:(s=l.sent).data.message?(console.log("SERVER",s.data),s.data.newData?a.setState({message:"".concat(s.data.newData.nickname," has been changed"),name:s.data.newData.name,nickname:s.data.newData.nickname,birthday:s.data.newData.birthday?se(s.data.newData.birthday):"",mother:s.data.newData.mother,mPhone:s.data.newData.mphone,mEmail:s.data.newData.memail,father:s.data.newData.father,fPhone:s.data.newData.fphone,fEmail:s.data.newData.femail,cPhone:s.data.newData.cphone,cEmail:s.data.newData.cemail,consultant:s.data.newData.consultant,default_rate:s.data.newData.default_rate,className:"messageSuccess"}):a.setState({message:s.data.message,className:"messageSuccess"})):s.data.error&&a.setState({message:s.data.error,className:"messageFailure"}),l.next=13;break;case 10:l.prev=10,l.t0=l.catch(3),a.setState({message:l.t0.message,className:"messageFailure"});case 13:a.clearMessage();case 14:case"end":return l.stop()}}),null,null,[[3,10]])},a.clearMessage=function(){a.setState({disableEditForm:!0}),setTimeout((function(){a.setState({message:""})}),3e3)},a.getClientInfo=function(e){console.log("inside populateForm, client: ",e);var t=e._id,n=e.name,s=e.nickname,l=e.mother,r=e.father,o=e.consultant,c=e.default_rate;a.setState({clientId:t,name:n,nickname:s,birthday:e.birthday?se(e.birthday):"",mother:l,mPhone:e.mphone,mEmail:e.memail,father:r,fPhone:e.fphone,fEmail:e.femail,consultant:o,cPhone:e.cphone,cEmail:e.cemail,default_rate:c,disableEditForm:!0})},a.editForm=function(){a.setState({disableEditForm:!1,tmp_name:a.state.name,tmp_nickname:a.state.nickname,tmp_birthday:a.state.birthday,tmp_mother:a.state.mother,tmp_mPhone:a.state.mPhone,tmp_mEmail:a.state.mEmail,tmp_father:a.state.father,tmp_fPhone:a.state.fPhone,tmp_fEmail:a.state.fEmail,tmp_consultant:a.state.consultant,tmp_cPhone:a.state.cPhone,tmp_cEmail:a.state.cEmail,tmp_default_rate:a.state.default_rate})},a.btnCancel=function(){a.setState({disableEditForm:!0,name:a.state.tmp_name,nickname:a.state.tmp_nickname,birthday:a.state.tmp_birthday,mother:a.state.tmp_mother,mPhone:a.state.tmp_mPhone,mEmail:a.state.tmp_mEmail,father:a.state.tmp_father,fPhone:a.state.tmp_fPhone,fEmail:a.state.tmp_fEmail,consultant:a.state.tmp_consultant,cPhone:a.state.tmp_cPhone,cEmail:a.state.tmp_cEmail,default_rate:a.state.tmp_default_rate})},a.afterChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.state={message:"",disableEditForm:!0,clientId:"",name:"",nickname:"",birthday:"",mother:"",mPhone:"",mEmail:"",father:"",fPhone:"",fEmail:"",consultant:"",cPhone:"",cEmail:"",default_rate:"",tmp_name:"",tmp_nickname:"",tmp_birthday:"",tmp_mother:"",tmp_mPhone:"",tmp_mEmail:"",tmp_father:"",tmp_fPhone:"",tmp_fEmail:"",tmp_consultant:"",tmp_cPhone:"",tmp_cEmail:"",tmp_default_rate:"",className:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return console.log("render ===> this.state",this.state),s.a.createElement("div",{className:"formPosition"},s.a.createElement("h3",null," Your clients' list "),s.a.createElement("p",null,"Select the client to check or modify their data."),s.a.createElement(M.a,{className:"card-settings"},s.a.createElement(M.a.Body,null,s.a.createElement(M.a.Title,null,"Clients:"),s.a.createElement(ne,{getClientInfo:this.getClientInfo}),"     ")),this.state.clientId?s.a.createElement("div",null,s.a.createElement(M.a,{className:"card-settings"},s.a.createElement(O.a,{autoComplete:"off",onSubmit:this.handleSubmit,className:"formPosition"},s.a.createElement(O.a.Group,{controlId:"formName"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Name"),s.a.createElement(O.a.Control,{type:"text",placeholder:"Type the client's name",name:"name",onChange:this.handleChange,value:this.state.name||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm})),s.a.createElement(O.a.Group,{controlId:"formNickname"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Nickname"),s.a.createElement(O.a.Control,{type:"text",placeholder:"Type the client's nickname",name:"nickname",onChange:this.handleChange,value:this.state.nickname||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm})),s.a.createElement(O.a.Group,{controlId:"formBirthday"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Birthday"),s.a.createElement(O.a.Control,{type:"date",name:"birthday",onChange:this.handleChange,value:this.state.birthday||"",disabled:this.state.disableEditForm,ref:function(t){return e.birthday=t}}),s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement(O.a.Group,{controlId:"formMother"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Mother"),s.a.createElement(O.a.Control,{type:"text",placeholder:"Type the client's mother name",name:"mother",onChange:this.handleChange,value:this.state.mother||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput4=t}})),s.a.createElement(O.a.Group,{controlId:"formMPhone"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Mother's Phone"),s.a.createElement(F.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Enter mother's phone number",name:"mPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.mPhone||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput5=t}})),s.a.createElement(O.a.Group,{controlId:"formMEmail"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Mother's Email address"),s.a.createElement(O.a.Control,{type:"email",placeholder:"Type the mother's email",name:"mEmail",onChange:this.handleChange,value:this.state.mEmail||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput6=t}})),s.a.createElement(O.a.Group,{controlId:"formFather"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Father"),s.a.createElement(O.a.Control,{type:"text",placeholder:"Type the client's father name",name:"father",onChange:this.handleChange,value:this.state.father||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput7=t}})),s.a.createElement(O.a.Group,{controlId:"formFPhone"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Father's Phone"),s.a.createElement(F.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Enter father's phone number",name:"fPhone",id:"fPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.fPhone||"",onKeyPress:function(){return e.handleChange},disabled:this.state.disableEditForm,ref:function(t){return e.textInput8=t}})),s.a.createElement(O.a.Group,{controlId:"formFEmail"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Father's Email address"),s.a.createElement(O.a.Control,{type:"email",placeholder:"Type the father's email",name:"fEmail",onChange:this.handleChange,value:this.state.fEmail||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput9=t}})),s.a.createElement(O.a.Group,{controlId:"formConsultant"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Consultant"),s.a.createElement(O.a.Control,{type:"text",placeholder:"Type the consultant's name",name:"consultant",onChange:this.handleChange,value:this.state.consultant||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput10=t}})),s.a.createElement(O.a.Group,{controlId:"formCPhone"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Consultant's Phone"),s.a.createElement(F.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Enter consultant's phone number",name:"cPhone",id:"cPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.cPhone||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput11=t}})),s.a.createElement(O.a.Group,{controlId:"formCEmail"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Consultant's Email address"),s.a.createElement(O.a.Control,{type:"email",placeholder:"Type the consultant's email",name:"cEmail",onChange:this.handleChange,value:this.state.cEmail||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput12=t}})),s.a.createElement(O.a.Group,{controlId:"formDefaultRate"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Rate"),s.a.createElement(O.a.Control,{type:"text",placeholder:"Type the hourly rate - CAD$",name:"default_rate",onChange:this.handleChange,value:this.state.default_rate||"",onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput13=t}})),s.a.createElement(M.a.Header,{className:this.state.className},this.state.message?this.state.message:s.a.createElement("br",null)),s.a.createElement("div",{className:"d-flex flex-column"},this.state.disableEditForm?s.a.createElement(y.a,{style:{width:"100%"},onClick:this.editForm,ref:function(t){return e.textInputX=t}},"Edit"):s.a.createElement(S.a,null,s.a.createElement(y.a,{variant:"success",style:{width:"50%"},onClick:this.handleSubmit},"Save"),s.a.createElement(y.a,{variant:"warning",style:{width:"50%"},onClick:this.btnCancel},"Cancel"))))),s.a.createElement("br",null),s.a.createElement("br",null)):null)}}]),t}(n.Component),re=Object(p.b)((function(e){return{storeToken:e.token}}),null)(le),oe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={date:"",startingTime:"",endingTime:"",rate:"",notes:"",message:"",client:{}},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value)),a.cleanMessage()},a.handleSubmit=function(e){var t,n;return T.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),(t={date:a.state.date,timeStart:a.state.startingTime,timeEnd:a.state.endingTime,rate:a.state.rate,notes:a.state.notes,clientId:a.state.client._id}).clientId&&t.date&&t.timeStart&&t.timeEnd&&t.rate){s.next=6;break}a.messageValidationMethod(),s.next=19;break;case 6:return"/clockin",s.prev=7,s.next=10,T.a.awrap(D.a.post("/clockin",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 10:(n=s.sent).data.message?a.setState({message:"Punched in!",rate:""}):n.data.error&&a.setState({message:n.data.error}),a.cleanForm(),s.next=19;break;case 15:s.prev=15,s.t0=s.catch(7),a.setState({message:s.t0.message}),a.cleanForm();case 19:case"end":return s.stop()}}),null,null,[[7,15]])},a.messageValidationMethod=function(){a.setState({message:0===Object.entries(a.state.client).length?"Please, select client.":"Please fill the fields."}),setTimeout((function(){a.cleanMessage()}),3e3)},a.cleanMessage=function(){a.setState({message:""})},a.cleanForm=function(){setTimeout((function(){a.setState({date:"",startingTime:"",endingTime:"",rate:"",notes:"",message:"",client:{}})}),3e3)},a.showTotalTime=function(){var e=Date.parse("01 Jan 1970 ".concat(a.state.startingTime,":00 GMT")),t=(Date.parse("01 Jan 1970 ".concat(a.state.endingTime,":00 GMT"))-e)/36e5,n=parseFloat(Math.round(100*t)/100).toFixed(2);return s.a.createElement(O.a.Group,{as:z.a,controlId:"formTotal"},s.a.createElement(O.a.Label,{column:!0,sm:"9"},"Total time: ",n," hr"))},a.getClientInfo=function(e){a.setState({client:e,rate:e.default_rate})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"formPosition"},s.a.createElement("h3",null,"PunchIn"),s.a.createElement(M.a,{className:"card-settings"},s.a.createElement(M.a.Body,null,s.a.createElement("div",{className:"gridClientBtContainer"},s.a.createElement(ne,{client:this.state.client,getClientInfo:this.getClientInfo}),s.a.createElement("span",null,this.state.message?this.state.message:"")),s.a.createElement("br",null),s.a.createElement(O.a,{onSubmit:this.handleSubmit},s.a.createElement(O.a.Group,{as:z.a,controlId:"formDate"},s.a.createElement(O.a.Label,{column:!0,sm:"3",className:"cardLabel"},"Date:"),s.a.createElement(X.a,{sm:"6"},s.a.createElement(O.a.Control,{type:"date",name:"date",onChange:this.handleChange,value:this.state.date,onKeyPress:this.handleChange,disabled:""===this.state.rate}))),s.a.createElement(O.a.Group,{as:z.a,controlId:"formST"},s.a.createElement(O.a.Label,{column:!0,sm:"3",className:"cardLabel"},"Time Start:"),s.a.createElement(X.a,{sm:"3"},s.a.createElement(O.a.Control,{type:"time",placeholder:"Starting Time",name:"startingTime",onChange:this.handleChange,value:this.state.startingTime,onKeyPress:this.handleChange,disabled:""===this.state.rate}))),s.a.createElement(O.a.Group,{as:z.a,controlId:"formET"},s.a.createElement(X.a,{sm:"3"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Time End:")),s.a.createElement(X.a,{sm:"3"},s.a.createElement(O.a.Control,{type:"time",placeholder:"Ending Time",name:"endingTime",onChange:this.handleChange,value:this.state.endingTime,onKeyPress:this.handleChange,disabled:""===this.state.rate})),s.a.createElement(X.a,{sm:"6"},this.state.endingTime&&this.state.startingTime?this.showTotalTime():null)),s.a.createElement(O.a.Group,{as:z.a,controlId:"formRate"},s.a.createElement(O.a.Label,{column:!0,sm:"3",className:"cardLabel"},"Rate"),s.a.createElement(X.a,{sm:"3"},s.a.createElement(O.a.Control,{type:"number",placeholder:this.state.rate||"Rate ($)",name:"rate",onChange:this.handleChange,onKeyPress:this.handleChange,value:this.state.rate,disabled:""===this.state.rate}))),s.a.createElement(O.a.Group,{controlId:"formBasicPassword"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Notes"),s.a.createElement(O.a.Control,{as:"textarea",rows:"3",placeholder:"Session's Notes",name:"notes",onChange:this.handleChange,value:this.state.notes,onKeyPress:this.handleChange,disabled:""===this.state.rate})),s.a.createElement(y.a,{variant:"primary",type:"submit",onClick:this.handleSubmit},"Submit")))),s.a.createElement("br",null),s.a.createElement("br",null))}}]),t}(n.Component),ce=Object(p.b)((function(e){return{storeToken:e.token}}),null)(oe),ie=a(182),me=function(e){console.log("WWWWWWWWWWWWINSIDE formatDate component",e,typeof e);var t=new Date(e);console.log("WWWWWWWWWWWWWW date",t);var a=t.getUTCDate()>9?t.getUTCDate():"0".concat(t.getUTCDate());return"".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getUTCMonth()]," ").concat(a,", ").concat(t.getUTCFullYear())},de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t,n,s,l,r;return T.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),t=a.state.dateStart,n=a.state.dateEnd,s=a.state.clientId,l="/clockin?dateStart=".concat(t,"&dateEnd=").concat(n,"&clientId=").concat(s),!s){o.next=17;break}return o.prev=4,o.next=7,T.a.awrap(D.a.get(l,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 7:r=o.sent,console.log(r.data.allClockins),r.data.allClockins?a.setState({clockinList:r.data.allClockins,clockInListTable:a.renderDataTable(r.data.allClockins),tableVisibility:!0,cleanButton:!0}):(a.setState({message:r.data.message,tableVisibility:!1}),setTimeout((function(){a.cleanMessage()}),3e3)),o.next=15;break;case 12:o.prev=12,o.t0=o.catch(4),a.setState({message:o.t0.message});case 15:o.next=18;break;case 17:a.messageValidationMethod();case 18:case"end":return o.stop()}}),null,null,[[4,12]])},a.handleDelete=function(e,t){var n,s,l;return T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!window.confirm("Are you sure you wanna delete this clockin?")){r.next=16;break}return"/clockin",r.prev=2,r.next=5,T.a.awrap(D.a.delete("/clockin",{data:{clockinId:e},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 5:(n=r.sent).data.error?a.setState({message:n.data.error}):(s=a.state.clockInListTable,l=s.filter((function(e){return Number(e.key)!==Number(t)})),a.setState({clockInListTable:l,message:n.data.message})),a.handleSubmit(),setTimeout((function(){a.cleanMessage()}),3e3),r.next=16;break;case 11:r.prev=11,r.t0=r.catch(2),console.log(r.t0.message),a.setState({message:r.t0.message}),setTimeout((function(){a.cleanMessage()}),2e3);case 16:case"end":return r.stop()}}),null,null,[[2,11]])},a.renderDataTable=function(e){return e.map((function(e,t){var n=new Date(e.time_start),l=new Date(e.time_end),r={num:t+1,date:me(e.date),timeStart:n.getUTCHours()+":"+(n.getUTCMinutes()<10?"0"+n.getUTCMinutes():n.getUTCMinutes()),timeEnd:l.getUTCHours()+":"+(l.getUTCMinutes()<10?"0"+l.getUTCMinutes():l.getUTCMinutes()),rate:e.rate,totalTime:(l-n)/36e5,total:(l-n)/36e5*Number(e.rate),invoice:e.invoice_id?e.invoice.code:"not yet"};return s.a.createElement("tr",{key:r.num},s.a.createElement("td",null,r.num),s.a.createElement("td",null,r.date),s.a.createElement("td",null,r.timeStart),s.a.createElement("td",null,r.timeEnd),s.a.createElement("td",null,r.totalTime),s.a.createElement("td",null,r.rate),s.a.createElement("td",null,r.total),s.a.createElement("td",null,r.invoice),s.a.createElement("td",null,s.a.createElement(y.a,{variant:"danger",onClick:function(){return a.handleDelete(e._id,r.num)}}," Delete")))}))},a.cleanForm=function(){a.setState({date:"",timeStart:"",timeEnd:"",rate:"",clientId:"",message:"",client:{},tableVisibility:!1,cleanButton:!1})},a.messageValidationMethod=function(){a.setState({message:"Please, select client."}),setTimeout((function(){a.cleanMessage()}),3e3)},a.cleanMessage=function(){a.setState({message:""})},a.getClientInfo=function(e){a.setState({client:e,clientId:e._id,tableVisibility:!1})},a.state={dateStart:"",dateEnd:"",clientId:"",clockinList:[],clockInListTable:"",tableVisibility:!1,message:"",client:{},cleanButton:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"formPosition"},s.a.createElement("h3",null,"List of Punch ins"),s.a.createElement(M.a,{className:"card-settings"},s.a.createElement(M.a.Body,null,s.a.createElement("div",{className:"gridClientBtContainer"},s.a.createElement(ne,{client:this.state.client,getClientInfo:this.getClientInfo}),s.a.createElement("span",null,this.state.message||"")),s.a.createElement("br",null),s.a.createElement(O.a,null,s.a.createElement(O.a.Group,{as:z.a,controlId:"formST"},s.a.createElement(O.a.Label,{column:!0,sm:"3",className:"cardLabel"},"Date Start:"),s.a.createElement(X.a,{sm:"5"},s.a.createElement(O.a.Control,{type:"date",name:"dateStart",onChange:this.handleChange,value:this.state.dateStart,disabled:""===this.state.clientId}))),s.a.createElement(O.a.Group,{as:z.a,controlId:"formET"},s.a.createElement(X.a,{sm:"3"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Date End:")),s.a.createElement(X.a,{sm:"5"},s.a.createElement(O.a.Control,{type:"date",name:"dateEnd",onChange:this.handleChange,value:this.state.dateEnd,disabled:""===this.state.clientId}))),s.a.createElement(y.a,{variant:"primary",onClick:this.handleSubmit},"Get List"),this.state.cleanButton?s.a.createElement(y.a,{variant:"info",onClick:this.cleanForm},"Clean"):null))),this.state.tableVisibility?s.a.createElement(M.a,{className:"cardInvoiceGenListofClockins card"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Client: ",this.state.client.nickname),console.log("this.state",this.state),this.state.clockinList.length>0?s.a.createElement(ie.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"#"),s.a.createElement("th",null,"Date"),s.a.createElement("th",null,"Time Start"),s.a.createElement("th",null,"Time End"),s.a.createElement("th",null,"Total Time"),s.a.createElement("th",null,"Rate"),s.a.createElement("th",null,"Total CAD$"),s.a.createElement("th",null,"Invoice"))),s.a.createElement("tbody",null,this.state.clockInListTable)):null):null)}}]),t}(n.Component),ue=Object(p.b)((function(e){return{storeToken:e.token}}),null)(de),he=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={dateStart:"",dateEnd:"",clientId:"",clockinList:[],client:"",clockInListTable:"",tableVisibility:!1,message:"",invoiceCode:"",clockinWithInvoiceCode:!1},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.handleGetClockins=function(e){var t,n,s,l,r;return T.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e.preventDefault(),t=a.state.dateStart,n=a.state.dateEnd,s=a.state.clientId,l="/clockin?dateStart=".concat(t,"&dateEnd=").concat(n,"&clientId=").concat(s),o.prev=3,o.next=6,T.a.awrap(D.a.get(l,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 6:(r=o.sent).data.allClockins?a.setState({clockinList:r.data.allClockins,clockInListTable:a.renderDataTable(r.data.allClockins),tableVisibility:!0,clientId:s,clockinWithInvoiceCode:a.checkIfThereIsInvoiceCode(r.data.allClockins)}):(a.setState({message:"No clockins for this period."}),a.clearMessage()),o.next=14;break;case 10:o.prev=10,o.t0=o.catch(3),a.setState({message:o.t0.message}),a.clearMessage();case 14:case"end":return o.stop()}}),null,null,[[3,10]])},a.handleInvoiceGenerator=function(e){var t,n;return T.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),a.state.invoiceCode&&""!==a.state.invoiceCode){s.next=6;break}alert("Please, provide Invoice's Code."),a.textCode.focus(),s.next=20;break;case 6:return t={date:new Date,dateStart:a.state.dateStart,dateEnd:a.state.dateEnd,notes:a.state.notes||"no notes at all",clientId:a.state.clientId,code:a.state.invoiceCode.toUpperCase()},"/invoice",s.prev=8,s.next=11,T.a.awrap(D.a.post("/invoice",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 11:(n=s.sent).data.message?(a.setState({message:"Invoice Generated!"}),a.getClockinsBtn.click()):n.data.error&&a.setState({message:n.data.error}),a.clearMessage(),s.next=20;break;case 16:s.prev=16,s.t0=s.catch(8),a.setState({message:s.t0.message}),a.clearMessage();case 20:case"end":return s.stop()}}),null,null,[[8,16]])},a.renderDataTable=function(e){var t=0,n=0;return e.map((function(l,r){var o=new Date(l.time_start),c=new Date(l.time_end),i={num:r+1,date:me(l.date),timeStart:o.getUTCHours()+":"+(o.getUTCMinutes()<10?"0"+o.getUTCMinutes():o.getUTCMinutes()),timeEnd:c.getUTCHours()+":"+(c.getUTCMinutes()<10?"0"+c.getUTCMinutes():c.getUTCMinutes()),rate:l.rate,totalTime:(c-o)/36e5,total:(c-o)/36e5*Number(l.rate),invoice:l.invoice_id?l.invoice.code:"not yet"};return t+=i.totalTime,n+=i.total,e.length===r+1?(s.a.createElement("tr",{key:i.num,onClick:function(){return a.test()}},s.a.createElement("td",null,i.num),s.a.createElement("td",null,i.date),s.a.createElement("td",null,i.totalTime," ",i.totalTime>1?"hours":"hour"),s.a.createElement("td",null,i.total),s.a.createElement("td",null,i.invoice)),s.a.createElement("tr",{key:i.num+1},s.a.createElement("th",null),s.a.createElement("th",null),s.a.createElement("th",null,t," ",t>1?"hours":"hour"),s.a.createElement("th",null,"$ ",n),s.a.createElement("th",null))):s.a.createElement("tr",{key:i.num,onClick:function(){return a.test()}},s.a.createElement("td",null,i.num),s.a.createElement("td",null,i.date),s.a.createElement("td",null,i.totalTime," ",i.totalTime>1?"hours":"hour"),s.a.createElement("td",null,i.total),s.a.createElement("td",null,i.invoice))}))},a.clearMessage=function(){setTimeout((function(){a.setState({message:"",invoiceCode:""})}),3500)},a.getClientInfo=function(e){a.setState({client:e,clientId:e._id,disabledIPBtn:!1,tableVisibility:!1})},a.checkIfThereIsInvoiceCode=function(e){return e.filter((function(e){return e.invoice})).length>0},a.test=function(){console.log("YUP!!!! \n\n NEED TO ADD A MODAL TO EDIT DATA OR DELETE THE CLOCKINS ROW ")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"formPosition"},s.a.createElement("h3",null,"Invoice generator"),s.a.createElement("p",null,"Select client and period to get the clockins."),s.a.createElement(M.a,{className:"card-settings"},s.a.createElement(M.a.Body,null,s.a.createElement(ne,{client:this.state.client,getClientInfo:this.getClientInfo})," ",s.a.createElement("br",null),s.a.createElement(O.a,{onSubmit:this.handleGetClockins},s.a.createElement(O.a.Group,{as:z.a,controlId:"formST"},s.a.createElement(O.a.Label,{column:!0,sm:"3",className:"cardLabel"},"Date Start:"),s.a.createElement(X.a,{sm:"5"},s.a.createElement(O.a.Control,{type:"date",name:"dateStart",onChange:this.handleChange,value:this.state.dateStart}))),s.a.createElement(O.a.Group,{as:z.a,controlId:"formET"},s.a.createElement(X.a,{sm:"3"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Date End:")),s.a.createElement(X.a,{sm:"5"},s.a.createElement(O.a.Control,{type:"date",name:"dateEnd",onChange:this.handleChange,value:this.state.dateEnd}))),s.a.createElement(y.a,{variant:"primary",type:"submit",disabled:!(this.state.dateStart&&this.state.dateEnd&&this.state.client),onClick:this.handleGetClockins,ref:function(t){return e.getClockinsBtn=t}},"Get Clockins"),s.a.createElement("span",{className:"invoiceGenMsg"},this.state.message)))),this.state.tableVisibility?s.a.createElement(M.a,{className:"cardInvoiceGenListofClockins card"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Client: ",this.state.client.nickname),this.state.clockinList.length>0?s.a.createElement("div",null,s.a.createElement(ie.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"#"),s.a.createElement("th",null,"Date"),s.a.createElement("th",null,"Total Time"),s.a.createElement("th",null,"Total CAD$"),s.a.createElement("th",null,"Invoice"))),s.a.createElement("tbody",null,this.state.clockInListTable)),s.a.createElement(y.a,{variant:"primary",type:"submit",disabled:this.state.clockinWithInvoiceCode,onClick:this.handleInvoiceGenerator},"Invoice's Generator"),s.a.createElement(O.a.Group,{as:z.a,controlId:"invoiceCode"},s.a.createElement(O.a.Label,{column:!0,sm:"3",className:"cardLabel"},"Code:"),s.a.createElement(X.a,{sm:"5"},s.a.createElement(O.a.Control,{type:"text",name:"invoiceCode",onChange:this.handleChange,value:this.state.invoiceCode,disabled:this.state.clockinWithInvoiceCode,ref:function(t){return e.textCode=t}})))):null):null)}}]),t}(n.Component),pe=Object(p.b)((function(e){return{storeToken:e.token}}),null)(he),Ee=(a(174),a(105)),ge=a.n(Ee),fe=a(106),be=a.n(fe),ve=a(107),Ce=a.n(ve),ye=a(108),ke=a.n(ye);function we(){return s.a.createElement("div",{className:"page-general twoThirds"},s.a.createElement("br",null),s.a.createElement("h1",{className:"main-title"},"ClockinJS"),s.a.createElement("div",{className:"content-general"},s.a.createElement("p",null,"p.s. Under construction"),s.a.createElement("p",null,"The system is aimed to allow register clock-ins and generate invoices."),s.a.createElement("a",{href:"https://github.com/tonykieling/clockinJS",target:"_blank",rel:"noopener noreferrer"},"GitHub Project at https://github.com/tonykieling/clockinJS"),s.a.createElement("h2",{className:"sub-title"},"Some of its functionalities are:"),s.a.createElement("ul",null,s.a.createElement("li",null,"User\xb4s register"),s.a.createElement("li",null,"User\xb4s login"),s.a.createElement("li",null,"User modify their own data - 2FA already added and working"),s.a.createElement("li",null,"Users are able to:"),s.a.createElement("ul",null,s.a.createElement("li",null,"Register clients,"),s.a.createElement("li",null,"List, Check, and Modify client\xb4s data,"),s.a.createElement("li",null,"Punch in their work hours (clock-ins),"),s.a.createElement("li",null,"List, Check and Edit clock-ins data,"),s.a.createElement("li",null,"Generate invoice and control their status (generated, sent and received),"),s.a.createElement("li",null,"List and Check invoices."))),s.a.createElement("h2",{className:"sub-title"},"System main actors"),s.a.createElement("ol",null,s.a.createElement("li",null,s.a.createElement("span",{className:"strong"},"User:"),"People who have clients and want to register their worked hours."),s.a.createElement("li",null,s.a.createElement("span",{className:"strong"},"Client:"),"People or organizations which the users provide their service."),s.a.createElement("li",null,s.a.createElement("span",{className:"strong"},"Clock-in:"),"It is the start and end time in which the users worked for a client."),s.a.createElement("li",null,s.a.createElement("span",{className:"strong"},"Invoice:"),"It is one or a set of clock-ins for a particular client that a user wants to generate. It will contain information about the user, the client, the description of hours worked, and the total amount of money accumulated for the user regarding that specific client. The invoice can be generated according to the user's necessity ( weekly, monthly). The invoice format is complained to the Government of Canada...")),s.a.createElement("h2",{className:"sub-title"},"Motivation"),s.a.createElement("p",null,"I have been developing the ClockinJS to help my wife to register data and control their worked hours for her behavior intervention clients. The system facilitates the administration of the data (hours, invoice, clients) of her clients and allows a fast and reliable emission of a monthly invoice addressed to the Autism BC."),s.a.createElement("p",null,"The system will be used for my wife to help her to control her work hours plus will automate the invoice\xb4s generation. However, this is not necessary or asked for her clients or any governmental agency of any country. It is for her own control, but it can be used for anyone. The invoices that this system will generate are complained to a public format and can be reached on the internet."),s.a.createElement("p",null,"In a general view, the system has two process: Punch-in and Invoice's generation. The first one independ to the second. It means it can be used without generate invoices, only to registering the puch-ins. The second on (invoice's process) depend on the clock-ins recorded in the system."),s.a.createElement("h2",{className:"sub-title"},"Teck stack"),s.a.createElement("p",null,"MERN - MongoDB, Express, React and Node, plus Redux, JWT, Bootstrap, Bcrypt, Axios, Mongoose and Nodemailer are the main technologies used."),s.a.createElement("h2",{className:"sub-title"},"Todo list and Releases"),s.a.createElement("p",null,"The system is in production and being used by my wife to record and list their hours for her clients."),s.a.createElement("p",null,"Features under developing are:"),s.a.createElement("ul",null,s.a.createElement("li",null,"CSS styling, specilially for mobiles"),s.a.createElement("li",null,"Change password (being logged and not - both done)"),s.a.createElement("li",null,"Forget password (captcha + send by email (done) -)"),s.a.createElement("li",null,"Edit Clockin"),s.a.createElement("li",null,"Generate Invoices"),s.a.createElement("li",null,"Review invoice backend code,"),s.a.createElement("li",null,"Generate invoice's UI,"),s.a.createElement("li",null,"Process (control invoice's status),"),s.a.createElement("li",null,"Adapt pdf to receive data from the system.")),s.a.createElement("h3",{className:"sub-title"},"Contact us"),s.a.createElement("p",null," Tony Kieling's: "),s.a.createElement("div",{className:"iconLine"},s.a.createElement("a",{href:"mailto:tony.kieling@gmail.com",target:"_top"},s.a.createElement("img",{src:ge.a,alt:"gmail",className:"iconSettings"})),s.a.createElement("a",{href:"https://www.linkedin.com/in/tony-kieling/",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{src:Ce.a,className:"iconSettings",alt:"linkedin"})),s.a.createElement("a",{href:"https://github.com/tonykieling",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{src:ke.a,className:"iconSettings",alt:"linkedin"})),s.a.createElement("a",{href:"https://resume.creddle.io/resume/hqaeq2fbnr6",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{src:be.a,alt:"resume",className:"iconSettings"}))),s.a.createElement("br",null),s.a.createElement("br",null)))}U.a.setAppElement("#root");var Ie={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},Se=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={message:"",newStatus:"Generated"===a.props.currentStatus?"Delivered":"Received",disableButtons:!1},a.clearMessage=function(){setTimeout((function(){a.setState({message:"",disableButtons:!1})}),3500)},a.handleChangeInvoiceStatus=function(){var e,t;return T.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e={newStatus:a.state.newStatus},t="/invoice/".concat(a.props.invoice._id),n.prev=2,n.next=5,T.a.awrap(D.a.patch(t,e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 5:n.sent.data.message?(a.setState({message:"Invoice's status changed to ".concat(a.state.newStatus),disableButtons:!0}),a.props.receiveNewStatus(a.state.newStatus),setTimeout((function(){a.props.closeChangeModal()}),3500)):a.setState({message:"Something wrong happened."}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),console.log("Error:",n.t0.message);case 12:a.clearMessage();case 13:case"end":return n.stop()}}),null,null,[[2,9]])},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(U.a,{isOpen:this.props.openChangeInvoiceModal,style:Ie},s.a.createElement(M.a,null,s.a.createElement(M.a.Header,{as:"h3"}," Change Invoice Status "),s.a.createElement(M.a.Body,null,s.a.createElement(M.a.Text,null,"Do you wanna change the Invoice's Status to:"),s.a.createElement(O.a,null,s.a.createElement("div",{className:"d-flex flex-column"},s.a.createElement(S.a,{className:"mt-3"},s.a.createElement(y.a,{variant:"secondary",disabled:!0},"Generated"),s.a.createElement(y.a,{disabled:!!this.state.disableButtons||"Delivered"!==this.state.newStatus,variant:"Delivered"===this.state.newStatus?"primary":"secondary",onClick:this.handleChangeInvoiceStatus},"Delivered"),s.a.createElement(y.a,{disabled:!!this.state.disableButtons||"Received"!==this.state.newStatus,variant:"Received"===this.state.newStatus?"primary":"secondary",onClick:this.handleChangeInvoiceStatus},"Received"))),s.a.createElement("span",{className:"invoiceGenMsg"},this.state.message),s.a.createElement("div",{className:"d-flex flex-column"},s.a.createElement(S.a,{className:"mt-3"},s.a.createElement(y.a,{variant:"success",onClick:this.handleChangeInvoiceStatus,disabled:this.state.disableButtons},"Yes"),s.a.createElement(y.a,{variant:"danger",onClick:this.props.closeChangeModal,disabled:this.state.disableButtons}," No ")))))))}}]),t}(n.Component),Ne=Object(p.b)((function(e){return{storeToken:e.token}}),null)(Se);var Pe=Object(p.b)((function(e){return{storeToken:e.token}}),null)((function(e){var t=Object(n.useState)(e.initialState),a=Object(f.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)("Deleting the invoice will set all its clockins to no invoice. Are you sure you want to delete it?"),c=Object(f.a)(o,2),i=c[0],m=c[1],d=Object(n.useState)(!1),u=Object(f.a)(d,2),h=u[0],p=u[1],E=function(){r(!1),e.closeDeleteModal()};return s.a.createElement("div",null,s.a.createElement(I.a,{show:l,onHide:function(){return console.log("onExit Modal")}},s.a.createElement(I.a.Header,{closeButton:!0},s.a.createElement(I.a.Title,null,"Delete Invoice")),s.a.createElement(I.a.Body,null," ",i," "),s.a.createElement(I.a.Footer,null,h?s.a.createElement(y.a,{variant:"primary",onClick:E,style:{width:"50%"}},"Close"):s.a.createElement(S.a,{className:"mt-3",style:{width:"50%"}},s.a.createElement(y.a,{variant:"primary",onClick:function(){return T.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return m("missing back-end. Soon will be done."),p(!0),e.abrupt("return");case 3:case"end":return e.stop()}}))},style:{width:"50%"}},"Yes"),s.a.createElement(y.a,{variant:"danger",onClick:E,style:{width:"50%"}},"No")))))}));U.a.setAppElement("#root");var xe=window.innerWidth<800?{content:{height:"95%",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",overflow:"scroll"}}:{content:{height:"80%",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",overflow:"scroll"}},Te=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={dateStart:"",dateEnd:"",clientId:"",client:"",clockInListTable:"",tableVisibility:!1,message:"",changeStatusModal:!1,currentStatus:a.props.invoice.status,updateYN:!1,showModalDeleteInvoice:!1},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.clearMessage=function(){setTimeout((function(){a.setState({message:"",invoiceCode:""})}),3500)},a.componentDidMount=function(){var e,t,n,s,l;return T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=a.props.invoice.date_start,t=a.props.invoice.date_end,n=a.props.client._id,s="/clockin?dateStart=".concat(e,"&dateEnd=").concat(t,"&clientId=").concat(n),r.prev=2,r.next=5,T.a.awrap(D.a.get(s,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 5:(l=r.sent).data.allClockins?a.setState({clockinList:l.data.allClockins,clockInListTable:a.renderDataTable(l.data.allClockins),tableVisibility:!0}):a.setState({message:l.data.message,tableVisibility:!1}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),a.setState({message:r.t0.message,tableVisibility:!1});case 12:case"end":return r.stop()}}),null,null,[[2,9]])},a.handleChangeInvoiceStatus=function(){a.setState({changeStatusModal:!0})},a.handleDeleteInvoice=function(){console.log("It is gonna delete Invoice SOON")},a.renderDataTable=function(e){return e.map((function(e,t){var a=new Date(e.time_start),n=new Date(e.time_end),l={num:t+1,date:me(e.date),timeStart:a.getUTCHours()+":"+(a.getUTCMinutes()<10?"0"+a.getUTCMinutes():a.getUTCMinutes()),timeEnd:n.getUTCHours()+":"+(n.getUTCMinutes()<10?"0"+n.getUTCMinutes():n.getUTCMinutes()),totalTime:(n-a)/36e5,total:(n-a)/36e5*Number(e.rate),invoice:e.invoice_id?e.invoice_id:"not yet"};return s.a.createElement("tr",{key:l.num},s.a.createElement("td",null,l.num),s.a.createElement("td",null,l.date),s.a.createElement("td",null,l.timeStart),s.a.createElement("td",null,l.timeEnd),s.a.createElement("td",null,l.totalTime),s.a.createElement("td",null,l.total))}))},a.closeChangeModal=function(){a.setState({changeStatusModal:!1})},a.receiveNewStatus=function(e){a.setState({currentStatus:e,updateYN:!0})},a.backToThePrevious=function(){a.state.updateYN?a.props.updateScreen():a.props.closeModal()},a.setShowModalDeleteInvoice=function(){a.setState({showModalDeleteInvoice:!0})},a.closeShowModalDeleteInvoice=function(){a.setState({showModalDeleteInvoice:!1})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(U.a,{isOpen:this.props.openInvoiceModal,style:xe},s.a.createElement(M.a,null,s.a.createElement(M.a.Header,{as:"h3"},"Invoice: ",this.props.invoice.code),s.a.createElement(M.a.Body,null,s.a.createElement(M.a.Title,null," Client: ",this.props.client.nickname),s.a.createElement(O.a,null,s.a.createElement(O.a.Row,null,s.a.createElement(O.a.Group,{as:X.a},s.a.createElement(O.a.Label,null," Total: $",this.props.invoice.total_cad)),s.a.createElement(O.a.Group,null,s.a.createElement(O.a.Label,null," Date: ",me(this.props.invoice.date)))),s.a.createElement(O.a.Row,null,s.a.createElement(O.a.Group,{as:X.a},s.a.createElement(O.a.Label,null," From: ",me(this.props.invoice.date_start))),s.a.createElement(O.a.Group,null,s.a.createElement(O.a.Label,null," To: ",me(this.props.invoice.date_end)))),s.a.createElement("div",{className:"d-flex flex-column"},s.a.createElement(S.a,{className:"mt-3"},s.a.createElement(y.a,{style:{width:"50%"},variant:"info",disabled:"Received"===this.state.currentStatus,onClick:this.handleChangeInvoiceStatus},this.state.currentStatus),s.a.createElement(y.a,{style:{width:"50%"},variant:"danger",disabled:"Received"===this.state.currentStatus,onClick:this.setShowModalDeleteInvoice}," Delete ")))))),this.state.changeStatusModal?s.a.createElement(Ne,{invoice:this.props.invoice,closeChangeModal:this.closeChangeModal,receiveNewStatus:this.receiveNewStatus,currentStatus:this.state.currentStatus,openChangeInvoiceModal:this.state.changeStatusModal}):"",this.state.tableVisibility?s.a.createElement(M.a,{className:"cardInvoiceGenListofClockins card"},s.a.createElement(ie.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"#"),s.a.createElement("th",null,"Date"),s.a.createElement("th",null,"Time Start"),s.a.createElement("th",null,"Time End"),s.a.createElement("th",null,"Total Time"),s.a.createElement("th",null,"Total CAD$"))),s.a.createElement("tbody",null,this.state.clockInListTable))):s.a.createElement(M.a,null,s.a.createElement(M.a.Title,null,this.state.message)),s.a.createElement(y.a,{variant:"primary",onClick:this.backToThePrevious},"Close Window"),this.state.showModalDeleteInvoice?s.a.createElement(Pe,{initialState:this.state.showModalDeleteInvoice,closeDeleteModal:this.closeShowModalDeleteInvoice,invoiceCode:this.props.invoice.code}):"")}}]),t}(n.Component),Le=Object(p.b)((function(e){return{storeToken:e.token}}),null)(Te),Me=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={dateStart:"",dateEnd:"",clientId:"",invoiceList:[],client:"",invoiceListTable:"",tableVisibility:!1,message:"",openInvoiceModal:!1,invoice:""},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.handleGetInvoices=function(e){var t,n,s,l,r;return T.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),t=a.state.dateStart,n=a.state.dateEnd,s=a.state.clientId,a.state.clientId){o.next=6;break}a.setState({message:"Select a client."}),o.next=17;break;case 6:return l="/invoice?dateStart=".concat(t,"&dateEnd=").concat(n,"&clientId=").concat(s),o.prev=7,o.next=10,T.a.awrap(D.a.get(l,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.props.storeToken)}}));case 10:(r=o.sent).data.allInvoices?a.setState({invoiceList:r.data.allInvoices,invoiceListTable:a.renderDataTable(r.data.allInvoices),tableVisibility:!0,clientId:s}):a.setState({message:"No Invoices for this period."}),o.next=17;break;case 14:o.prev=14,o.t0=o.catch(7),a.setState({message:o.t0.message});case 17:a.clearMessage();case 18:case"end":return o.stop()}}),null,null,[[7,14]])},a.renderDataTable=function(e){return e.map((function(e,t){var n={num:t+1,date:me(e.date),totalCad:e.total_cad,code:e.code,status:e.status};return s.a.createElement("tr",{key:n.num,onClick:function(){return a.invoiceEdit(e)}},s.a.createElement("td",null,n.num),s.a.createElement("td",null,n.date),s.a.createElement("td",null,"$",n.totalCad),s.a.createElement("td",null,n.code),s.a.createElement("td",null,n.status))}))},a.clearMessage=function(){setTimeout((function(){a.setState({message:"",invoiceCode:""})}),3500)},a.getClientInfo=function(e){a.setState({client:e,clientId:e._id,disabledIPBtn:!1,tableVisibility:!1})},a.checkIfThereIsInvoiceCode=function(e){return e.filter((function(e){return e.invoice})).length>0},a.invoiceEdit=function(e){a.setState({openInvoiceModal:!0,invoice:e})},a.closeModal=function(){a.setState({openInvoiceModal:!1})},a.updateScreen=function(){a.closeModal(),a.getInvoicesBtn.click()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"formPosition"},s.a.createElement("h3",null,"Invoice's List and Edit"),s.a.createElement("p",null,"."),this.state.openInvoiceModal?s.a.createElement(Le,{invoice:this.state.invoice,client:this.state.client,closeModal:this.closeModal,updateScreen:this.updateScreen,openInvoiceModal:this.state.openInvoiceModal}):"",s.a.createElement(M.a,{className:"card-settings"},s.a.createElement(M.a.Body,null,s.a.createElement(ne,{client:this.state.client,getClientInfo:this.getClientInfo})," ",s.a.createElement("br",null),s.a.createElement(O.a,{onSubmit:this.handleGetInvoices},s.a.createElement(O.a.Group,{as:z.a,controlId:"formST"},s.a.createElement(O.a.Label,{column:!0,sm:"3",className:"cardLabel"},"Date Start:"),s.a.createElement(X.a,{sm:"5"},s.a.createElement(O.a.Control,{type:"date",name:"dateStart",onChange:this.handleChange,value:this.state.dateStart}))),s.a.createElement(O.a.Group,{as:z.a,controlId:"formET"},s.a.createElement(X.a,{sm:"3"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Date End:")),s.a.createElement(X.a,{sm:"5"},s.a.createElement(O.a.Control,{type:"date",name:"dateEnd",onChange:this.handleChange,value:this.state.dateEnd}))),s.a.createElement(y.a,{variant:"primary",type:"submit",onClick:this.handleGetInvoices,ref:function(t){return e.getInvoicesBtn=t}},"Get Invoices"),s.a.createElement("span",{className:"invoiceGenMsg"},this.state.message)))),this.state.tableVisibility?s.a.createElement(M.a,{className:"cardInvoiceGenListofInvoices card"},s.a.createElement(O.a.Label,{className:"cardLabel"},"Client: ",this.state.client.nickname),this.state.invoiceList.length>0?s.a.createElement("div",null,s.a.createElement(ie.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"#"),s.a.createElement("th",null,"Date"),s.a.createElement("th",null,"Total CAD$"),s.a.createElement("th",null,"Code"),s.a.createElement("th",null,"Status"))),s.a.createElement("tbody",null,this.state.invoiceListTable))):null):null)}}]),t}(n.Component),Oe=Object(p.b)((function(e){return{storeToken:e.token}}),null)(Me),je=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={newPassword:"",confirmPassword:"",code:"",url:"",user:"",cancel:!1,logged:!1,newResetPassword:!1,message:""},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value)),"Enter"===e.key&&"newPassword"===e.target.name&&""!==e.target.value?(a.textInput2.focus(),e.preventDefault()):"Enter"===e.key&&"confirmPassword"===e.target.name&&""!==e.target.value&&(a.handleSubmit(e),e.preventDefault())},a.handleSubmit=function(e){var t,n,s;return T.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(e.preventDefault(),""!==a.state.newPassword){l.next=5;break}alert("New Password and Confirm Password have to be the same and not empty!"),l.next=21;break;case 5:if(a.state.newPassword===a.state.confirmPassword){l.next=9;break}alert("New Password and Confirm Password have to be the same."),l.next=21;break;case 9:return t="/user".concat(a.state.url),l.prev=10,l.next=13,T.a.awrap(D.a.post(t,{data:{userId:a.state.user._id,newPassword:a.state.newPassword}}));case 13:(n=l.sent).data.message?((s=n.data.user).id=n.data.user._id,s.token=n.data.token,a.props.dispatchLogin({user:s}),a.setState({logged:!0})):a.setState({message:n.data.error,classNameMessage:"messageFailure"}),l.next=20;break;case 17:l.prev=17,l.t0=l.catch(10),a.setState({message:l.t0.message,classNameMessage:"messageFailure"});case 20:a.clearMsg();case 21:case"end":return l.stop()}}),null,null,[[10,17]])},a.clearMsg=function(){setTimeout((function(){a.setState({message:""})}),3500)},a.cancelResetPassword=function(){a.setState({cancel:!0})},a.componentDidMount=function(){var e,t,n,s;return T.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e=Object(h.f)(window.location.pathname,{path:"/reset_password/:param",exact:!0,strict:!1}),l.prev=1,t="/user/get_by_code/".concat(e.params.param),l.next=5,T.a.awrap(D.a.get(t,{data:{code:a.state.code}}));case 5:(n=l.sent).data.message?a.setState({user:n.data.user,code:e.params.param,url:e.url}):(s={name:"<code is invaild>"},a.setState({user:n.data.code?n.data.user.name:s,message:n.data.error,classNameMessage:"messageFailure"}),setTimeout((function(){a.setState({newResetPassword:!0})}),5e3)),l.next=12;break;case 9:l.prev=9,l.t0=l.catch(1),a.setState({message:l.t0.message,classNameMessage:"messageFailure"});case 12:a.clearMsg();case 13:case"end":return l.stop()}}),null,null,[[1,9]])},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state.cancel||this.state.newResetPassword?s.a.createElement(h.a,{to:"/login"}):this.state.logged?s.a.createElement(h.a,{to:"/"}):s.a.createElement("div",null,s.a.createElement("div",{className:"formPosition"},s.a.createElement("br",null),s.a.createElement("h3",null,"Reset Password"),s.a.createElement("br",null),s.a.createElement("p",null,"Hi ",s.a.createElement("b",null,this.state.user?this.state.user.name.split(" ")[0]:"")),s.a.createElement("br",null),s.a.createElement(M.a,{className:"card-settings"},s.a.createElement(O.a,{onSubmit:this.handleSubmit},s.a.createElement(O.a.Group,{controlId:"formBasicEmail"},s.a.createElement(O.a.Label,null,"New password"),s.a.createElement(O.a.Control,{autoFocus:!0,type:"password",placeholder:"Type new password",name:"newPassword",onChange:this.handleChange,onKeyPress:this.handleChange,value:this.state.newPassword,ref:function(t){return e.textInput1=t}}),s.a.createElement(O.a.Text,{className:"text-muted"},"Never share your password. ;)")),s.a.createElement(O.a.Group,{controlId:"formBasicPassword"},s.a.createElement(O.a.Label,null,"Confirm New Password"),s.a.createElement(O.a.Control,{type:"password",placeholder:"Confirm New Password",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleChange,onKeyPress:this.handleChange,ref:function(t){return e.textInput2=t}})),s.a.createElement(R.a,{className:this.state.classNameMessage},this.state.message),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex flex-column"},s.a.createElement(S.a,{className:"mt-3"},s.a.createElement(y.a,{variant:"primary",type:"submit"},"Submit"),s.a.createElement(y.a,{variant:"danger",onClick:this.cancelResetPassword},"Cancel")))))))}}]),t}(n.Component),De=Object(p.b)(null,(function(e){return{dispatchLogin:function(t){return e({type:"LOGIN",data:t})}}}))(je),Ge=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(u.a,null,s.a.createElement("div",null,s.a.createElement(P,null),s.a.createElement(h.d,null,s.a.createElement(h.b,{exact:!0,path:"/",render:function(){return e.props.storeEmail?s.a.createElement(Y,null):s.a.createElement(h.a,{to:"/land"})}}),s.a.createElement(h.b,{exact:!0,path:"/user",render:function(){return e.props.storeEmail?s.a.createElement(Q,null):s.a.createElement(h.a,{to:"/land"})}}),s.a.createElement(h.b,{exact:!0,path:"/land",render:function(){return e.props.storeEmail?s.a.createElement(h.a,{to:"/"}):s.a.createElement(E,null)}}),s.a.createElement(h.b,{exact:!0,path:"/register",render:function(){return e.props.storeEmail?s.a.createElement(h.a,{to:"/"}):s.a.createElement(A,null)}}),s.a.createElement(h.b,{exact:!0,path:"/login",render:function(){return e.props.storeEmail?s.a.createElement(h.a,{to:"/"}):s.a.createElement(V,null)}}),s.a.createElement(h.b,{exact:!0,path:"/clientNew",render:function(){return e.props.storeEmail?s.a.createElement(ee,null):s.a.createElement(V,null)}}),s.a.createElement(h.b,{exact:!0,path:"/clientList",render:function(){return e.props.storeEmail?s.a.createElement(re,null):s.a.createElement(V,null)}}),s.a.createElement(h.b,{exact:!0,path:"/punchInNew",render:function(){return e.props.storeEmail?s.a.createElement(ce,null):s.a.createElement(V,null)}}),s.a.createElement(h.b,{exact:!0,path:"/punchInsList",render:function(){return e.props.storeEmail?s.a.createElement(ue,null):s.a.createElement(V,null)}}),s.a.createElement(h.b,{exact:!0,path:"/invoiceNew",render:function(){return e.props.storeEmail?s.a.createElement(pe,null):s.a.createElement(V,null)}}),s.a.createElement(h.b,{exact:!0,path:"/invoicesList",render:function(){return e.props.storeEmail?s.a.createElement(Oe,null):s.a.createElement(V,null)}}),s.a.createElement(h.b,{path:"/reset_password"},s.a.createElement(De,null)),s.a.createElement(h.b,{exact:!0,path:"/about"},s.a.createElement(we,null)),s.a.createElement(h.b,{component:g}))))}}]),t}(n.Component),Fe=Object(p.b)((function(e){return{storeEmail:e.email}}),null)(Ge),Be=a(51),Ae=a(75),Re=function(){try{var e={id:localStorage.getItem("id"),name:localStorage.getItem("name"),email:localStorage.getItem("email"),token:localStorage.getItem("token"),address:localStorage.getItem("address"),city:localStorage.getItem("city"),postalCode:localStorage.getItem("postalCode"),phone:localStorage.getItem("phone")};return e||void 0}catch(t){return}},_e=function(e){try{localStorage.setItem("id",e.id),localStorage.setItem("email",e.email),localStorage.setItem("name",e.name),localStorage.setItem("token",e.token),localStorage.setItem("city",e.city),localStorage.setItem("address",e.address),localStorage.setItem("postalCode",e.postalCode),localStorage.setItem("phone",e.phone)}catch(t){return t.message}},Ue=function(){localStorage.removeItem("id"),localStorage.removeItem("name"),localStorage.removeItem("email"),localStorage.removeItem("token"),localStorage.removeItem("address"),localStorage.removeItem("city"),localStorage.removeItem("postalCode"),localStorage.removeItem("phone")},Ke={},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0,a=Object(Ae.a)({},e);return"LOGIN"===t.type?(a=Object(Ae.a)({},e,{id:t.data.user.id,email:t.data.user.email,name:t.data.user.name,token:t.data.user.token,address:t.data.user.address,city:t.data.user.city,postalCode:t.data.user.postalCode,phone:t.data.user.phone}),_e(a)):"LOGOUT"===t.type?(a={id:void 0,email:void 0,name:void 0,token:void 0,address:void 0,city:void 0,postalCode:void 0,phone:void 0},Ue()):"SETCLIENT"===t.type&&console.log("error on SETCLIENT in reducer.js"),a},We={id:Re().id,email:Re().email,name:Re().name,token:Re().token,address:Re().address,city:Re().city,postalCode:Re().postalCode,phone:Re().phone},Je=Object(Be.b)(He,We);Je.subscribe((function(){}));var Ve=Je;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(p.a,{store:Ve},s.a.createElement(Fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[109,1,2]]]);
//# sourceMappingURL=main.75a5858c.chunk.js.map