(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{112:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},134:function(e,t,a){},161:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(27),i=a.n(c),r=(a(123),a(19)),l=a(20),o=a(22),d=a(21),h=a(18),j=a(25),b=(a(124),a(13)),m=a.p+"static/media/clockinjs.04d8a60a.png",u=a(4),x=a(50),p=a(17),O=a(26),g=a.p+"static/media/gmail.16286b30.svg",v=a.p+"static/media/resume.44caa180.svg",f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAGq0lEQVR4Xt2XW2xcRxnHfzNndtcXNnEbxzHGNYnTJKRcGhRQQ1HVVFxTqiIuUkGorYSQqAQSd4k+hCLBA0VCSPCCKh5paVUEotxUSMhDEVCkNA0JxUlMnUIcx46dEK/X3ss582F90hGxzxkdqUplb37SaOX1/9sz//0uM2sAGH3XB7o/9Lnv79i2dXfFCsL6xgCLCXLq9Jmj8TPf+3z/wsTzhptvf//oA488/el379ww2BPRERhA4Ox8zGNH/j7T+OV33mN6vvjUxJc/uHfrTVXHUtvTSfSWI07MtXj813/4hbtpaHBr1cHcYptOYyn2bC7DltFde12EZzH2eC9g6CiMgXYiRJGLXOxFS8qLEAZEBNFgMJh1YkRoJ5B4Ly7xwmKcBI14D83EU4kMkTU0Yg9Axdl1kxERcInAUluNZFTtxNNdirjnlgH2DFXpchEXak0Oj89xbPIKXc6uCyMewYx8+5Dcsb0fWWUk8dBVsjx813Z2be5lNT/+23/47dhFNQqyZlO47YVj5/57TktrKfarjWiW7rt1RE3k8cDeYY5OzjN5pYGLzJoa8VpaCM04WWHEC7q520b6CFGOjJbbP2dqOs/X0oiI4LyHlmaEFBIRKpGjp2CDGyqOZiyUrLBWxF4QwHkRWn6lERGYW2pxcaFFX5cjxMTlJdre0/JmTY14ETWi41WEFdRbCT87OcXD+7eTx/RCi8PjsxiDxq9pRgSc1zrLGilFhp8eP89IXzef2jO0ykSTr/1ujKnl1+6Sxfv1Ulpx1ggGEi9889BpDo1f5M7RTdoTZ2br/GZshslag55SpLFrSZw2uwi09A+yGLAWDr88x+/HZzGAgB6EpcjSSq5FJgQBDADm1WdERPCJIORkJBFaiV/xCAM0Y6+Z0JMdg6KnrNdU5+GsUfOANmej7TXjLjJExuh7ab2XndUrUbEx8P83krrKCvp7ywxv7CIHzcbp2QXdAKCbesOydmA5Jo+ZhRbnaw0a+gVY9o9u4s5tN3Lzpl6qlUjfX9ZwYrrGcxOXOHmhpn1ajixCmPbVpZX4rLTWiLnvbUN89+43kcf5+SZ3PfYX6nFCZIzqH9w/zEP7Rsjjh38+y5d+9RJ37xrg4Ht38M7hjeTxsbcMahX8/OQFvnV4nNl6U69BEs4IAE4QLaHQfA4hoHEaa4r1Vxox996yhSc++faiy6Zm4RO3DvHWwSof/8kLzNXblJ0hx40mwUpaWiJZgYiuEFrTugQp1rPn9Rv47G0jOSbCvHlLlUcP7Ob+p17EGpvXMvr8Utojks2IvieeMJJq1AgSC4T13LN7gFfBchYHuH2kjz9NXNJxvxrxAtbgQJslK1CHQhiNQ40Y1SMIrwUfXe6bI2dmEWdz92mMwQkEjBRvSwTUiE2NkyE0KMama3p+7ezvZXRTD2Fg3xtv0Bu29oPJ7iGOYxyBL169FTS7yKpFMY8e+Rc/eG6Cy4st1feWHV+4YxsH37eDAHpN2txbZmq+qSP5aqwx1BfquHSE5U0DkcLDSJcBfS0KeOKFSb6+PIJf1+XSpqcVJzzy7CneMbyRA/l9pFejG7tL/PvyEpGxXI0H0pOdJDC1PEKGvMkmqT6MCPzor68QOYO1qgfAWBCEJ4+fDxoxBjXf9p6SGK4mQcF53RBZPCQFUytJY3WBF4JcWGgyNlPHWbvycwUdradm6kj4UqLXm9hn9xqj4CCwgYJmF43ThZFUH4zQH2m1ZpvQ86402nqiVyILEJqimVg1L4JLRRmEIjROlxTrG3FCnAiRMTmGBb1wJkIlCg8X1ItkjaQHYoLkhnop6BFEl0LBcEifk1M+Pv2cMHiAHF2SGglOWYHicyRdxXqVhDTFAw+RfJ2gYLlOcKGSKCp8yfRISF88QLKpCqYtt0ckLS1PLsXpRsFn9GF8YMT6ojgJ6K6/0pJwJou7fcUq5Bo9K4PINc2IsCaIUCo5HIoUbawwbcV6eW1S4oVqX/V66pHwgagXtRDVioOrDymBShQRoqes+vzcCRiM/ngK4azJPzgFxRGiFPHH8Vk+8/TxTLABas2YZuLBmFTP48fO8Y/pefxqvYGZWlO1GLJYw9xiiweffJGSNQjZ552YqoGzhDB85RkJ/AdiD20fioSKW6FXbRzQWwPliCACNGNCaKw1ZEiEgRt6zqkROpjUiKXzQcBYhI7HGZPYDRV7FjF0LLFnz3DfUfuR6tRDDr9AVKKzMECEM/HsV/cNfsPurVx+9l770oeZfvl5jG13jIkkafTHl47cv/GVAzu7Gif/B1VhQDg89RGeAAAAAElFTkSuQmCC",y=a.p+"static/media/github.237e2214.png",C=a(0);function k(e){return Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(u.a,{style:{backgroundColor:e.bckColor,position:"sticky",bottom:0},children:Object(C.jsx)(u.a.Body,{style:{paddingTop:"15px",paddingBottom:"15px"},children:Object(C.jsx)(x.a,{children:Object(C.jsxs)(O.a,{className:"justify-content-md-center",style:{textAlign:"center"},children:[Object(C.jsx)(p.a,{style:{textAlign:"center",padding:"0 5px"},xs:!0,sm:"1",children:Object(C.jsx)("a",{href:"mailto:tony.kieling@gmail.com",target:"_top",children:Object(C.jsx)("img",{src:g,alt:"gmail",className:e.opac||"iconSettings"})})}),Object(C.jsx)(p.a,{style:{textAlign:"center",padding:"0 5px"},xs:!0,sm:"1",children:Object(C.jsx)("a",{href:"https://www.linkedin.com/in/tony-kieling/",target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)("img",{src:f,className:e.opac||"iconSettings",alt:"linkedin"})})}),Object(C.jsx)(p.a,{style:{textAlign:"center",padding:"0 5px"},xs:!0,sm:"1",children:Object(C.jsx)("a",{href:"https://github.com/tonykieling",target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)("img",{src:y,className:e.opac||"iconSettings",alt:"linkedin"})})}),Object(C.jsx)(p.a,{style:{textAlign:"center",padding:"0 5px"},xs:!0,sm:"1",children:Object(C.jsx)("a",{href:"https://resume.creddle.io/resume/hqaeq2fbnr6",target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)("img",{src:v,alt:"resume",className:e.opac||"iconSettings"})})})]})})})})})}var w=window.innerHeight-56-62;function N(){var e=window.innerWidth;return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{style:{paddingTop:"30px",height:w},children:[Object(C.jsxs)("div",{style:{marginLeft:e<800?"2rem":"4rem"},children:[Object(C.jsx)("h5",{children:"It is easy to track your worked hours and manage invoices with Clockin.js."}),Object(C.jsx)("br",{}),Object(C.jsx)("p",{children:"You just need to Sign Up and enjoy."}),Object(C.jsx)("p",{children:" It is free. ;)"})]}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:m,alt:"Clockin.js",width:e<800?e-.08*e:e-.6*e,style:{marginLeft:e<800?(e-.92*e)/2:(e-.4*e)/2}})}),Object(C.jsx)("div",{style:{marginTop:"2.5rem",textAlign:"center"},children:"More information at"}),Object(C.jsxs)("div",{style:{textAlign:"center"},children:[Object(C.jsx)(h.b,{to:"/about",children:"About"}),", ",Object(C.jsx)(h.b,{to:"/guidance",children:"Guidance"})," or ",Object(C.jsx)(h.b,{to:"/contact",children:"Contact"}),"."]})]}),window.innerWidth<800&&Object(C.jsx)(k,{bckColor:"gainsboro",opac:"iconSettingsOpacity"})]})}var I=a(15),S=a(171),L=a(172),T=a(169),A=a(28),P=a(113),E=a.n(P),D=(a(134),a(170)),M=a(79);function B(e){return Object(C.jsx)("div",{children:Object(C.jsxs)(D.a,{show:e.openModal,onHide:e.noMethod,children:[Object(C.jsx)(D.a.Header,{closeButton:!0,children:Object(C.jsx)(D.a.Title,{children:"Clockin.js"})}),Object(C.jsx)(D.a.Body,{children:e.message}),Object(C.jsx)(D.a.Footer,{children:e.yesMethod?Object(C.jsxs)(M.a,{className:"mt-3",style:{width:"50%"},children:[Object(C.jsx)(A.a,{variant:e.colorBtn1||"primary",onClick:e.yesMethod,style:{width:"50%"},children:"Yes"}),Object(C.jsx)(A.a,{variant:e.colorBtn2||"danger",onClick:e.noMethod,style:{width:"50%"},children:"No"})]}):Object(C.jsx)(A.a,{autoFocus:!0,variant:e.color||"primary",onClick:e.noMethod,style:{width:"50%"},children:"OK"})})]})})}var F=window.innerWidth<800;var R=Object(b.b)((function(e){return{storeEmail:e.email}}),(function(e){return{noUser:function(){return e({type:"LOGOUT"})}}}))((function(e){var t=Object(s.useState)(!1),a=Object(I.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)(!1),r=Object(I.a)(i,2),l=r[0],o=r[1],d=Object(s.useState)(!1),b=Object(I.a)(d,2),m=b[0],u=b[1],x=function(e){e.preventDefault(),o(!1),c(!0)};return Object(C.jsxs)("div",{style:{all:"unset"},children:[e.storeEmail?F?Object(C.jsxs)(S.a,{bg:"info",sticky:"top",role:"navigation",children:[Object(C.jsx)(h.b,{to:"/",className:"nav-link",children:"Clockin.js"}),Object(C.jsx)(h.b,{to:"/user",className:"nav-link",children:e.storeEmail}),Object(C.jsx)("div",{className:"showHamburguer",children:Object(C.jsxs)(E.a,{right:!0,isOpen:l,onStateChange:function(e){return function(e){o(e.isOpen)}(e)},children:[Object(C.jsxs)(T.a,{title:"Clients",id:"basic-nav-dropdown1",className:"menu-item",children:[Object(C.jsxs)(T.a,{title:"Add a New One",id:"basic-nav-submenu",drop:"down",children:[Object(C.jsx)(T.a.Item,{href:"/clientNew",children:"Kids"}),Object(C.jsx)(T.a.Divider,{}),Object(C.jsx)(T.a.Item,{href:"/clientGeneralNew",children:"General / Company"})]}),Object(C.jsx)(T.a.Divider,{}),Object(C.jsx)(T.a.Item,{href:"/clientList",children:" List & Edit"})]}),Object(C.jsx)("br",{}),Object(C.jsxs)(T.a,{title:"Clockins",id:"basic-nav-dropdown2",children:[Object(C.jsx)(T.a.Item,{href:"/punchInNew",children:" Punch in "}),Object(C.jsx)(T.a.Divider,{}),Object(C.jsx)(T.a.Item,{href:"/punchInsList",children:"List them all"})]}),Object(C.jsx)("br",{}),Object(C.jsxs)(T.a,{title:"Invoices",id:"basic-nav-dropdown3",className:"font-color",children:[Object(C.jsx)(T.a.Item,{href:"/invoiceNew",children:"Generate a brand new one"}),Object(C.jsx)(T.a.Divider,{}),Object(C.jsx)(T.a.Item,{href:"/invoicesList",children:"List, Check and Edit"}),Object(C.jsx)(T.a.Divider,{}),Object(C.jsx)(T.a.Item,{href:"/invoiceIssue",children:"Issue an Invoice"})]}),Object(C.jsx)("br",{}),Object(C.jsxs)(T.a,{title:"Reports",id:"basic-nav-dropdown4",children:[Object(C.jsx)(T.a.Item,{href:"/reports/clockins",children:"Clockins"}),Object(C.jsx)(T.a.Divider,{}),Object(C.jsx)(T.a.Item,{href:"/reports/invoices",children:"Invoices"})]}),Object(C.jsx)("br",{}),Object(C.jsx)("a",{id:"guidance",className:"menu-item",href:"/guidance",children:"Guide"}),Object(C.jsx)("br",{}),Object(C.jsx)("a",{id:"about",className:"menu-item",href:"/about",children:"About"}),Object(C.jsx)("br",{}),Object(C.jsx)("a",{id:"contact",className:"menu-item",href:"/contact",children:"Contact"}),Object(C.jsx)("br",{}),Object(C.jsx)("a",{onClick:x,className:"menu-item--small",href:"/",children:"Logout"})]})})]}):Object(C.jsx)("div",{style:{all:"unset"},children:Object(C.jsxs)(S.a,{bg:"info",className:"showNormalMenu",sticky:"top",children:[Object(C.jsx)(S.a.Brand,{children:Object(C.jsx)(h.b,{to:"/",className:"navbar-brand",children:" Clockin.js "})}),Object(C.jsx)(S.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(C.jsxs)(S.a.Collapse,{id:"basic-navbar-nav",children:[Object(C.jsxs)(L.a,{className:"mr-auto",children:[Object(C.jsx)(h.b,{to:"/user",className:"nav-link",children:e.storeEmail}),Object(C.jsxs)(T.a,{title:"Clients",id:"basic-nav-dropdown1",children:[Object(C.jsxs)(T.a,{title:"Add a New One",id:"basic-nav-submenu",drop:"right",style:{paddingLeft:"1rem"},children:[Object(C.jsx)(T.a.Item,{href:"/clientNew",children:"Kids"}),Object(C.jsx)(T.a.Divider,{}),Object(C.jsx)(T.a.Item,{href:"/clientGeneralNew",children:"General / Company"})]}),Object(C.jsx)(T.a.Divider,{}),Object(C.jsx)(T.a.Item,{href:"/clientList",children:" List & Edit"})]}),Object(C.jsxs)(T.a,{title:"Clockins",id:"basic-nav-dropdown2",children:[Object(C.jsx)(T.a.Item,{href:"/punchInNew",children:" Punch in "}),Object(C.jsx)(T.a.Divider,{}),Object(C.jsx)(T.a.Item,{href:"/punchInsList",children:"List them all"})]}),Object(C.jsxs)(T.a,{title:"Invoices",id:"basic-nav-dropdown3",children:[Object(C.jsx)(T.a.Item,{href:"/invoiceNew",children:"Generate a brand new one"}),Object(C.jsx)(T.a.Divider,{}),Object(C.jsx)(T.a.Item,{href:"/invoicesList",children:"List, Check and Edit"}),Object(C.jsx)(T.a.Divider,{}),Object(C.jsx)(T.a.Item,{href:"/invoiceIssue",children:"Issue an Invoice"})]}),Object(C.jsxs)(T.a,{title:"Reports",id:"basic-nav-dropdown4",children:[Object(C.jsx)(T.a.Item,{href:"/reports/clockins",children:"Clockins"}),Object(C.jsx)(T.a.Divider,{}),Object(C.jsx)(T.a.Item,{href:"/reports/invoices",children:"Invoices"})]}),Object(C.jsx)(h.b,{to:"/guidance",className:"nav-link",children:"Guidance"}),Object(C.jsx)(h.b,{to:"/about",className:"nav-link",children:"About"}),Object(C.jsx)(h.b,{to:"/contact",className:"nav-link",children:"Contact"})]}),Object(C.jsx)(A.a,{onClick:x,className:"logoutBtn",children:"Logout"})]})]})}):Object(C.jsx)("div",{style:{all:"unset"},children:Object(C.jsxs)(S.a,{bg:"dark",variant:"dark",sticky:"top",children:[Object(C.jsx)(S.a.Brand,{href:"/",children:"Clockin.js"}),Object(C.jsxs)(L.a,{children:[Object(C.jsx)(h.b,{to:"/login",className:"nav-link",children:"Login"}),Object(C.jsx)(h.b,{to:"/signup",className:"nav-link",children:"Sign Up"}),Object(C.jsx)(h.b,{to:"/guidance",className:"nav-link",children:"Guide"}),Object(C.jsx)(h.b,{to:"/about",className:"nav-link",children:"About"}),F?"":Object(C.jsx)(h.b,{to:"/contact",className:"nav-link",children:"Contact"})]})]})}),n?Object(C.jsx)(B,{openModal:n,message:"Are you sure you want to leave?",yesMethod:function(){c(!1),e.noUser(),u(!0)},noMethod:function(e){o(!1),c(!1)}}):"",m?Object(C.jsx)(j.a,{to:"/land"}):""]})})),_=a(9),G=a.n(_),H=a(12),K=a(16),U=a(11),z=a(3),V=a(14),W=a.n(V),Y=a(30),J=a.n(Y),q=a(69),X=a(68);var Z=Object(b.b)(null,(function(e){return{dispatchLogin:function(t){return e({type:"LOGIN",data:t})}}}))((function(e){var t=Object(s.useState)({name:"",email:"",city:"",address:"",phone:"",postalCode:"",password:"",confirmPassword:""}),a=Object(I.a)(t,2),i=a[0],r=a[1],l=Object(s.useRef)(null),o=Object(s.useRef)(null),d=Object(s.useRef)(null),h=Object(s.useRef)(null),j=Object(s.useRef)(null),b=Object(s.useRef)(null),m=Object(s.useRef)(null),x=Object(s.useRef)(null),p=Object(s.useRef)(null),O=Object(s.useRef)(null),g=Object(s.useRef)(null),v=Object(s.useState)(!1),f=Object(I.a)(v,2),y=f[0],k=f[1],w=Object(s.useState)(!1),N=Object(I.a)(w,2),S=N[0],L=N[1],T=Object(s.useState)({content:"",cssClass:""}),P=Object(I.a)(T,2),E=P[0],D=P[1],M=Object(s.useState)(!0),B=Object(I.a)(M,2),F=B[0],R=B[1],_=Object(s.useState)(!0),V=Object(I.a)(_,2),Y=V[0],Z=V[1],$=Object(s.useState)(!1),Q=Object(I.a)($,2),ee=Q[0],te=Q[1],ae=function(e){var t=e.key,a=e.target,s=a.name,n=a.value;if("Enter"===t)switch(e.preventDefault(),e.stopPropagation(),s){case"name":i.name&&d.current.focus();break;case"email":i.email&&h.current.focus();break;case"city":j.current.focus();break;case"address":S?x.current.focus():m.current.focus();break;case"postalCode":b.current.focus();break;case"phone":p.current.focus();break;case"password":i.password&&O.current.focus();break;case"confirmPassword":i.confirmPassword&&g.current.click();break;default:console.log("it's default")}r(Object(U.a)(Object(U.a)({},i),{},Object(K.a)({},s,n))),"name"===s&&Z(!0),"email"===s&&new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,15}/g).test(n)&&R(!0)};Object(s.useEffect)((function(){if(ee){S?x.current.focus():m.current.focus();for(var e=0,t=i.postalCode.length-1;t>=0&&("_"===i.postalCode[t]||" "===i.postalCode[t]);t--)e++;r(Object(U.a)(Object(U.a)({},i),{},{postalCode:i.postalCode.slice(0,i.postalCode.length-e)}))}}),[S,L]);var se=function(){var t=Object(H.a)(G.a.mark((function t(a){var s,n,c,r,h;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),a.stopPropagation(),""===i.email||""===i.name){t.next=36;break}if(i.password===i.confirmPassword&&""!==i.password){t.next=8;break}D({content:"Password and Confirm Password fields MUST be the same and NOT empty.",cssClass:"messageFailure"}),p.current.focus(),t.next=34;break;case 8:if(""===i.phone||Number(i.phone.substring(1,4))&&Number(i.phone.substring(6,9))&&Number(i.phone.substring(10,14))){t.next=12;break}D({content:"Phone has to have 10 numbers or empty.",cssClass:"messageFailure"}),t.next=34;break;case 12:return k(!0),s="".concat(window.location.origin,"/api/user"),n={whatToDo:"signUp",name:i.name,email:i.email,password:i.password,address:i.address,city:i.city,postalCode:i.postalCode,phone:i.phone},t.prev=15,t.next=18,W.a.post(s,n);case 18:if(c=t.sent,!(r=c.data).message){t.next=26;break}return h={id:r.user._id,name:r.user.name,email:r.user.email,token:r.token,address:r.user.address,city:r.user.city,postalCode:r.user.postal_code,phone:r.user.phone},t.next=24,e.dispatchLogin({user:h});case 24:t.next=28;break;case 26:if(!r.error){t.next=28;break}throw r.error;case 28:t.next=34;break;case 30:t.prev=30,t.t0=t.catch(15),D({content:t.t0,cssClass:"messageFailure"}),k(!1);case 34:t.next=40;break;case 36:D({content:"Please, entry at least Name, Email, Password and Confirm Password",cssClass:"messageFailure"}),l.current.scrollIntoView({behavior:"smooth"}),i.name?d.current.focus():o.current.focus(),k(!1);case 40:case"end":return t.stop()}}),t,null,[[15,30]])})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsx)(n.a.Fragment,{children:Object(C.jsxs)("div",{className:"formPosition",children:[Object(C.jsx)("br",{}),Object(C.jsxs)(u.a,{className:"card-settings",children:[Object(C.jsx)(u.a.Header,{ref:l,children:Object(C.jsx)("h2",{children:"Sign Up"})}),Object(C.jsxs)(z.a,{onSubmit:se,style:{width:window.innerWidth<800||"70%",marginLeft:window.innerWidth<800||"15%"},autoComplete:"nope",children:[Object(C.jsx)("br",{}),Object(C.jsxs)(z.a.Group,{controlId:"formName",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Name"}),Object(C.jsx)(z.a.Control,{autoFocus:!0,type:"text",placeholder:"User's name",name:"name",onChange:ae,value:i.name,disabled:y,onKeyPress:ae,onBlur:function(){return Z(!!i.name)},ref:o}),!Y&&Object(C.jsx)(q.a,{target:o,show:!0,placement:"bottom",children:Object(C.jsx)(X.a,{id:"tooltip-bottom",children:Object(C.jsx)("strong",{style:{color:"gold"},children:"Please, type a name"})})})]}),Object(C.jsxs)(z.a.Group,{controlId:"formBasicEmail",style:{marginBottom:"5px"},children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Email address"}),Object(C.jsx)(z.a.Control,{type:"email",placeholder:"User's email",name:"email",onChange:ae,onKeyPress:ae,value:i.email,disabled:y,onBlur:function(){return R(!!new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,15}/g).test(i.email))},ref:d})]}),Object(C.jsx)(z.a.Text,{className:"text-muted",style:{marginTop:"2px"},children:"We'll never share your email with anyone else."}),Object(C.jsx)(z.a.Text,{className:"text-muted",style:{marginTop:"0px",marginBottom:"16px"},children:"Set a real email so you will receive emails from Clockin.js."}),!F&&Object(C.jsx)(q.a,{target:d,show:!0,placement:"bottom",children:Object(C.jsx)(X.a,{id:"tooltip-bottom",children:Object(C.jsx)("strong",{style:{color:"gold"},children:"Please, type a valid email"})})}),Object(C.jsxs)(z.a.Group,{controlId:"formCity",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"City"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Type the user's city",name:"city",onChange:ae,onKeyPress:ae,value:i.city,disabled:y,ref:h})]}),Object(C.jsxs)(z.a.Group,{controlId:"formAddress",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Address"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Type the user's address",name:"address",onChange:ae,onKeyPress:ae,value:i.address,disabled:y,ref:j})]}),Object(C.jsxs)(z.a.Group,{controlId:"formPostalCode",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Postal Code"}),Object(C.jsx)(z.a.Check,{inline:!0,label:" outside Canada",checked:S,type:"checkbox",style:{marginLeft:"1rem"},disabled:y,onChange:function(){te(!0),L(!S),S?x.current.focus():m.current.focus()}}),S?Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Enter client's postal code",name:"postalCode",onChange:function(e){return ae(e)},value:i.postalCode,disabled:y,onKeyPress:ae,ref:x}):Object(C.jsx)(J.a,{mask:[/[A-Z]/i,/\d/,/[A-Z]/i," ",/\d/,/[A-Z]/i,/\d/],className:"form-control",placeholder:"Enter client's postal code",name:"postalCode",value:i.postalCode,disabled:y,onChange:function(e){return function(e){var t=e.target.value;r(Object(U.a)(Object(U.a)({},i),{},{postalCode:isNaN(t)?t.toUpperCase():t}))}(e)},onKeyPress:ae,ref:function(e){return m.current=Object(c.findDOMNode)(e)}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formPhone",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Phone"}),Object(C.jsx)(J.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Enter your phone number",name:"phone",id:"phone",value:i.phone,onKeyPress:function(e){return ae(e)},disabled:y,ref:function(e){return b.current=Object(c.findDOMNode)(e)}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formBasicPassword",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Password"}),Object(C.jsx)(z.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:ae,value:i.password,disabled:y,onKeyPress:ae,ref:p,autoComplete:"on"})]}),Object(C.jsxs)(z.a.Group,{controlId:"formConfirmPassword",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Confirm Password"}),Object(C.jsx)(z.a.Control,{type:"password",placeholder:"Confirm Password",name:"confirmPassword",onChange:ae,value:i.confirmPassword,disabled:y,onKeyPress:ae,ref:O,autoComplete:"off"})]}),Object(C.jsx)(u.a.Footer,{className:E.cssClass,children:E.content?E.content:Object(C.jsx)("br",{})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"d-flex flex-column",children:Object(C.jsx)(A.a,{variant:"primary",type:"submit",onClick:se,disabled:y,ref:g,children:"Submit"})})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})})})),$=a(52),Q=a.n($);Q.a.setAppElement("#root");var ee={content:{top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},te={width:"50%"},ae=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={emailFP:e.props.email,message:"",classNameMessage:"",disableBtnReset:!1,disableBtnCancel:!1,label2:"Cancel"},e.handleChange=function(t){e.setState(Object(K.a)({},t.target.name,t.target.value)),"Enter"===t.key&&(t.preventDefault(),""!==e.state.emailFP&&e.resetPasswordBtn.click())},e.clearMessage=function(){setTimeout((function(){e.setState({message:"",disableBtnReset:!1,disableBtnCancel:!1})}),3500)},e.closeFTModal=function(){e.props.closeModal()},e.handleResetPassword=function(){var t=Object(H.a)(G.a.mark((function t(a){var s;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),e.state.emailFP){t.next=7;break}e.setState({message:"Type a valid email to have the password reseted.",classNameMessage:"messageFailure",disableBtnReset:!0,disableBtnCancel:!0}),e.resetPasswordEmail.focus(),e.clearMessage(),t.next=19;break;case 7:return"/api/user",t.prev=8,t.next=11,W.a.post("/api/user",{whatToDo:"forget-password",email:e.state.emailFP});case 11:s=t.sent,console.log("  forgetPassword",s),s.data.message?e.setState({message:"If <".concat(e.state.emailFP,"> is a valid email, you are about to receive an email with instructions to reset the password."),classNameMessage:"messageSuccess",disableBtnReset:!0,label2:"Close"}):e.setState({message:s.data.error,classNameMessage:"messageFailure"}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(8),e.setState({message:t.t0.message});case 19:case"end":return t.stop()}}),t,null,[[8,16]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsx)(Q.a,{isOpen:this.props.openFPModal,style:ee,children:Object(C.jsxs)(u.a,{children:[Object(C.jsx)(u.a.Header,{as:"h3",children:" Reset Password "}),Object(C.jsx)(u.a.Body,{children:Object(C.jsxs)(z.a,{children:[Object(C.jsx)(z.a.Label,{children:"This procedure is going to send an email to reset the password."}),Object(C.jsx)(z.a.Control,{autoFocus:!0,type:"email",placeholder:"Type the Email",name:"emailFP",value:this.state.emailFP,onChange:this.handleChange,onKeyPress:this.handleChange,ref:function(t){return e.resetPasswordEmail=t}}),Object(C.jsx)(u.a.Text,{className:this.state.classNameMessage,children:this.state.message}),Object(C.jsx)("div",{className:"d-flex flex-column",children:Object(C.jsxs)(M.a,{className:"mt-3",children:[this.state.disableBtnReset?"":Object(C.jsx)(A.a,{variant:"info",style:te,disabled:this.state.disableBtnReset,onClick:this.handleResetPassword,ref:function(t){return e.resetPasswordBtn=t},children:" Reset password "}),Object(C.jsxs)(A.a,{variant:this.state.disableBtnReset?"primary":"danger",disabled:this.state.disableBtnCancel,style:te,onClick:this.closeFTModal,children:[" ",this.state.label2,"  "]})]})})]})})]})})}}]),a}(s.Component),se=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:"",errorMsg:"",disable:!1,forgetPasswordModal:!1},e.handleChange=function(t){var a;e.setState((a={},Object(K.a)(a,t.target.name,t.target.value),Object(K.a)(a,"errorMsg",""),a)),"Enter"===t.key&&"email"===t.target.name&&""!==e.state.email&&e.textInput2.focus()},e.handleSubmit=function(){var t=Object(H.a)(G.a.mark((function t(a){var s,n,c,i;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),e.state.email&&e.state.password){t.next=6;break}e.setState({errorMsg:"Please, type email and passowrd."}),e.textInput1.focus(),t.next=30;break;case 6:return e.setState({disable:!0}),s="/api/user",console.log("url::::",s),t.prev=9,t.next=12,W.a.post(s,{whatToDo:"login",email:e.state.email,password:e.state.password});case 12:if(n=t.sent,console.log("===login",n),!(c=n.data).message){t.next=23;break}return(i=c.user).id=i._id,i.token=n.data.token,t.next=21,e.props.dispatchLogin({user:i});case 21:t.next=24;break;case 23:e.setState({errorMsg:c.error,email:"",password:"",disable:!1});case 24:t.next=30;break;case 26:t.prev=26,t.t0=t.catch(9),console.error(t.t0),e.setState({errorMsg:t.t0.message,disable:!1});case 30:case"end":return t.stop()}}),t,null,[[9,26]])})));return function(e){return t.apply(this,arguments)}}(),e.openModal=function(t){t.preventDefault(),e.setState({forgetPasswordModal:!0})},e.closeModal=function(){e.setState({forgetPasswordModal:!1})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"formPosition",children:[Object(C.jsx)("br",{}),Object(C.jsxs)(u.a,{className:"card-settings",children:[Object(C.jsx)(u.a.Header,{children:Object(C.jsx)("h2",{children:"Login"})}),Object(C.jsxs)(z.a,{onSubmit:this.handleSubmit,children:[Object(C.jsxs)(z.a.Group,{controlId:"formBasicEmail",children:[Object(C.jsx)("br",{}),Object(C.jsx)(z.a.Label,{children:"User's Email"}),Object(C.jsx)(z.a.Control,{autoFocus:!0,type:"email",placeholder:"Type the user's email",name:"email",onChange:this.handleChange,onKeyPress:this.handleChange,value:this.state.email,ref:function(t){return e.textInput1=t}}),Object(C.jsx)(z.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(C.jsxs)(z.a.Group,{controlId:"formBasicPassword",style:{marginBottom:"5px"},children:[Object(C.jsx)(z.a.Label,{children:"Password"}),Object(C.jsx)(z.a.Control,{type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleChange,onKeyPress:this.handleChange,ref:function(t){return e.textInput2=t}})]}),Object(C.jsx)("p",{style:{marginBottom:"20px",fontStyle:"italic",fontSize:"0.9rem",paddingLeft:"1rem"},children:Object(C.jsx)("a",{href:window.location.hash,onClick:this.openModal,children:"Forget password"})}),this.state.forgetPasswordModal?Object(C.jsx)(ae,{openFPModal:this.state.forgetPasswordModal,closeModal:this.closeModal,email:this.state.email}):"",Object(C.jsx)(u.a.Footer,{className:"messageFailure",children:this.state.errorMsg?this.state.errorMsg:Object(C.jsx)("br",{})}),Object(C.jsx)("div",{className:"d-flex flex-column",children:Object(C.jsx)(A.a,{variant:"primary",type:"submit",disabled:this.state.disable,children:"Submit"})})]})]})]})}}]),a}(s.Component),ne=Object(b.b)(null,(function(e){return{dispatchLogin:function(t){return e({type:"LOGIN",data:t})}}}))(se);var ce=Object(b.b)((function(e){return{storeUser:e.name}}),null)((function(e){return Object(C.jsxs)("div",{style:{height:window.innerHeight-56-62},children:[Object(C.jsx)(u.a,{className:"homeBack",children:Object(C.jsxs)(u.a.Body,{children:[Object(C.jsx)(u.a.Title,{children:"Home Page"}),Object(C.jsx)("br",{}),"Hi ",Object(C.jsx)("b",{children:e.storeUser}),Object(C.jsx)("br",{})," ",Object(C.jsx)("br",{}),"With Clockin.js you are able to have all your clients data, their clockins and invoices, in one system. It is easy to manage and track your work with them.",Object(C.jsx)("br",{}),"More information at ",Object(C.jsx)(h.b,{to:"/about",children:"About"}),", ",Object(C.jsx)(h.b,{to:"/guidance",children:"Guidance"})," or ",Object(C.jsx)(h.b,{to:"/contact",children:"Contact"}),".",Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),"Enjoy and good work!!",Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("p",{children:"Kind regards from"}),Object(C.jsx)("b",{children:"Clockin.js Team :)"})]})}),Object(C.jsx)(k,{bckColor:"gainsboro",opac:"iconSettingsOpacity"})]})})),ie={width:"50%",paddingLeft:"0px",paddingRight:"0px"},re=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).handleSubmit=function(){var e=Object(H.a)(G.a.mark((function e(t){var a,n,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!s.state.name||!s.state.email){e.next=17;break}return"/api/user",a={userId:s.state.userId,name:s.state.name,email:s.state.email,address:s.state.address,city:s.state.city,postalCode:s.state.postalCode,phone:s.state.phone},s.setState({disableButton:!0,disableEdit:!0,message:"Processing...",classNameMessage:"messageSuccess"}),e.prev=5,e.next=8,W.a.patch("/api/user",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.props.storeToken)}});case 8:(n=e.sent).data.message?(n.data.newData?(c={id:s.props.storeId,name:n.data.newData.name,email:n.data.newData.email,city:n.data.newData.city,address:n.data.newData.address,postalCode:n.data.newData.postalCode,phone:n.data.newData.phone,token:n.data.newData.token},s.setState({message:"Info has been updated.",classNameMessage:"messageSuccess",disableButton:!1}),s.props.dispatchLogin({user:c})):s.setState({disableButton:!1,message:n.data.message,classNameMessage:"messageSuccess"}),s.clearMessage()):n.data.error&&s.setState({disableButton:!1,message:n.data.error,classNameMessage:"messageFailure"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),s.setState({disableButton:!1,message:e.t0.message,classNameMessage:"messageFailure"});case 15:e.next=18;break;case 17:!s.state.name&&s.state.email?(s.setState({message:"Please, name should be filled.",classNameMessage:"messageFailure"}),s.textInput1.focus()):!s.state.email&&s.state.name?(s.setState({message:"Please, email should be filled.",classNameMessage:"messageFailure"}),s.textInput2.focus()):s.state.name||s.state.email||(s.setState({message:"Please, at least name and email should be filled.",classNameMessage:"messageFailure"}),s.textInput1.focus());case 18:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),s.editForm=function(){s.setState({disableEdit:!1})},s.btnCancel=function(){s.setState({disableEdit:!0,name:s.props.storeName,email:s.props.storeEmail,city:s.props.storeCity,address:s.props.storeAddress,phone:s.props.storePhone,postalCode:s.props.storePostalCode})},s.clearMessage=function(){setTimeout((function(){s.setState({message:""})}),3e3)},s.handleAskChangePassowrd=function(){s.setState({showModal:!0,modalMessage:"Are you sure you want to change your password?"})},s.handleChangePassword=Object(H.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/user",s.setState({disableButton:!0,message:"Processing...",classNameMessage:"messageSuccess"}),e.prev=2,e.next=5,W.a.post("/api/user",{whatToDo:"request-change-password",email:s.state.email});case 5:(t=e.sent).data.message?s.setState({message:"Your email <".concat(s.state.email,"> is going to receive an email with instructions to change your password."),classNameMessage:"messageSuccess"}):s.setState({message:t.data.error,classNameMessage:"messageFailure"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),s.setState({message:e.t0.message,classNameMessage:"messageFailure"});case 12:s.setState({disableButton:!1});case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),s.handleChange=function(e){if("Enter"===e.key)switch(e.target.name){case"name":""!==s.state.name&&s.textInput3.focus();break;case"address":""!==s.state.address&&s.textInput4.focus();break;case"city":""!==s.state.city&&s.textInput5.focus();break;case"phone":""!==s.state.phone&&s.buttonSave.click()}("postalCode"!==e.target.name||e.target.value.length<7)&&s.setState(Object(K.a)({},e.target.name,e.target.value))},s.state={disableEdit:!0,userId:s.props.storeId,name:s.props.storeName,email:s.props.storeEmail,city:s.props.storeCity,address:s.props.storeAddress,phone:s.props.storePhone,postalCode:s.props.storePostalCode,message:"",tmp_name:"",tmp_email:"",tmp_city:"",tmp_address:"",tmp_phone:"",tmp_postalCode:"",disableButton:!1,showModal:!1},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"formPosition",children:[Object(C.jsx)("br",{}),Object(C.jsxs)(u.a,{className:"card-settings",children:[Object(C.jsx)(u.a.Header,{className:"cardTitle",children:"User Information"}),Object(C.jsxs)(z.a,{className:"formPosition",children:[Object(C.jsx)("br",{}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formName",children:[Object(C.jsx)(z.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"},children:"Name"}),Object(C.jsx)(p.a,{sm:8,style:{paddingLeft:"0px"},children:Object(C.jsx)(z.a.Control,{disabled:this.state.disableEdit,type:"text",name:"name",onChange:this.handleChange,placeholder:"Your name",value:this.state.name||"",onKeyPress:this.handleChange,ref:function(t){return e.textInput1=t}})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formEmail",children:[Object(C.jsx)(z.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"},children:"Email"}),Object(C.jsx)(p.a,{sm:8,style:{paddingLeft:"0px"},children:Object(C.jsx)(z.a.Control,{disabled:!0,type:"text",name:"email",onChange:this.handleChange,placeholder:"Your email",value:this.state.email,onKeyPress:this.handleChange,ref:function(t){return e.textInput2=t}})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formAddress",children:[Object(C.jsx)(z.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"},children:"Address"}),Object(C.jsx)(p.a,{sm:8,style:{paddingLeft:"0px"},children:Object(C.jsx)(z.a.Control,{disabled:this.state.disableEdit,placeholder:"Type your address",type:"text",name:"address",onChange:this.handleChange,value:this.state.address||"",onKeyPress:this.handleChange,ref:function(t){return e.textInput3=t}})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formCity",children:[Object(C.jsx)(z.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"},children:"City:"}),Object(C.jsx)(p.a,{sm:8,style:{paddingLeft:"0px"},children:Object(C.jsx)(z.a.Control,{disabled:this.state.disableEdit,type:"text",name:"city",onChange:this.handleChange,placeholder:"Your city, please",value:this.state.city||"",onKeyDown:this.handleChange,ref:function(t){return e.textInput4=t}})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formPostalCode",children:[Object(C.jsx)(z.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"},children:"Postal Code"}),Object(C.jsx)(p.a,{sm:5,style:{paddingLeft:"0px"},children:Object(C.jsx)(z.a.Control,{disabled:this.state.disableEdit,type:"text",name:"postalCode",onChange:this.handleChange,value:this.state.postalCode||"",placeholder:"Type your Postal Code",onKeyDown:this.handleChange,ref:function(t){return e.textInput5=t}})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formPhone",children:[Object(C.jsx)(z.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"},children:"Phone"}),Object(C.jsx)(p.a,{sm:5,style:{paddingLeft:"0px"},children:Object(C.jsx)(J.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Enter your phone number",name:"phone",onBlur:function(t){return e.handleChange(t)},value:this.state.phone||"",onKeyPress:this.handleChange,disabled:this.state.disableEdit,ref:function(t){return e.textInput6=t}})})]})]}),Object(C.jsx)(u.a.Footer,{className:this.state.classNameMessage,children:this.state.message?this.state.message:Object(C.jsx)("br",{})}),Object(C.jsx)("div",{className:"d-flex flex-column",children:this.state.disableEdit?Object(C.jsxs)(M.a,{className:"mt-3",children:[Object(C.jsx)(A.a,{variant:"info",style:ie,onClick:this.handleAskChangePassowrd,disabled:this.state.disableButton,children:"Change Password"}),Object(C.jsx)(A.a,{variant:"primary",style:ie,onClick:this.editForm,disabled:this.state.disableButton,children:"Edit data"})]}):Object(C.jsxs)(M.a,{className:"mt-3",children:[Object(C.jsx)(A.a,{variant:"success",style:ie,onClick:this.handleSubmit,ref:function(t){return e.buttonSave=t},disabled:this.state.disableButton,children:"Save "}),Object(C.jsx)(A.a,{variant:"danger",style:ie,onClick:this.btnCancel,disabled:this.state.disableButton,children:" Cancel "})]})})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),this.state.showModal?Object(C.jsx)(B,{openModal:!0,message:this.state.modalMessage,noMethod:function(){return e.setState({showModal:!1})},yesMethod:function(){"You are going to receive an email with the instructions to modify your password."===e.state.modalMessage?(e.handleChangePassword(),e.setState({showModal:!1})):e.setState({showModal:!0,modalMessage:"You are going to receive an email with the instructions to modify your password."})}}):""]})}}]),a}(s.Component),le=Object(b.b)((function(e){return{storeToken:e.token,storeId:e.id,storeEmail:e.email,storeName:e.name,storeCity:e.city,storeAddress:e.address,storePostalCode:e.postalCode,storePhone:e.phone}}),(function(e){return{dispatchLogin:function(t){return e({type:"LOGIN",data:t})}}}))(re),oe=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={name:"",nickname:"",birthday:"",mother:"",mPhone:"",mEmail:"",father:"",fPhone:"",fEmail:"",consultant:"",cPhone:"",cEmail:"",defaultRate:"",message:"",className:"",disableBtn:!1,messageControlName:"",messageControlNickname:"",messageControlDefaultRate:""},e.handleChange=function(t){if("Enter"===t.key)switch(t.target.name){case"name":""!==e.state.name&&e.textInput2.focus();break;case"nickname":""!==e.state.nickname&&e.textInput3.focus();break;case"birthday":""!==e.state.birthday&&e.textInput4.focus();break;case"mPhone":""!==e.state.mPhone&&e.textInput6.focus();break;case"mEmail":""!==e.state.mEmail&&e.textInput7.focus();break;case"fPhone":""!==e.state.fPhone&&e.textInput9.focus();break;case"fEmail":""!==e.state.fEmail&&e.textInput10.focus();break;case"cPhone":""!==e.state.cPhone&&e.textInput12.focus();break;case"cEmail":""!==e.state.cEmail&&e.textInput13.focus();break;case"defaultRate":""!==e.state.defaultRate&&e.buttonSave.click()}e.setState(Object(K.a)({},t.target.name,t.target.value)),"name"===t.target.name&&e.state.messageControlName&&e.setState({messageControlName:""}),"nickname"===t.target.name&&e.state.messageControlNickname&&e.setState({messageControlNickname:""}),"defaultRate"===t.target.name&&e.state.messageControlDefaultRate&&e.setState({messageControlDefaultRate:""})},e.handleSubmit=function(){var t=Object(H.a)(G.a.mark((function t(a){var s,n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),window.scrollTo(0,2e3),e.state.name&&e.state.nickname&&e.state.defaultRate){t.next=8;break}e.state.defaultRate||(e.setState({messageControlDefaultRate:"Please inform the default rate($)."}),e.textInput13.focus()),e.state.nickname||(window.scrollTo(0,0),e.setState({messageControlNickname:"Please inform Client's nickname."}),e.textInput2.focus()),e.state.name||(window.scrollTo(0,0),e.setState({messageControlName:"Please inform Client's name."}),e.textInput1.focus()),t.next=28;break;case 8:return e.setState({disableBtn:!0}),"/api/client",s={name:e.state.name,nickname:e.state.nickname,birthday:e.state.birthday||void 0,mother:e.state.mother||void 0,mPhone:e.state.mPhone||void 0,mEmail:e.state.mEmail||void 0,father:e.state.father||void 0,fPhone:e.state.fPhone||void 0,fEmail:e.state.fEmail||void 0,consultant:e.state.consultant||void 0,cPhone:e.state.cPhone||void 0,cEmail:e.state.cEmail||void 0,defaultRate:e.state.defaultRate,typeKid:!0},t.prev=11,t.next=14,W.a.post("/api/client",s,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.props.storeToken)}});case 14:if(n=t.sent,console.log("addClient",n),!n.data.message){t.next=21;break}e.setState({message:Object(C.jsxs)("p",{children:["Client ",Object(C.jsx)("b",{children:e.state.nickname})," has been created."]}),className:"messageSuccess"}),e.clearMessage(),t.next=22;break;case 21:throw new Error(n.data.error);case 22:t.next=28;break;case 24:t.prev=24,t.t0=t.catch(11),console.log("error:::",t.t0.name,t.t0.message,JSON.stringify(t.t0)),e.setState({message:t.t0.message||t.t0,className:"messageFailure",disableBtn:!1});case 28:case"end":return t.stop()}}),t,null,[[11,24]])})));return function(e){return t.apply(this,arguments)}}(),e.clearMessage=function(){setTimeout((function(){e.setState({name:"",nickname:"",birthday:"",mother:"",mPhone:"",mEmail:"",father:"",fPhone:"",fEmail:"",consultant:"",cPhone:"",cEmail:"",defaultRate:"",disableRate:!1,message:"",disableBtn:!1}),window.scrollTo(0,0),e.textInput1.focus()}),3500)},e.afterChange=function(t){e.setState(Object(K.a)({},t.target.name,t.target.value))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"formPosition",children:[Object(C.jsx)("br",{}),Object(C.jsxs)(u.a,{className:"card-settings",children:[Object(C.jsx)(u.a.Header,{children:Object(C.jsx)("h2",{children:"New Kid Client"})}),Object(C.jsxs)(z.a,{autoComplete:"off",onSubmit:this.handleSubmit,className:"formPosition",style:{width:"30rem"},children:[Object(C.jsxs)(z.a.Group,{controlId:"formName",children:[Object(C.jsx)("br",{}),Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Name"}),Object(C.jsx)(z.a.Control,{autoFocus:!0,type:"text",placeholder:"Client's name",name:"name",onChange:this.handleChange,value:this.state.name,onKeyPress:this.handleChange,ref:function(t){return e.textInput1=t}}),Object(C.jsx)(z.a.Text,{className:"messageControl-user",children:this.state.messageControlName})]}),Object(C.jsxs)(z.a.Group,{controlId:"formNickname",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Nickname"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Client's nickname",name:"nickname",onChange:this.handleChange,value:this.state.nickname,onKeyPress:this.handleChange,ref:function(t){return e.textInput2=t}}),Object(C.jsx)(z.a.Text,{className:"messageControl-user",children:this.state.messageControlNickname})]}),Object(C.jsxs)(z.a.Group,{controlId:"formBirthday",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Birthday"}),Object(C.jsx)(z.a.Control,{type:"date",placeholder:"Client's birthday",name:"birthday",onChange:this.handleChange,value:this.state.birthday,onKeyPress:this.handleChange,ref:function(t){return e.textInput3=t}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formMother",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Mother"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Client's mother name",name:"mother",onChange:this.handleChange,value:this.state.mother,onKeyPress:this.handleChange,ref:function(t){return e.textInput4=t}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formMPhone",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Mother's Phone"}),Object(C.jsx)(J.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Mother's phone number",name:"mPhone",id:"mPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.mPhone,onKeyPress:this.handleChange,ref:function(t){return e.textInput5=t}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formBasicEmail",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Mother's Email address"}),Object(C.jsx)(z.a.Control,{type:"email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",placeholder:"Mother's email",name:"mEmail",onChange:this.handleChange,value:this.state.mEmail,onKeyPress:this.handleChange,ref:function(t){return e.textInput6=t}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formFather",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Father"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Client's father name",name:"father",onChange:this.handleChange,value:this.state.father,onKeyPress:this.handleChange,ref:function(t){return e.textInput7=t}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formFPhone",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Father's Phone"}),Object(C.jsx)(J.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Father's phone number",name:"fPhone",id:"fPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.fPhone,onKeyPress:this.handleChange,ref:function(t){return e.textInput8=t}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formFEmail",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Father's Email address"}),Object(C.jsx)(z.a.Control,{type:"email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",placeholder:"Father's email",name:"fEmail",onChange:this.handleChange,value:this.state.fEmail,onKeyPress:this.handleChange,ref:function(t){return e.textInput9=t}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formConsultant",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Consultant"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Consultant's name",name:"consultant",onChange:this.handleChange,value:this.state.consultant,onKeyPress:this.handleChange,ref:function(t){return e.textInput10=t}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formCPhone",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Consultant's Phone"}),Object(C.jsx)(J.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Consultant's phone number",name:"cPhone",id:"cPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.cPhone,onKeyPress:this.handleChange,ref:function(t){return e.textInput11=t}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formCEmail",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Consultant's Email address"}),Object(C.jsx)(z.a.Control,{type:"email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",placeholder:"Consultant's email",name:"cEmail",onChange:this.handleChange,value:this.state.cEmail,onKeyPress:this.handleChange,ref:function(t){return e.textInput12=t}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formDefaultRate",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Rate"}),Object(C.jsx)(z.a.Control,{type:"number",placeholder:"Hourly rate - CAD$",name:"defaultRate",onChange:this.handleChange,value:this.state.defaultRate,onKeyPress:this.handleChange,ref:function(t){return e.textInput13=t}}),Object(C.jsx)(z.a.Text,{className:"messageControl-user",children:this.state.messageControlDefaultRate})]}),Object(C.jsx)(u.a.Footer,{className:this.state.className,children:this.state.message?this.state.message:Object(C.jsx)("br",{})}),Object(C.jsx)("div",{className:"d-flex flex-column",children:Object(C.jsx)(A.a,{disabled:this.state.disableBtn,variant:"primary",type:"submit",ref:function(t){return e.buttonSave=t},children:"Save"})})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})}}]),a}(s.Component),de=Object(b.b)((function(e){return{storeToken:e.token}}),null)(oe),he=(a(160),a(47)),je=a(39),be=a(114);var me=Object(b.b)((function(e){return{storeToken:e.token}}),(function(e){return{noUser:function(){return e({type:"LOGOUT"})}}}))((function(e){var t=Object(s.useState)(""),a=Object(I.a)(t,2),c=a[0],i=a[1],r=Object(s.useState)(""),l=Object(I.a)(r,2),o=l[0],d=l[1],h=Object(s.useState)(""),b=Object(I.a)(h,2),m=b[0],u=b[1],x=Object(s.useState)(""),p=Object(I.a)(x,2),O=p[0],g=p[1],v=Object(s.useState)("Processing..."),f=Object(I.a)(v,2),y=f[0],k=f[1];Object(s.useEffect)((function(){console.log("updating button"),w()}),[e.updateButton]);var w=function(){var t=Object(H.a)(G.a.mark((function t(){var a,s,n,c,r;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k("Processing..."),"/api/client",a=e.askInvoiceSample||!1,t.prev=3,t.next=6,W.a.get("/api/client",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.storeToken),askinvoicesample:a}});case 6:if(s=t.sent,console.log(" **********getClients:: ",s),k(""),!s.data.count){t.next=20;break}return t.next=12,s.data.message.map((function(e){return e}));case 12:return n=t.sent,t.next=15,n.sort((function(e,t){return(e.nickname||e.name).toUpperCase()>(t.nickname||t.name).toUpperCase()?1:-1}));case 15:c=t.sent,r=Object(he.a)(c),i(r),t.next=21;break;case 20:s.data.error&&g(!0);case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(3),d(t.t0.message);case 26:case"end":return t.stop()}}),t,null,[[3,23]])})));return function(){return t.apply(this,arguments)}}(),N=function(t,a){t.preventDefault(),e.clientListFlag?e.getCompanyInfo(a):e.getClientInfo(a)};return Object(C.jsxs)(C.Fragment,{children:[m&&Object(C.jsx)(j.a,{to:"/land"}),O&&Object(C.jsx)(B,{openModal:O,message:"User needs to login again.",noMethod:function(){e.noUser(),u(!0),g(!1)}}),c.length?Object(C.jsx)(be.a,{id:"dropdown-basic",disabled:e.onlyOneClient,variant:"success",title:e.client&&(e.client.nickname||e.client.name)||"Select client",children:Object(C.jsx)(n.a.Fragment,{children:c.map((function(e,t){return Object(C.jsxs)(je.a.Item,{onClick:function(t){return N(t,e)},name:e.name,children:[" ",e.nickname||e.name]},t)}))})}):function(){var e=y||o||"No clients at all";return Object(C.jsx)("div",{className:y?"gcbcgreen":"gcbcred",children:e})}()]})})),ue=function(e){var t=new Date(e.substring(0,10)),a=t.getUTCMonth()+1;return t.getUTCFullYear()+"-"+(a<10?"0".concat(a):a)+"-"+(t.getUTCDate()<10?"0".concat(t.getUTCDate()):t.getUTCDate())},xe=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).handleChange=function(e){s.setState(Object(K.a)({},e.target.name,e.target.value)),"name"===e.target.name&&s.state.messageControlName&&s.setState({messageControlName:""}),"nickname"===e.target.name&&s.state.messageControlNickname&&s.setState({messageControlNickname:""}),"defaultRate"===e.target.name&&s.state.messageControlDefaultRate&&s.setState({messageControlDefaultRate:""})},s.handlePostalCode=function(e){var t=e.target.value;s.setState({postalCode:isNaN(t)?t.toUpperCase():t})},s.handleSubmit=function(){var e=Object(H.a)(G.a.mark((function e(t){var a,n,c,i,r,l;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=!!s.state.name&&s.state.name.trim(),n=!!s.state.nickname&&s.state.nickname.trim(),c=!!s.state.defaultRate&&s.state.defaultRate.trim(),a&&c&&(!s.state.typeKid||n)){e.next=8;break}c||(s.setState({messageControlDefaultRate:"Please inform the default rate($)."}),s.textInput13.focus()),s.state.typeKid&&(n||(window.scrollTo(0,0),s.setState({messageControlNickname:"Please inform Client's nickname."}),s.textInput2.focus())),a||(window.scrollTo(0,0),s.setState({messageControlName:"Please inform Client's name."}),s.textInput1.focus()),e.next=25;break;case 8:return s.setState({disableEditForm:!0}),i=s.state.typeKid?{name:a,default_rate:c,nickname:s.state.typeKid?n:void 0,birthday:s.state.birthday||void 0,mother:s.state.mother||(s.state.tmp_mother?"":void 0),mPhone:s.state.mPhone||(s.state.tmp_mPhone?"":void 0),mEmail:s.state.mEmail||(s.state.tmp_mEmail?"":void 0),father:s.state.father||(s.state.tmp_father?"":void 0),fPhone:s.state.fPhone||(s.state.tmp_fPhone?"":void 0),fEmail:s.state.fEmail||(s.state.tmp_fEmail?"":void 0),consultant:s.state.consultant||(s.state.tmp_consultant?"":void 0),cPhone:s.state.cPhone||(s.state.tmp_cPhone?"":void 0),cEmail:s.state.cEmail||(s.state.tmp_cEmail?"":void 0)}:{email:s.state.email||(s.state.tmp_email?"":void 0),phone:s.state.phone||(s.state.tmp_phone?"":void 0),city:s.state.city||(s.state.tmp_city?"":void 0),address:s.state.address||(s.state.tmp_address?"":void 0),province:s.state.province||(s.state.tmp_province?"":void 0),postal_code:s.state.postalCodeChange&&!s.state.pcOutsideCanada?s.state.postalCode.substr(0,6).split(" ").join(""):s.state.postalCode||void 0,type_of_service:s.state.typeOfService||(s.state.tmp_typeOfService?"":void 0)},r={clientId:s.state.clientId,inactive:s.state.inactive,showRate:s.state.showRate,showNotes:s.state.showNotes},i=Object(U.a)(Object(U.a)({},i),r),"/api/client",console.log("sending data:",i),e.prev=14,e.next=17,W.a.patch("/api/client",i,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.props.storeToken)}});case 17:l=e.sent,console.log("newClientData",l),l.data.message?l.data.newData?s.setState({message:"".concat(l.data.newData.nickname||l.data.newData.name," has been changed"),name:l.data.newData.name,nickname:l.data.newData.nickname,birthday:l.data.newData.birthday&&ue(l.data.newData.birthday)||"",mother:l.data.newData.mother||"",mPhone:l.data.newData.mphone||"",mEmail:l.data.newData.memail||"",father:l.data.newData.father||"",fPhone:l.data.newData.fphone||"",fEmail:l.data.newData.femail||"",cPhone:l.data.newData.cphone||"",cEmail:l.data.newData.cemail||"",consultant:l.data.newData.consultant||"",defaultRate:l.data.newData.default_rate||"",className:"messageSuccess",email:l.data.newData.email||"",phone:l.data.newData.phone||"",city:l.data.newData.city||"",address:l.data.newData.address||"",province:l.data.newData.province||"",postal_code:l.data.newData.postalCode||"",type_of_service:l.data.newData.typeOfService||"",updateButton:!s.state.updateButton,inactive:l.data.newData.inactive||""}):s.setState({message:l.data.message,className:"messageSuccess"}):l.data.error&&s.setState({message:l.data.error,className:"messageFailure"}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(14),s.setState({message:e.t0.message,className:"messageFailure"});case 25:case"end":return e.stop()}}),e,null,[[14,22]])})));return function(t){return e.apply(this,arguments)}}(),s.clearMessage=function(){s.setState({disableEditForm:!0}),setTimeout((function(){s.setState({message:""})}),3e3)},s.getClientInfo=function(e){var t=e._id,a=e.name,n=e.nickname;s.setState({client:e,clientId:t,name:a,defaultRate:e.default_rate,pcOutsideCanada:!!(e.postal_code&&e.postal_code.length>6),nickname:n,birthday:e.birthday&&ue(e.birthday)||"",mother:e.mother||"",mPhone:e.mphone||"",mEmail:e.memail||"",father:e.father||"",fPhone:e.fphone||"",fEmail:e.femail||"",consultant:e.consultant||"",cPhone:e.cphone||"",cEmail:e.cemail||"",typeKid:e.type_kid||"",email:e.email||"",phone:e.phone||"",city:e.city||"",address:e.address||"",province:e.province||"",postalCode:e.postal_code||"",typeOfService:e.type_of_service||"",disableEditForm:!0,inactive:e.inactive||"",showRate:e.showRate||"",showNotes:e.showNotes||"",message:""})},s.editForm=function(){s.setState({disableEditForm:!1,tmp_name:s.state.name,tmp_nickname:s.state.nickname,tmp_birthday:s.state.birthday,tmp_mother:s.state.mother,tmp_mPhone:s.state.mPhone,tmp_mEmail:s.state.mEmail,tmp_father:s.state.father,tmp_fPhone:s.state.fPhone,tmp_fEmail:s.state.fEmail,tmp_consultant:s.state.consultant,tmp_cPhone:s.state.cPhone,tmp_cEmail:s.state.cEmail,tmp_defaultRate:s.state.defaultRate,tmp_email:s.state.email,tmp_phone:s.state.phone,tmp_city:s.state.city,tmp_address:s.state.address,tmp_province:s.state.province,tmp_postalCode:s.state.postalCode,tmp_typeOfService:s.state.typeOfService,tmp_inactive:s.state.inactive,tmp_showRate:s.state.showRate,tmp_showNotes:s.state.showNotes,message:"",updateDropDown:!0})},s.btnCancel=function(){s.setState({disableEditForm:!0,name:s.state.tmp_name,nickname:s.state.tmp_nickname,birthday:s.state.tmp_birthday,mother:s.state.tmp_mother,mPhone:s.state.tmp_mPhone,mEmail:s.state.tmp_mEmail,father:s.state.tmp_father,fPhone:s.state.tmp_fPhone,fEmail:s.state.tmp_fEmail,consultant:s.state.tmp_consultant,cPhone:s.state.tmp_cPhone,cEmail:s.state.tmp_cEmail,defaultRate:s.state.tmp_defaultRate,email:s.state.tmp_email,phone:s.state.tmp_phone,city:s.state.tmp_city,address:s.state.tmp_address,province:s.state.tmp_province,postalCode:s.state.tmp_postalCode,typeOfService:s.state.tmp_typeOfService,inactive:s.state.tmp_inactive,showRate:s.state.tmp_showRate,showNotes:s.state.tmp_showNotes,updateDropDown:!1})},s.afterChange=function(e){var t;s.setState((t={},Object(K.a)(t,e.target.name,e.target.value),Object(K.a)(t,"message",""),t))},s.handleCheckPostalCode=function(){s.setState({pcOutsideCanada:!s.state.pcOutsideCanada,postalCodeChange:!s.state.postalCodeChange})},s.state={message:"",disableEditForm:!0,client:"",clientId:"",name:"",nickname:"",birthday:"",mother:"",mPhone:"",mEmail:"",father:"",fPhone:"",fEmail:"",consultant:"",cPhone:"",cEmail:"",defaultRate:"",typeKid:"",tmp_name:"",tmp_nickname:"",tmp_birthday:"",tmp_mother:"",tmp_mPhone:"",tmp_mEmail:"",tmp_father:"",tmp_fPhone:"",tmp_fEmail:"",tmp_consultant:"",tmp_cPhone:"",tmp_cEmail:"",tmp_defaultRate:"",className:"",email:"",phone:"",city:"",address:"",province:"",postalCode:"",typeOfService:"",tmp_email:"",tmp_phone:"",tmp_city:"",tmp_address:"",tmp_province:"",tmp_postalCode:"",tmp_typeOfService:"",updateButton:!1,pcOutsideCanada:!1,postalCodeChange:!1,inactive:!1,showRate:!0,showNotes:!0,tmp_showRate:!0,tmp_showNotes:!0},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"formPosition",children:[Object(C.jsx)("br",{}),Object(C.jsxs)(u.a,{className:"card-settings",children:[Object(C.jsx)(u.a.Header,{children:"Your Client's list"}),Object(C.jsx)(u.a.Body,{children:Object(C.jsx)("div",{children:Object(C.jsx)(me,{client:this.state.client,getClientInfo:this.getClientInfo,updateButton:this.state.updateButton,bringAllClients:!0})})})]}),this.state.clientId?Object(C.jsxs)("div",{children:[Object(C.jsx)(u.a,{className:"card-settings",children:Object(C.jsxs)(z.a,{autoComplete:"off",onSubmit:this.handleSubmit,className:"formPosition",style:{width:"30rem"},children:[Object(C.jsxs)(z.a.Group,{controlId:"formName",children:[Object(C.jsxs)(A.a,{style:{width:"50%"},onClick:function(){return e.setState({inactive:!e.state.inactive})},variant:this.state.inactive?"danger":"primary",disabled:this.state.disableEditForm,children:["Client is ",Object(C.jsx)("strong",{children:this.state.inactive?"Inactive":"Active"})]}),Object(C.jsx)("br",{})," ",Object(C.jsx)("br",{}),Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Name"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Type the client's name",name:"name",onChange:this.handleChange,value:this.state.name,onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput1=t}}),Object(C.jsx)(z.a.Text,{className:"messageControl-user",children:this.state.messageControlName})]}),this.state.typeKid?Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsxs)(z.a.Group,{controlId:"formNickname",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Nickname"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Type the client's nickname",name:"nickname",onChange:this.handleChange,value:this.state.nickname,onKeyPress:this.handleChange,disabled:this.state.disableEditForm,ref:function(t){return e.textInput2=t}}),Object(C.jsx)(z.a.Text,{className:"messageControl-user",children:this.state.messageControlNickname})]}),Object(C.jsxs)(z.a.Group,{controlId:"formBirthday",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Birthday"}),Object(C.jsx)(z.a.Control,{type:"date",name:"birthday",onChange:this.handleChange,value:this.state.birthday,disabled:this.state.disableEditForm})]}),Object(C.jsxs)(z.a.Group,{controlId:"formMother",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Mother"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Type the client's mother name",name:"mother",onChange:this.handleChange,value:this.state.mother,onKeyPress:this.handleChange,disabled:this.state.disableEditForm})]}),Object(C.jsxs)(z.a.Group,{controlId:"formMPhone",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Mother's Phone"}),Object(C.jsx)(J.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Enter mother's phone number",name:"mPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.mPhone,onKeyPress:this.handleChange,disabled:this.state.disableEditForm})]}),Object(C.jsxs)(z.a.Group,{controlId:"formMEmail",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Mother's Email address"}),Object(C.jsx)(z.a.Control,{type:"email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",placeholder:"Type the mother's email",name:"mEmail",onChange:this.handleChange,value:this.state.mEmail,onKeyPress:this.handleChange,disabled:this.state.disableEditForm})]}),Object(C.jsxs)(z.a.Group,{controlId:"formFather",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Father"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Type the client's father name",name:"father",onChange:this.handleChange,value:this.state.father,onKeyPress:this.handleChange,disabled:this.state.disableEditForm})]}),Object(C.jsxs)(z.a.Group,{controlId:"formFPhone",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Father's Phone"}),Object(C.jsx)(J.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Enter father's phone number",name:"fPhone",id:"fPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.fPhone,onKeyPress:function(){return e.handleChange},disabled:this.state.disableEditForm})]}),Object(C.jsxs)(z.a.Group,{controlId:"formFEmail",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Father's Email address"}),Object(C.jsx)(z.a.Control,{type:"email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",placeholder:"Type father's email",name:"fEmail",onChange:this.handleChange,value:this.state.fEmail,onKeyPress:this.handleChange,disabled:this.state.disableEditForm})]}),Object(C.jsxs)(z.a.Group,{controlId:"formConsultant",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Consultant"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Type consultant's name",name:"consultant",onChange:this.handleChange,value:this.state.consultant,onKeyPress:this.handleChange,disabled:this.state.disableEditForm})]}),Object(C.jsxs)(z.a.Group,{controlId:"formCPhone",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Consultant's Phone"}),Object(C.jsx)(J.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Enter consultant's phone number",name:"cPhone",id:"cPhone",onBlur:function(t){return e.afterChange(t)},value:this.state.cPhone,onKeyPress:this.handleChange,disabled:this.state.disableEditForm})]}),Object(C.jsxs)(z.a.Group,{controlId:"formCEmail",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Consultant's Email address"}),Object(C.jsx)(z.a.Control,{type:"email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",placeholder:"Type consultant's email",name:"cEmail",onChange:this.handleChange,value:this.state.cEmail,onKeyPress:this.handleChange,disabled:this.state.disableEditForm})]})]}):Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsxs)(z.a.Group,{controlId:"formEmail",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Email"}),Object(C.jsx)(z.a.Control,{type:"email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",placeholder:"Type client's email",name:"email",onChange:this.handleChange,value:this.state.email,onKeyPress:this.handleChange,disabled:this.state.disableEditForm})]}),Object(C.jsxs)(z.a.Group,{controlId:"formPhone",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Phone"}),Object(C.jsx)(J.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Enter client's phone number",name:"phone",onBlur:function(t){return e.afterChange(t)},value:this.state.phone,onKeyPress:this.handleChange,disabled:this.state.disableEditForm})]}),Object(C.jsxs)(z.a.Group,{controlId:"formCity",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"City"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Type client's city",name:"city",onChange:this.handleChange,value:this.state.city,onKeyPress:this.handleChange,disabled:this.state.disableEditForm})]}),Object(C.jsxs)(z.a.Group,{controlId:"formAddress",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Address"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Type client's address",name:"address",onChange:this.handleChange,value:this.state.address,onKeyPress:this.handleChange,disabled:this.state.disableEditForm})]}),Object(C.jsxs)(z.a.Group,{controlId:"formProvince",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Province"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Type client's province",name:"province",onChange:this.handleChange,value:this.state.province,onKeyPress:this.handleChange,disabled:this.state.disableEditForm})]}),Object(C.jsxs)(z.a.Group,{controlId:"formPostalCode",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Postal Code"}),Object(C.jsx)(z.a.Check,{inline:!0,label:" outside Canada",checked:this.state.pcOutsideCanada,type:"checkbox",style:{marginLeft:"1rem"},onChange:this.handleCheckPostalCode,disabled:this.state.disableEditForm}),this.state.pcOutsideCanada?Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Enter client's postal code",name:"postalCode",onChange:this.handleChange,value:this.state.postalCode,onKeyPress:this.handleChange,disabled:this.state.disableEditForm}):Object(C.jsx)(J.a,{mask:[/[A-Z]/i,/\d/,/[A-Z]/i," ",/\d/,/[A-Z]/i,/\d/],className:"form-control",placeholder:"Enter client's postal code",name:"postalCode",value:this.state.postalCode,onChange:this.handlePostalCode,disabled:this.state.disableEditForm})]}),Object(C.jsxs)(z.a.Group,{controlId:"formTypeOfService",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Type of Service"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Type the type of service your are doing",name:"typeOfService",onChange:this.handleChange,value:this.state.typeOfService,onKeyPress:this.handleChange,disabled:this.state.disableEditForm})]})]}),Object(C.jsxs)(z.a.Group,{controlId:"formDefaultRate",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Rate"}),Object(C.jsx)(z.a.Control,{type:"number",placeholder:"Type the hourly rate - CAD$",name:"defaultRate",onChange:this.handleChange,value:this.state.defaultRate,onKeyPress:this.handleChange,disabled:this.state.disableEditForm||this.state.disableRate,ref:function(t){return e.textInput13=t}}),Object(C.jsx)(z.a.Text,{className:"messageControl-user",children:this.state.messageControlDefaultRate})]}),Object(C.jsx)("br",{}),Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsxs)(z.a.Group,{controlId:"formShowRate",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Show Rate on PunchIn form?"}),Object(C.jsx)(z.a.Check,{inline:!0,label:"Yes",checked:this.state.showRate,type:"radio",style:{marginLeft:"2rem"},disabled:this.state.disableEditForm,onChange:function(){return e.setState({showRate:!0})}}),Object(C.jsx)(z.a.Check,{inline:!0,label:"No",checked:!this.state.showRate,type:"radio",style:{marginLeft:"1rem"},disabled:this.state.disableEditForm,onChange:function(){return e.setState({showRate:!1})}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formShowNotes",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Show Notes on PunchIn form?"}),Object(C.jsx)(z.a.Check,{inline:!0,label:"Yes",checked:this.state.showNotes,type:"radio",style:{marginLeft:"2rem"},disabled:this.state.disableEditForm,onChange:function(){return e.setState({showNotes:!0})}}),Object(C.jsx)(z.a.Check,{inline:!0,label:"No",checked:!this.state.showNotes,type:"radio",style:{marginLeft:"1rem"},disabled:this.state.disableEditForm,onChange:function(){return e.setState({showNotes:!1})}})]})]}),Object(C.jsx)(u.a.Footer,{className:this.state.className,children:this.state.message?this.state.message:Object(C.jsx)("br",{})}),Object(C.jsx)("div",{className:"d-flex flex-column",children:this.state.disableEditForm?Object(C.jsx)(A.a,{style:{width:"100%"},onClick:this.editForm,ref:function(t){return e.textInputX=t},children:"Edit"}):Object(C.jsxs)(M.a,{children:[Object(C.jsx)(A.a,{variant:"success",style:{width:"50%"},type:"submit",children:"Save"}),Object(C.jsx)(A.a,{variant:"warning",style:{width:"50%"},onClick:this.btnCancel,children:"Cancel"})]})})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]}):null]})}}]),a}(s.Component),pe=Object(b.b)((function(e){return{storeToken:e.token}}),null)(xe),Oe=a(36),ge=function(){var e=Object(H.a)(G.a.mark((function e(t,a){var s,n,c=arguments;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s="",e.t0=a,e.next="byDate"===e.t0?4:"invoiceClockins"===e.t0?6:"normal"===e.t0?8:10;break;case 4:return s="/api/clockin/?userToken=".concat(t,"&date=").concat(c.length<=2?void 0:c[2],"&type=").concat(a),e.abrupt("break",10);case 6:return s="/api/clockin/?userToken=".concat(t,"&invoiceId=").concat(c.length<=2?void 0:c[2],"&type=").concat(a),e.abrupt("break",10);case 8:return s="/api/clockin/?dateStart=".concat(c.length<=2?void 0:c[2],"&dateEnd=").concat(c.length<=3?void 0:c[3],"&clientId=").concat(c.length<=4?void 0:c[4],"&queryLastInvoiceCode=").concat(c.length<=5?void 0:c[5],"&type=").concat(a),e.abrupt("break",10);case 10:return e.prev=10,e.next=13,W.a.get(s,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 13:if(n=e.sent,console.log("past clockinsss url::",s,"and:",n),!n.data.error){e.next=17;break}throw n.data.error;case 17:return e.abrupt("return",(c.length<=5?void 0:c[5])?n:n.data.allClockins);case 20:return e.prev=20,e.t1=e.catch(10),e.abrupt("return",{error:e.t1.message||e.t1});case 23:case"end":return e.stop()}}),e,null,[[10,20]])})));return function(t,a){return e.apply(this,arguments)}}(),ve=function(e){var t=new Date(e),a=t.getUTCDate()>9?t.getUTCDate():"0".concat(t.getUTCDate());return"".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getUTCMonth()]," ").concat(a,", ").concat(t.getUTCFullYear())},fe=function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()>8?e.getMonth()+1:"0".concat(e.getMonth()+1),s=e.getDate()>9?e.getDate():"0".concat(e.getDate()),n=e.getHours()>9?e.getHours():"0".concat(e.getHours()),c=e.getMinutes()>9?e.getMinutes():"0".concat(e.getMinutes());return"".concat(t,"-").concat(a,"-").concat(s,"T").concat(n,":").concat(c,"Z")},ye=function(e,t){var a=new Date(e.time_start),s=new Date(e.time_end),n=e.break_start?new Date(e.break_start):"",c=e.break_end?new Date(e.break_end):"",i=e.worked_hours?e.worked_hours/36e5:(s-a)/36e5;return{id:e._id,num:t+1,date:ve(e.date),timeStart:(a.getUTCHours()<10?"0"+a.getUTCHours():a.getUTCHours())+":"+(a.getUTCMinutes()<10?"0"+a.getUTCMinutes():a.getUTCMinutes()),timeEnd:(s.getUTCHours()<10?"0"+s.getUTCHours():s.getUTCHours())+":"+(s.getUTCMinutes()<10?"0"+s.getUTCMinutes():s.getUTCMinutes()),breakStart:n?(n.getUTCHours()<10?"0"+n.getUTCHours():n.getUTCHours())+":"+(n.getUTCMinutes()<10?"0"+n.getUTCMinutes():n.getUTCMinutes()):"",breakEnd:c?(c.getUTCHours()<10?"0"+c.getUTCHours():c.getUTCHours())+":"+(c.getUTCMinutes()<10?"0"+c.getUTCMinutes():c.getUTCMinutes()):"",rate:e.rate,totalTime:i.toFixed(2),totalCad:(i*Number(e.rate)).toFixed(2),invoice:e.invoice?e.invoice.code:"not yet",client:e.client_nickname||e.client_name,workedHours:e.worked_hours?i.toFixed(2):"",notes:e.notes||" "}},Ce=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={date:"",startingTime:"",endingTime:"",rate:"",notes:"",message:"",client:{},addBreak:!1,startingBreak:"",endingBreak:"",validBreak:!0,classNameMessage:"",disabledBtn:!1,showPastClockins:!1,pastClockins:"",tablePastClockins:"",messageNoClockins:"No clockins for this day",blockedHours:[],pastClockinsMessage:""},e.handleChange=function(t){e.setState(Object(K.a)({},t.target.name,t.target.value)),"date"===t.target.name&&window.innerWidth<=800&&e.getPastClockins(t.target.value)},e.getPastClockins=function(){var t=Object(H.a)(G.a.mark((function t(a){var s,n,c;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({pastClockinsMessage:"Checking clockins..."}),t.next=3,ge(e.props.storeToken,"byDate",a||e.state.date);case 3:if(s=t.sent,t.t0=s,!t.t0){t.next=9;break}return t.next=8,e.formatClockinsTable(s);case 8:t.t0=t.sent;case 9:if(n=t.t0,t.t1=s,!t.t1){t.next=15;break}return t.next=14,e.getBlockedHours(s);case 14:t.t1=t.sent;case 15:c=t.t1,e.setState({pastClockinsMessage:"",showPastClockins:!0,pastClockins:s,tablePastClockins:n,blockedHours:c});case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getBlockedHours=function(e){return e.map((function(e){return{timeStart:new Date(e.time_start).getTime(),timeEnd:new Date(e.time_end).getTime()}}))},e.formatClockinsTable=function(e){return e.map((function(e,t){var a=ye(e,t);return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:a.num}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:a.client}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:a.date}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:a.timeStart}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:a.timeEnd})]},a.num)}))},e.checkHours=function(t,a){var s=new Date("".concat(e.state.date,"T").concat(t,"Z")).getTime(),n=new Date("".concat(e.state.date,"T").concat(a,"Z")).getTime();return e.state.blockedHours.filter((function(e){return s>=e.timeStart&&s<=e.timeEnd||n>=e.timeStart&&n<=e.timeEnd})).length},e.handleSubmit=function(){var t=Object(H.a)(G.a.mark((function t(a){var s,n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({disabledBtn:!0}),a.preventDefault(),s={date:e.state.date,timeStart:e.state.startingTime,timeEnd:e.state.endingTime,rate:e.state.rate,notes:e.state.notes||void 0,clientId:e.state.client._id,startingBreak:e.state.startingBreak||void 0,endingBreak:e.state.endingBreak||void 0,companyId:e.state.client.linked_company||void 0},console.log("data to be sent:",s),s.clientId&&s.date&&s.timeStart&&s.timeEnd&&s.rate&&e.state.validBreak){t.next=8;break}e.state.validBreak?e.messageValidationMethod():e.checkBreakIsValid(a),t.next=25;break;case 8:if(!e.state.pastClockins||!e.checkHours(s.timeStart,s.timeEnd)){t.next=12;break}e.setState({message:"Check time, please",classNameMessage:"messageFailure",disabledBtn:!1}),t.next=25;break;case 12:return"/api/clockin",t.prev=13,t.next=16,W.a.post("/api/clockin",s,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.props.storeToken)}});case 16:n=t.sent,console.log("addClockin",n),n.data.message?e.setState({message:"Punched in!",classNameMessage:"messageSuccess"}):n.data.error&&e.setState({message:n.data.error,classNameMessage:"messageFailure"}),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(13),e.setState({message:t.t0.message,classNameMessage:"messageFailure"});case 24:e.clearForm();case 25:case"end":return t.stop()}}),t,null,[[13,21]])})));return function(e){return t.apply(this,arguments)}}(),e.messageValidationMethod=function(){e.setState({message:0===Object.entries(e.state.client).length?"Please, select client.":"Please fill or correct the fields.",classNameMessage:"messageFailure",disabledBtn:!1})},e.clearForm=function(){setTimeout((function(){e.setState({date:"",startingTime:"",endingTime:"",rate:"",notes:"",message:"",client:{},disabledBtn:!1,startingBreak:"",endingBreak:"",addBreak:!1,showPastClockins:!1}),window.scrollTo(0,0)}),3e3)},e.showTotalTime=function(){var t=Date.parse("01 Jan 1970 ".concat(e.state.startingTime,":00 GMT")),a=Date.parse("01 Jan 1970 ".concat(e.state.endingTime,":00 GMT")),s=e.state.startingBreak?Date.parse("01 Jan 1970 ".concat(e.state.startingBreak,":00 GMT")):0,n=e.state.endingBreak?Date.parse("01 Jan 1970 ".concat(e.state.endingBreak,":00 GMT")):0,c=(a-t-(s&&n&&n>s?n-s:0))/36e5,i=parseFloat(Math.round(100*c)/100).toFixed(2);return Object(C.jsx)("span",{children:i})},e.getClientInfo=function(t){e.setState({client:t,rate:t.default_rate,message:""})},e.handleAddBreak=function(){e.setState({addBreak:!e.state.addBreak,message:e.state.message&&""})},e.checkBreakIsValid=function(t){(e.state.startingBreak||e.state.endingBreak)&&(e.state.endingBreak<=e.state.startingBreak||e.state.startingBreak<=e.state.startingTime||"startingBreak"!==t.target.name&&e.state.endingTime<=e.state.endingBreak?e.setState({message:"Break is incorrect.",classNameMessage:"messageFailure",validBreak:!1}):e.setState({message:"",validBreak:!0,disabledBtn:!1}))},e.checkOnFocusEndingBreak=function(){e.setState({message:"",validBreak:!0})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"formPosition",children:[Object(C.jsx)("br",{}),Object(C.jsxs)(u.a,{className:"card-settings",children:[Object(C.jsx)(u.a.Header,{children:"PunchIn"}),Object(C.jsxs)(u.a.Body,{children:[Object(C.jsx)("div",{className:"gridClientBtContainer",children:Object(C.jsx)(me,{client:this.state.client,getClientInfo:this.getClientInfo,punchinFlag:!0})}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a,{onSubmit:this.handleSubmit,children:[Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formDate",children:[Object(C.jsx)(z.a.Label,{column:!0,sm:"3",className:"cardLabel",children:"Worked in"}),Object(C.jsx)(p.a,{sm:"6",children:Object(C.jsx)(z.a.Control,{type:"date",name:"date",onChange:this.handleChange,value:this.state.date,onBlur:function(){return window.innerWidth>800&&e.getPastClockins()}})})]}),this.state.pastClockinsMessage&&Object(C.jsx)(u.a.Footer,{style:{color:"green",fontStyle:"bold"},children:this.state.pastClockinsMessage}),this.state.showPastClockins&&!this.state.pastClockinsMessage&&Object(C.jsx)(u.a.Footer,{style:{color:"green",fontStyle:"bold"},children:this.state.tablePastClockins?Object(C.jsxs)(Oe.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0,children:[Object(C.jsx)("thead",{style:{textAlign:"center"},children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"#"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Client"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Date"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"From"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"To"})]})}),Object(C.jsx)("tbody",{style:{textAlign:"center"},children:this.state.tablePastClockins})]}):this.state.messageNoClockins}),Object(C.jsxs)(x.a,{style:{paddingLeft:0},children:[Object(C.jsxs)(O.a,{style:{paddingLeft:0,textAlign:"center"},children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Starting"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Ending"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Total"})})]}),Object(C.jsxs)(O.a,{style:{paddingLeft:0},children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{style:{padding:"6px 2px"},type:"time",name:"startingTime",onChange:this.handleChange,value:this.state.startingTime,onKeyPress:this.handleChange,onBlur:this.checkBreakIsValid})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{style:{padding:"6px 2px"},type:"time",name:"endingTime",onChange:this.handleChange,value:this.state.endingTime,onKeyPress:this.handleChange,onBlur:this.checkBreakIsValid})}),Object(C.jsx)(p.a,{children:this.state.endingTime&&this.state.startingTime?this.showTotalTime():null})]})]}),Object(C.jsx)(h.b,{to:window.location,onClick:this.handleAddBreak,children:this.state.addBreak?"Remove break":"Add Break"}),this.state.addBreak&&Object(C.jsx)(u.a,{className:"card-settings",children:Object(C.jsxs)(x.a,{style:{paddingLeft:0},children:[Object(C.jsxs)(O.a,{style:{paddingLeft:0},children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"From"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"To"})})]}),Object(C.jsxs)(O.a,{style:{paddingLeft:0},children:[Object(C.jsx)(p.a,{style:{paddingRight:0},children:Object(C.jsx)(z.a.Control,{style:{padding:"6px 0"},type:"time",name:"startingBreak",onChange:this.handleChange,value:this.state.startingBreak,onKeyPress:this.handleChange,onBlur:this.checkBreakIsValid})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{style:{padding:"6px 0"},type:"time",name:"endingBreak",onChange:this.handleChange,value:this.state.endingBreak,onKeyPress:this.handleChange,onBlur:this.checkBreakIsValid,onFocus:this.checkOnFocusEndingBreak})})]})]})}),Object(C.jsx)("br",{}),this.state.client.showRate&&Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formRate",children:[Object(C.jsx)(z.a.Label,{column:!0,sm:"3",className:"cardLabel",children:"Rate"}),Object(C.jsx)(p.a,{sm:"3",children:Object(C.jsx)(z.a.Control,{type:"number",placeholder:this.state.rate||"Rate ($)",name:"rate",onChange:this.handleChange,onKeyPress:this.handleChange,value:this.state.rate})})]}),this.state.client.showNotes&&Object(C.jsxs)(z.a.Group,{controlId:"formBasicPassword",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Notes"}),Object(C.jsx)(z.a.Control,{as:"textarea",rows:"3",placeholder:"Session's Notes",name:"notes",onChange:this.handleChange,value:this.state.notes,onKeyPress:this.handleChange})]}),!this.state.client.showRate&&!this.state.showNotes&&Object(C.jsx)("br",{}),Object(C.jsx)(u.a.Footer,{className:this.state.classNameMessage,children:this.state.message?this.state.message:Object(C.jsx)("br",{})}),Object(C.jsx)("div",{className:"d-flex flex-column",children:Object(C.jsx)(A.a,{disabled:this.state.disabledBtn,variant:"primary",type:"submit",onClick:this.handleSubmit,children:"Submit"})})]})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})}}]),a}(s.Component),ke=Object(b.b)((function(e){return{storeToken:e.token}}),null)(Ce);var we=Object(b.b)((function(e){return{storeToken:e.token}}),null)((function(e){var t=Object(s.useState)(e.showModal),a=Object(I.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)(!1),r=Object(I.a)(i,2),l=r[0],o=r[1],d=Object(s.useState)(!1),h=Object(I.a)(d,2),j=h[0],b=h[1],m=Object(s.useState)(""),x=Object(I.a)(m,2),g=x[0],v=x[1],f=Object(s.useState)(""),y=Object(I.a)(f,2),k=y[0],w=y[1],N=e.thinScreen?"1rem":"3rem",S=function(){c(!1),e.closeModal()},L=function(){var t=Object(H.a)(G.a.mark((function t(){var a;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!1),"/api/clockin",t.prev=2,t.next=5,W.a.delete("/api/clockin",{data:{clockinId:e.clockinData.id},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.storeToken)}});case 5:if(a=t.sent,console.log("::::::deleteClockin:",a),!a.data.error){t.next=11;break}throw a.data.error;case 11:w("messageSuccess"),v("Clocking has been deleted."),setTimeout((function(){e.deleteClockin(e.clockinData.id),e.closeModal()}),2500);case 14:t.next=21;break;case 16:t.prev=16,t.t0=t.catch(2),console.log(t.t0),w("messageFailure"),v(t.t0);case 21:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(){return t.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsxs)(D.a,{show:n,onHide:e.closeModal,children:[Object(C.jsx)(D.a.Header,{closeButton:S,children:Object(C.jsx)(D.a.Title,{children:"ClockIn Information"})}),e.thinScreen?Object(C.jsx)(D.a.Body,{children:Object(C.jsxs)(u.a,{className:"card-settings",style:{marginLeft:0,backgroundColor:"lightsteelblue"},children:[Object(C.jsxs)(u.a.Header,{className:"cardTitle",children:["Client: ",e.client]}),Object(C.jsxs)(z.a,{style:{paddingLeft:N},children:[Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Date"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.date||"date"})})]}),Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Time Start"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.timeStart||"timestart"})})]}),Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Time End"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.timeEnd||"timeend"})})]}),e.clockinData.breakStart?Object(C.jsxs)("div",{children:[Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Break Start"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.breakStart||"break start"})})]}),Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Break End"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.breakEnd||"break end"})})]})]}):"",Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Total Time"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.workedHours?e.clockinData.workedHours:e.clockinData.totalTime})})]}),Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Rate"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.rate||"rate"})})]}),Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Total CAD$"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.totalCad||"cad$"})})]}),Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Invoice"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.invoice||"invoice"})})]}),Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Notes"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.notes||" "})})]})]})]})}):Object(C.jsx)(D.a.Body,{children:Object(C.jsxs)(u.a,{className:"card-settings",style:{marginLeft:0,backgroundColor:"lightsteelblue"},children:[Object(C.jsxs)(u.a.Header,{className:"cardTitle",children:["Client: ",e.client]}),Object(C.jsxs)(z.a,{style:{paddingLeft:N},children:[Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formDate",style:{marginBottom:0},children:[Object(C.jsx)(z.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"},children:"Date"}),Object(C.jsx)(p.a,{sm:5,style:{paddingLeft:"0px"},children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.date||"date"})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formTS",style:{marginBottom:0},children:[Object(C.jsx)(z.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"},children:"Time Start"}),Object(C.jsx)(p.a,{sm:5,style:{paddingLeft:"0px"},children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.timeStart||"timestart"})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formTE",style:{marginBottom:0},children:[Object(C.jsx)(z.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"},children:"Time End"}),Object(C.jsx)(p.a,{sm:5,style:{paddingLeft:"0px"},children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.timeEnd||"timeend"})})]}),e.clockinData.breakStart?Object(C.jsxs)("div",{children:[Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formTt",style:{marginBottom:0},children:[Object(C.jsx)(z.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"},children:"Break Start"}),Object(C.jsx)(p.a,{sm:5,style:{paddingLeft:"0px"},children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.breakStart||"totaltime"})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formTt",style:{marginBottom:0},children:[Object(C.jsx)(z.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"},children:"Break End"}),Object(C.jsx)(p.a,{sm:5,style:{paddingLeft:"0px"},children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.breakEnd||"totaltime"})})]})]}):"",Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formTt",style:{marginBottom:0},children:[Object(C.jsx)(z.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"},children:"Total Time"}),Object(C.jsx)(p.a,{sm:5,style:{paddingLeft:"0px"},children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.workedHours?e.clockinData.workedHours:e.clockinData.totalTime})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formRate",style:{marginBottom:0},children:[Object(C.jsx)(z.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"},children:"Rate"}),Object(C.jsx)(p.a,{sm:5,style:{paddingLeft:"0px"},children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.rate||"rate"})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formTotalCad",style:{marginBottom:0},children:[Object(C.jsx)(z.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"},children:"Total $"}),Object(C.jsx)(p.a,{sm:5,style:{paddingLeft:"0px"},children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.totalCad||"CAD$"})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formInvoice",style:{marginBottom:0},children:[Object(C.jsx)(z.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"},children:"Invoice"}),Object(C.jsx)(p.a,{sm:5,style:{paddingLeft:"0px"},children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.invoice||"invoice"})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formInvoice",style:{marginBottom:0},children:[Object(C.jsx)(z.a.Label,{column:!0,sm:4,className:"cardLabel",style:{paddingLeft:"0px"},children:"Notes"}),Object(C.jsx)(p.a,{sm:5,style:{paddingLeft:"0px"},children:Object(C.jsx)(z.a.Control,{disabled:!0,value:e.clockinData.notes||" "})})]})]})]})}),Object(C.jsx)(u.a.Footer,{className:k,children:g||Object(C.jsx)("br",{})}),Object(C.jsx)(D.a.Footer,{children:e.deleteClockin?Object(C.jsxs)(M.a,{className:"mt-3",style:{width:"50%"},children:[Object(C.jsx)(A.a,{variant:"primary",onClick:S,style:{width:"50%"},children:"Close"}),Object(C.jsx)(A.a,{variant:"danger",onClick:function(){e.invoice?b(!0):o(!0)},style:{width:"50%"},children:"Delete"})]}):Object(C.jsx)(A.a,{variant:"primary",onClick:S,style:{width:"50%"},children:"Close"})})]}),l?Object(C.jsx)(B,{openModal:l,message:"Are you sure you want to Delete this clockin?",yesMethod:L,colorBtn1:"warning",colorBtn2:"success",noMethod:function(){return o(!1)}}):"",j?Object(C.jsx)(B,{openModal:j,message:Object(C.jsxs)("div",{children:[Object(C.jsx)("p",{children:"This clockin cannot be delete due there is a invoice related to it."}),Object(C.jsx)("br",{}),Object(C.jsx)("p",{children:"You need to delete the invoice first."})]}),noMethod:function(){return b(!1)}}):""]})})),Ne=window.innerWidth<800,Ie=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).handleChange=function(e){s.setState(Object(K.a)({},e.target.name,e.target.value))},s.handleSubmit=function(){var e=Object(H.a)(G.a.mark((function e(t){var a,n,c,i,r,l;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=s.state.dateStart,n=s.state.dateEnd,!(c=s.state.clientId)){e.next=26;break}if(i=new Date(a).getTime(),r=new Date(n).getTime(),!(i>r)){e.next=9;break}s.setState({message:"Check your dates",classNameMessage:"messageFailure"}),e.next=24;break;case 9:return s.setState({disableButton:!0}),e.prev=10,e.next=13,ge(s.props.storeToken,"normal",a,n,c);case 13:if(l=e.sent,console.log("pastClockins::",l),l&&!l.error){e.next=17;break}throw l?l.error:"No clockins at all.";case 17:s.setState({clockinList:l,clockInListTable:s.renderDataTable(l),tableVisibility:!0,cleanButton:!0,message:""}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),s.setState({message:e.t0||"No invoices at all.",classNameMessage:"messageFailure",tableVisibility:!1});case 23:s.setState({disableButton:!1});case 24:e.next=27;break;case 26:s.messageValidationMethod();case 27:case"end":return e.stop()}}),e,null,[[10,20]])})));return function(t){return e.apply(this,arguments)}}(),s.editClockin=function(e){s.setState({showModal:!0,clockinToModal:e})},s.closeClockinModal=function(){s.setState({showModal:!1})},s.renderDataTable=function(e){var t=0,a=0,c=e.map((function(e,n){var c=ye(e,n);return t+=Number(c.totalTime),a+=Number(c.totalCad),Ne?s.state.company?Object(C.jsxs)("tr",{onClick:function(){return s.editClockin(c)},children:[Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.num}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.date}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.client}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.totalTime}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.invoice})]},c.num):Object(C.jsxs)("tr",{onClick:function(){return s.editClockin(c)},children:[Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.num}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.date}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.timeStart}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.totalTime}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.invoice})]},c.num):s.state.company?Object(C.jsxs)("tr",{onClick:function(){return s.editClockin(c)},children:[Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.num}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.date}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.client}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.timeStart}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.totalTime}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.totalCad}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.invoice})]},c.num):Object(C.jsxs)("tr",{onClick:function(){return s.editClockin(c)},children:[Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.num}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.date}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.timeStart}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.totalTime}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.totalCad}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.invoice})]},c.num)})),i=Object(C.jsx)("tr",{children:Ne?Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:Object(C.jsx)("b",{children:"Total of"})}),Object(C.jsx)("td",{colSpan:"3",style:{verticalAlign:"middle"},children:Object(C.jsxs)("b",{children:[t.toFixed(2)," ",t>1?"worked hours":"worked hour"]})})]}):Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{colSpan:s.state.company?3:2,style:{verticalAlign:"middle"},children:Object(C.jsx)("b",{children:"Total of"})}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:Object(C.jsxs)("b",{children:[t.toFixed(2)," ",t>1?"worked hours":"worked hour"]})}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:Object(C.jsxs)("b",{children:["$",a.toFixed(2)]})}),Object(C.jsx)("td",{})]})},c.length+1);return[].concat(Object(he.a)(c),[i])},s.clearForm=function(){s.setState({date:"",timeStart:"",timeEnd:"",rate:"",clientId:"",message:"",client:{},tableVisibility:!1,cleanButton:!1})},s.messageValidationMethod=function(){s.setState({message:"Please, select client.",classNameMessage:"messageFailure"})},s.getClientInfo=function(e){s.setState({company:!!e.isCompany&&e,client:!e.isCompany&&e,clientId:e._id,tableVisibility:!1,message:""})},s.updateClockins=function(e){var t=s.state.clockinList.filter((function(t){return t._id!==e})),a=s.renderDataTable(t);s.setState({clockinList:t,clockInListTable:a})},s.state={dateStart:"",dateEnd:"",clientId:"",clockinList:[],clockInListTable:"",tableVisibility:!1,message:"",classNameMessage:"",client:{},cleanButton:!1,showModal:!1,clockinToModal:{},company:"",disableButton:!1},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"formPosition",children:[Object(C.jsx)("br",{}),Object(C.jsxs)(u.a,{className:"card-settings",children:[Object(C.jsx)(u.a.Header,{children:"List of PunchIns"}),Object(C.jsxs)(u.a.Body,{children:[Object(C.jsx)("div",{className:"gridClientBtContainer",children:Object(C.jsx)(me,{client:this.state.client||this.state.company,getClientInfo:this.getClientInfo})}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a,{children:[Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formST",children:[Object(C.jsx)(z.a.Label,{column:!0,sm:"3",className:"cardLabel",children:"Date Start:"}),Object(C.jsx)(p.a,{sm:"5",children:Object(C.jsx)(z.a.Control,{type:"date",name:"dateStart",onChange:this.handleChange,value:this.state.dateStart,disabled:""===this.state.clientId})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formET",children:[Object(C.jsx)(p.a,{sm:"3",children:Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Date End:"})}),Object(C.jsx)(p.a,{sm:"5",children:Object(C.jsx)(z.a.Control,{type:"date",name:"dateEnd",onChange:this.handleChange,value:this.state.dateEnd,disabled:""===this.state.clientId})})]}),Object(C.jsx)(u.a.Footer,{className:this.state.classNameMessage,children:this.state.message?this.state.message:Object(C.jsx)("br",{})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"d-flex flex-column",children:this.state.cleanButton?Object(C.jsxs)(M.a,{className:"mt-3",children:[Object(C.jsx)(A.a,{variant:"primary",onClick:this.handleSubmit,disabled:this.state.disableButton,children:"Get List"}),Object(C.jsx)(A.a,{variant:"info",onClick:this.clearForm,children:"Clean"})]}):Object(C.jsx)(A.a,{variant:"primary",onClick:this.handleSubmit,disabled:this.state.disableButton,children:"Get List"})})]})]})]}),this.state.tableVisibility?Object(C.jsxs)(u.a,{className:"cardInvoiceGenListofClockins card",children:[Object(C.jsxs)(u.a.Header,{style:{textAlign:"center"},children:["Client: ",Object(C.jsx)("b",{children:this.state.company.name||this.state.client.nickname||this.state.client.name}),", "," ",Object(C.jsx)("b",{children:this.state.clockinList.length})," ",this.state.clockinList.length>1?"Clockins":"Clockin"]}),this.state.clockinList.length>0?Ne?this.state.company?Object(C.jsxs)(Oe.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0,children:[Object(C.jsx)("thead",{style:{textAlign:"center"},children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"#"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Date"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Kid"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Duration"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Invoice"})]})}),Object(C.jsx)("tbody",{style:{textAlign:"center"},children:this.state.clockInListTable})]}):Object(C.jsxs)(Oe.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0,children:[Object(C.jsx)("thead",{style:{textAlign:"center"},children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"#"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Date"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"At"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Span"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Invoice"})]})}),Object(C.jsx)("tbody",{style:{textAlign:"center"},children:this.state.clockInListTable})]}):this.state.company?Object(C.jsxs)(Oe.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0,children:[Object(C.jsx)("thead",{style:{textAlign:"center"},children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"#"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Date"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Kid"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Time Start"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Total Time"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"CAD$"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Invoice"})]})}),Object(C.jsx)("tbody",{style:{textAlign:"center"},children:this.state.clockInListTable})]}):Object(C.jsxs)(Oe.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0,children:[Object(C.jsx)("thead",{style:{textAlign:"center"},children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"#"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Date"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Time Start"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Total Time"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"CAD$"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Invoice"})]})}),Object(C.jsx)("tbody",{style:{textAlign:"center"},children:this.state.clockInListTable})]}):null]}):null,this.state.showModal&&Object(C.jsx)(we,{showModal:this.state.showModal,clockinData:this.state.clockinToModal,client:this.state.company?this.state.clockinToModal.client:this.state.client.nickname||this.state.client.name,deleteClockin:function(t){return e.updateClockins(t)},closeModal:this.closeClockinModal,thinScreen:Ne})]})}}]),a}(s.Component),Se=Object(b.b)((function(e){return{storeToken:e.token}}),null)(Ie),Le=window.innerWidth<800,Te=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).handleChange=function(e){s.setState(Object(K.a)({},e.target.name,e.target.value)),"invoiceCode"===e.target.name&&s.setState({messageInvoice:"",disableInvGenBtn:!1,codeMessage:s.state.lastUsedCode===e.target.value?"Last used code":""})},s.handleGetClockins=function(){var e=Object(H.a)(G.a.mark((function e(t){var a,n,c,i,r,l;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s.state.dateStart&&s.state.dateEnd){e.next=5;break}s.setState({message:"Please, select Client and set Date Start and Date End.",classNameMessage:"messageFailure",messageInvoice:""}),e.next=19;break;case 5:if(!(s.state.dateEnd<s.state.dateStart)){e.next=9;break}s.setState({message:"Date End has to be greater or equal than Date Start.",classNameMessage:"messageFailure",messageInvoice:""}),e.next=19;break;case 9:if(!s.state.dateStart||!s.state.dateEnd||!s.state.client&&!s.state.company){e.next=18;break}return a=s.state.dateStart,n=s.state.dateEnd,c=s.state.clientId||s.state.company._id,!0,e.next=13,ge(s.props.storeToken,"normal",a,n,c,true);case 13:i=e.sent,console.log("...........pastClockins",i),i.error?s.setState({message:i.error,classNameMessage:"messageFailure",tableVisibility:!1,messageInvoice:""}):i.data.count?(r=i.data.allClockins,l=i.data.codeSuggestion||"",s.setState({clockinList:r,clockinWithInvoiceCode:s.checkIfThereIsInvoiceCode(r),disableInvGenBtn:s.checkIfThereIsInvoiceCode(r),clockInListTable:s.renderDataTable(r),tableVisibility:!0,clientId:c,lastClockinDate:new Date(r[r.length-1].date.substring(0,10)).getTime(),message:"",invoiceCode:l.newCode||l,codeMessage:l?l.newCode?"Suggested code":"Last used code":"",lastUsedCode:l&&!l.newCode&&l,messageInvoice:""}),s.state.clockinWithInvoiceCode&&s.setState({classNameMessage:"messageFailure",messageInvoice:"No clockins with invoice, please."}),s.generatorBtn.scrollIntoView({behavior:"smooth"})):s.setState({message:"No clockins for this period.",classNameMessage:"messageFailure",tableVisibility:!1,messageInvoice:""}),e.next=19;break;case 18:s.setState({message:"Please, select client and set dates.",classNameMessage:"messageFailure"});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleInvoiceGenerator=function(){var e=Object(H.a)(G.a.mark((function e(t){var a,n,c,i;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s.state.invoiceCode&&""!==s.state.invoiceCode){e.next=6;break}s.setState({messageInvoice:"Please, provide Invoice's Code.",classNameMessage:"messageFailure"}),s.textCode.current.focus(),e.next=36;break;case 6:if("last used code"!==s.state.codeMessage&&s.state.lastUsedCode!==s.state.invoiceCode){e.next=11;break}s.setState({messageInvoice:"Please, provide a new Invoice's Code.",classNameMessage:"messageFailure"}),s.textCode.current.focus(),e.next=36;break;case 11:if(!((a=s.state.invoiceDate?new Date(s.state.invoiceDate).getTime():fe())<s.state.lastClockinDate)){e.next=15;break}return s.setState({messageInvoice:"Date should be greater or equal to the last clockin date.",classNameMessage:"messageFailure"}),e.abrupt("return");case 15:return s.setState({disableInvGenBtn:!0}),n={date:a,dateStart:s.state.dateStart,dateEnd:s.state.dateEnd,notes:s.state.notes,clientId:s.state.clientId,code:s.state.invoiceCode.toUpperCase(),clockinArray:s.state.clockinList},"/api/invoice",e.prev=18,e.next=21,W.a.post("/api/invoice",n,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.props.storeToken)}});case 21:if(c=e.sent,console.log("........invoice",c),!c.data.message){e.next=29;break}i=s.state.clockinList.map((function(e){return Object(U.a)(Object(U.a)({},e),{},{invoice:{code:n.code}})})),s.setState({messageInvoice:"Invoice has been Generated!",classNameMessage:"messageSuccess",clockinWithInvoiceCode:!0,invoiceDate:"",lastUsedCode:"",codeMessage:"",clockinList:i,clockInListTable:s.renderDataTable(i)}),s.clearMessage(),e.next=30;break;case 29:throw c.data.error||"Sorry, something bad has happened.";case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(18),console.log("errrr",e.t0),s.setState({messageInvoice:e.t0,classNameMessage:"messageFailure"});case 36:case"end":return e.stop()}}),e,null,[[18,32]])})));return function(t){return e.apply(this,arguments)}}(),s.renderDataTable=function(e){var t=0,a=e.map((function(e,a){t+=e.worked_hours/36e5;var n=ye(e,a);return Le?s.state.company?Object(C.jsxs)("tr",{onClick:function(){return s.editClockin(n)},children:[Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.num}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.date}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.client}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.totalTime}),"not yet"!==n.invoice?Object(C.jsx)("td",{style:{verticalAlign:"middle",backgroundColor:"#c94c4c"},children:n.invoice}):Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.invoice})]},n.num):Object(C.jsxs)("tr",{onClick:function(){return s.editClockin(n)},children:[Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.num}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.date}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.timeStart}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.totalTime}),"not yet"!==n.invoice?Object(C.jsx)("td",{style:{verticalAlign:"middle",backgroundColor:"#c94c4c"},children:n.invoice}):Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.invoice})]},n.num):s.state.company?Object(C.jsxs)("tr",{onClick:function(){return s.editClockin(n)},children:[Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.num}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.date}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.client}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.timeStart}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.totalTime}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.totalCad}),"not yet"!==n.invoice?Object(C.jsx)("td",{style:{verticalAlign:"middle",backgroundColor:"#c94c4c"},children:n.invoice}):Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.invoice})]},n.num):Object(C.jsxs)("tr",{onClick:function(){return s.editClockin(n)},children:[Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.num}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.date}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.timeStart}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.totalTime}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.totalCad}),"not yet"!==n.invoice?Object(C.jsx)("td",{style:{verticalAlign:"middle",backgroundColor:"#c94c4c"},children:n.invoice}):Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:n.invoice})]},n.num)})),c=t.toFixed(2)*e[0].rate,i=!s.state.clockinWithInvoiceCode&&Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)("tr",{children:Object(C.jsx)("td",{colSpan:Le?5:6,style:{background:"gainsboro"}})},"2.1"),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{colSpan:Le?2:3,style:{textAlign:"left",paddingLeft:"1rem"},children:Object(C.jsx)("b",{children:"Total of worked hours"})}),Object(C.jsx)("td",{colSpan:Le?2:3,children:Object(C.jsx)("b",{children:t.toFixed(2)})})]},"2.2"),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{colSpan:Le?2:3,style:{textAlign:"left",paddingLeft:"1rem"},children:Object(C.jsx)("b",{children:"Total Cads"})}),Object(C.jsx)("td",{colSpan:Le?2:3,children:Object(C.jsxs)("b",{children:["$ ",c.toFixed(2)]})})]},"2.3")]},"1.1");return[].concat(Object(he.a)(a),[i])},s.editClockin=function(e){s.setState({showModal:!0,clockinToModal:e,client:e.client})},s.closeClockinModal=function(){s.setState({showModal:!1})},s.updateClockins=function(e){var t=s.state.clockinList.filter((function(t){return t._id!==e})),a=s.renderDataTable(t);s.setState({clockinList:t,clockInListTable:a})},s.clearMessage=function(){setTimeout((function(){s.setState({message:"",messageInvoice:"",invoiceCode:""})}),3500)},s.getClientInfo=function(e){s.setState({client:!e.isCompany&&e,company:!!e.isCompany&&e,clientId:e._id,disabledIPBtn:!1,tableVisibility:!1,message:""})},s.handleEnter=function(e){"Enter"===e.key&&"invoiceCode"===e.target.name&&s.generatorBtn.click()},s.checkIfThereIsInvoiceCode=function(e){return e.filter((function(e){return e.invoice})).length>0},s.textCode=n.a.createRef(),s.state={dateStart:"",dateEnd:"",clientId:"",clockinList:[],client:"",clockInListTable:"",tableVisibility:!1,message:"",invoiceCode:"",invoiceDate:"",clockinWithInvoiceCode:!1,showModal:!1,clockinToModal:"",classNameMessage:"",messageInvoice:"",disableInvGenBtn:!1,codeMessage:"",lastUsedCode:"",company:""},s}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"formPosition",children:[Object(C.jsx)("br",{}),Object(C.jsxs)(u.a,{className:"card-settings",children:[Object(C.jsx)(u.a.Header,{children:"Invoice Generator"}),Object(C.jsxs)(u.a.Body,{children:[Object(C.jsxs)("div",{className:"gridClientBtContainer",children:[Object(C.jsx)(me,{client:this.state.client||this.state.company,getClientInfo:this.getClientInfo,invoiceFlag:!0})," "]}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a,{children:[Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formST",children:[Object(C.jsx)(z.a.Label,{column:!0,sm:"3",className:"cardLabel",children:"Date Start:"}),Object(C.jsx)(p.a,{sm:"5",children:Object(C.jsx)(z.a.Control,{type:"date",name:"dateStart",onChange:this.handleChange,value:this.state.dateStart})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formET",children:[Object(C.jsx)(p.a,{sm:"3",children:Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Date End:"})}),Object(C.jsx)(p.a,{sm:"5",children:Object(C.jsx)(z.a.Control,{type:"date",name:"dateEnd",onChange:this.handleChange,value:this.state.dateEnd})})]}),Object(C.jsx)(u.a.Footer,{className:this.state.classNameMessage,children:this.state.message?this.state.message:Object(C.jsx)("br",{})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"d-flex flex-column",children:Object(C.jsx)(A.a,{variant:"primary",type:"submit",onClick:this.handleGetClockins,ref:function(t){return e.getClockinsBtn=t},children:"Get Clockins"})})]})]})]}),this.state.tableVisibility?Object(C.jsxs)(u.a,{className:"cardInvoiceGenListofClockins card",children:[Object(C.jsxs)(u.a.Header,{style:{textAlign:"center"},children:["Client: ",Object(C.jsx)("b",{children:this.state.company.name||this.state.client.nickname||this.state.client.name}),", "," ",Object(C.jsx)("b",{children:this.state.clockinList.length})," ",this.state.clockinList.length>1?"Clockins":"Clockin"]}),this.state.clockinList.length>0?Le?this.state.company?Object(C.jsxs)(Oe.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0,children:[Object(C.jsx)("thead",{style:{textAlign:"center"},children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"#"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Date"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Kid"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Duration"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Invoice"})]})}),Object(C.jsx)("tbody",{style:{textAlign:"center"},children:this.state.clockInListTable})]}):Object(C.jsxs)(Oe.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0,children:[Object(C.jsx)("thead",{style:{textAlign:"center"},children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"#"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Date"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"At"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Duration"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Invoice"})]})}),Object(C.jsx)("tbody",{style:{textAlign:"center"},children:this.state.clockInListTable})]}):this.state.company?Object(C.jsxs)(Oe.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0,children:[Object(C.jsx)("thead",{style:{textAlign:"center"},children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"#"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Date"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Kid"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Time Start"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Total Time"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"CAD$"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Invoice"})]})}),Object(C.jsx)("tbody",{style:{textAlign:"center"},children:this.state.clockInListTable})]}):Object(C.jsxs)(Oe.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0,children:[Object(C.jsx)("thead",{style:{textAlign:"center"},children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"#"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Date"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Time Start"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Total Time"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"CAD$"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Invoice"})]})}),Object(C.jsx)("tbody",{style:{textAlign:"center"},children:this.state.clockInListTable})]}):null,Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{xs:"6",children:Object(C.jsx)(z.a.Label,{column:!0,style:{paddingRight:0,marginLeft:"1rem"},children:Object(C.jsx)("strong",{children:"Code: "})})}),Object(C.jsxs)(p.a,{xs:"5",children:[Object(C.jsx)(z.a.Control,{autoComplete:"off",type:"text",name:"invoiceCode",placeholder:"Invoice's code",onKeyPress:this.handleEnter,onChange:this.handleChange,value:this.state.clockinWithInvoiceCode?"":this.state.invoiceCode,disabled:this.state.clockinWithInvoiceCode,ref:this.textCode}),this.state.codeMessage&&!this.state.disableInvGenBtn?Object(C.jsx)(q.a,{target:this.textCode,show:!0,placement:"left",children:Object(C.jsx)(X.a,{id:"tooltip-left",children:Object(C.jsx)("strong",{style:{color:"Suggested code"===this.state.codeMessage?"lime":"gold"},children:this.state.codeMessage})})}):""]})]}),Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{xs:"6",children:Object(C.jsxs)(z.a.Label,{column:!0,style:{paddingRight:0,marginLeft:"1rem"},children:[Object(C.jsx)("strong",{children:"Date: "})," (optional)"]})}),Object(C.jsx)(p.a,{xs:"5",children:Object(C.jsx)(z.a.Control,{type:"date",name:"invoiceDate",onChange:this.handleChange,value:this.state.invoiceDate,disabled:this.state.clockinWithInvoiceCode,style:{paddingRight:"0"}})})]}),Object(C.jsx)("div",{style:{padding:"1rem",width:"100%"},children:Object(C.jsx)(u.a.Footer,{className:this.state.classNameMessage,children:this.state.messageInvoice?this.state.messageInvoice:Object(C.jsx)("br",{})})}),Object(C.jsx)(A.a,{variant:"primary",type:"submit",disabled:this.state.clockinWithInvoiceCode||this.state.disableInvGenBtn,onClick:this.handleInvoiceGenerator,ref:function(t){return e.generatorBtn=t},children:"Invoice's Generator"}),Object(C.jsx)("br",{})]}):null,this.state.showModal?Object(C.jsx)(we,{showModal:this.state.showModal,clockinData:this.state.clockinToModal,client:this.state.client,deleteClockin:function(t){return e.updateClockins(t)},closeModal:this.closeClockinModal,thinScreen:Le}):""]})}}]),a}(s.Component),Ae=Object(b.b)((function(e){return{storeToken:e.token}}),null)(Te),Pe=window.innerWidth<800?"2rem":"3rem";function Ee(){return Object(C.jsxs)("div",{children:[Object(C.jsxs)(u.a,{className:"bigCardPosition",children:[Object(C.jsx)(u.a.Header,{style:{textAlign:"center"},children:Object(C.jsx)("h1",{children:"About Page"})}),Object(C.jsxs)(u.a.Body,{children:[Object(C.jsx)("br",{}),Object(C.jsxs)("p",{children:[Object(C.jsx)("b",{children:"Clockin.js"})," allows you to have all your clients data, their clockins and invoices, in one place. It is easy to manage and track your work with them."]}),Object(C.jsx)("p",{children:"The system is aimed to be responsive, providing a good visualization in both small (mobile devices) and big screens (regular computers)."}),Object(C.jsx)("p",{children:"It also carries out some safety features, such as password encryption and Two-factor authentication for some of its procedures. Plus, some operations send email, which warranties a safe copy of them, just in case. "}),Object(C.jsxs)("p",{children:["The project and its source code is kept at ",Object(C.jsx)("a",{href:"https://github.com/tonykieling/clockinJS",target:"_blank",rel:"noopener noreferrer",children:"GitHub - Clockin.js"})]}),Object(C.jsx)("h2",{className:"contents",style:{fontWeight:"bold"},children:"Contents"}),Object(C.jsxs)("div",{style:{marginLeft:Pe},children:[Object(C.jsx)("a",{href:"#id1",style:{paddingTop:"1.5rem"},children:Object(C.jsx)("h5",{children:"1- Functionalities"})}),Object(C.jsx)("a",{href:"#id2",style:{paddingTop:"0.9rem"},children:Object(C.jsx)("h5",{children:"2- System main actors"})}),Object(C.jsx)("a",{href:"#id3",style:{paddingTop:"0.9rem"},children:Object(C.jsx)("h5",{children:"3- Motivation"})}),Object(C.jsx)("a",{href:"#id4",style:{paddingTop:"0.9rem"},children:Object(C.jsx)("h5",{children:"4- Tech Stack"})}),Object(C.jsx)("a",{href:"#id5",style:{paddingTop:"0.9rem"},id:"id1",children:Object(C.jsx)("h5",{children:"5- Todo list and Releases"})})]})]}),Object(C.jsxs)(u.a,{className:"cardsPresentationPosition",children:[Object(C.jsx)(u.a.Header,{style:{textAlign:"center"},children:Object(C.jsx)("h4",{children:"1- Some of its Funcionalities"})}),Object(C.jsx)(u.a.Body,{children:Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:"User\xb4s register"}),Object(C.jsx)("li",{children:"User\xb4s login"}),Object(C.jsx)("li",{children:"User modify their own data - 2FA already added and working"}),Object(C.jsx)("li",{children:"Users are able to:"}),Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:"Register clients,"}),Object(C.jsx)("li",{children:"List, Check, and Modify client\xb4s data,"}),Object(C.jsx)("li",{children:"Punch in their work hours (clock-ins),"}),Object(C.jsx)("li",{children:"List, Check and Edit clock-ins data,"}),Object(C.jsx)("li",{children:"Generate invoice and manage their status (generated, delivered and received),"}),Object(C.jsx)("li",{children:"List and Check invoices."}),Object(C.jsx)("div",{id:"id2"})]})]})})]}),Object(C.jsxs)(u.a,{className:"cardsPresentationPosition",children:[Object(C.jsx)(u.a.Header,{style:{textAlign:"center"},children:Object(C.jsx)("h4",{children:"2- System main actors"})}),Object(C.jsx)(u.a.Body,{children:Object(C.jsxs)("ol",{children:[Object(C.jsxs)("li",{children:[Object(C.jsx)("span",{className:"strong",children:"User: "}),"People who have clients and want to register their worked hours."]}),Object(C.jsxs)("li",{children:[Object(C.jsx)("span",{className:"strong",children:"Client: "}),"People or organizations which the users provide their service."]}),Object(C.jsxs)("li",{children:[Object(C.jsx)("span",{className:"strong",children:"Clock-in: "}),"It is the start and end time in which the users worked for a client."]}),Object(C.jsxs)("li",{children:[Object(C.jsx)("span",{className:"strong",children:"Invoice: "}),"It is a set of one or more clock-ins for a particular client and period that a user wants to generate. It will contain information about the user, the client, the description of hours worked, and the total amount of money earned for the user regarding that specific client. The invoice can be generated according to the user's necessity (weekly, monthly, etc). The invoice format is complained to the Government of Canada.",Object(C.jsx)("div",{id:"id3"})]})]})})]}),Object(C.jsxs)(u.a,{className:"cardsPresentationPosition",children:[Object(C.jsx)(u.a.Header,{style:{textAlign:"center"},children:Object(C.jsx)("h4",{children:"3- Motivation"})}),Object(C.jsxs)(u.a.Body,{children:[Object(C.jsx)("p",{children:"I have been developing the Clockin.js application to help my wife to register data and control their worked hours for her behavior intervention clients. The system facilitates the administration of the data (hours, invoice, clients) of her clients and allows a fast and reliable emission of a monthly invoice addressed to the Autism BC."}),Object(C.jsx)("p",{children:"The system will be used for my wife to help her to control her work hours plus will automate the invoice\xb4s generation. However, this is not necessary or asked for her clients or any governmental agency of any country. It is for her own control, but it can be used for anyone. The invoices that this system will generate are complained to a public format and can be reached on the internet."}),Object(C.jsx)("p",{children:"In a general view, the system has two process: Punch-in and Invoice's generation. The first one independ to the second. It means it can be used without generate invoices, only to registering the puch-ins. The second on (invoice's process) depend on the clock-ins recorded in the system."}),Object(C.jsx)("div",{id:"id4"})]})]}),Object(C.jsxs)(u.a,{className:"cardsPresentationPosition",children:[Object(C.jsx)(u.a.Header,{style:{textAlign:"center"},children:Object(C.jsx)("h4",{children:"4- Tech Stack"})}),Object(C.jsxs)(u.a.Body,{children:[Object(C.jsx)("p",{children:"MERN - MongoDB, Express, React and Node, plus Redux, JWT, Bootstrap, Bcrypt, Axios, Mongoose and Nodemailer are the main technologies used."}),Object(C.jsx)("div",{id:"id5"})]})]}),Object(C.jsxs)(u.a,{className:"cardsPresentationPosition",children:[Object(C.jsx)(u.a.Header,{style:{fontSize:"h4",textAlign:"center"},children:Object(C.jsx)("h4",{children:"5- Todo list"})}),Object(C.jsxs)(u.a.Body,{children:[Object(C.jsx)("p",{children:"The system is in production and being used by my wife to manage her work time to her clients and me for the same reason."}),Object(C.jsx)("br",{}),Object(C.jsx)("p",{children:"Even though it is running, some improvements and features are being developed."}),Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:"Edit and Delete Clockin - done"}),Object(C.jsx)("li",{children:"Edit and Delete Invoice - done"}),Object(C.jsx)("li",{children:"Img at Land and Quick Guidance - done"}),Object(C.jsx)("li",{children:"Add break to clockin - done"}),Object(C.jsx)("li",{children:"Add Guidance - done"}),Object(C.jsx)("li",{children:"Set date to the invoice's change processes (delivered and received) - done"}),Object(C.jsx)("li",{children:"Ordinary Clients (no kids) - Add and Edit - done"}),Object(C.jsx)("li",{children:"Invoice Code with suggestion or last code used plus ToolTip - done"}),Object(C.jsx)("li",{children:"Feature of inactivating user - done"}),Object(C.jsx)("li",{children:"Reports"}),Object(C.jsx)("li",{children:"Generate a Invoice's pdf file from the system for both kids and ordinary clients."})]})]})]}),Object(C.jsx)("br",{})]}),Object(C.jsx)(k,{bckColor:window.innerWidth<800?"aliceblue":"gainsboro",opac:"iconSettingsOpacity"})]})}var De={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},Me=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={message:"",newStatus:"Generated"===e.props.currentStatus?"Delivered":"Received",disableButtons:!1,classNameMessage:"",dateDelivered:e.props.invoice.date_delivered||e.props.dateDelivered||"",dateReceived:e.props.invoice.date_received||e.props.dateReceived||""},e.clearMessage=function(){setTimeout((function(){e.setState({message:"",disableButtons:!1})}),3500)},e.handleChangeInvoiceStatus=Object(H.a)(G.a.mark((function t(){var a,s,n,c,i,r,l;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.newStatus,s=new Date(e.props.invoice.date.substring(0,10)).getTime(),n=e.state.dateDelivered?new Date(e.state.dateDelivered.substring(0,10)).getTime():null,c=e.state.dateReceived?new Date(e.state.dateReceived.substring(0,10)).getTime():null,n||c){t.next=8;break}e.setState({message:"Please, provide date.",classNameMessage:"messageFailure"}),t.next=30;break;case 8:if(!("Delivered"===a&&n<s)){t.next=13;break}return e.setState({message:"Delivered date should be greater or equal to ".concat(ve(s),"."),classNameMessage:"messageFailure"}),t.abrupt("return");case 13:if(!("Received"===a&&c<n)){t.next=18;break}return e.setState({message:"Received date should be greater or equal to ".concat(ve(n)),classNameMessage:"messageFailure"}),t.abrupt("return");case 18:return i={newStatus:e.state.newStatus,dateDelivered:e.state.dateReceived?null:e.state.dateDelivered,dateReceived:e.state.dateReceived},r="/invoice/".concat(e.props.invoice._id),t.prev=20,t.next=23,W.a.patch(r,i,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.props.storeToken)}});case 23:t.sent.data.message?(e.setState({message:"Invoice's status changed to ".concat(e.state.newStatus),disableButtons:!0,classNameMessage:"messageSuccess"}),l=i.dateDelivered||i.dateReceived,e.props.updateInvoice(e.state.newStatus,l),setTimeout((function(){e.props.closeChangeModal()}),3500)):e.setState({message:"Something wrong happened.",classNameMessage:"messageFailure"}),t.next=30;break;case 27:t.prev=27,t.t0=t.catch(20),console.log("Error:",t.t0.message);case 30:e.clearMessage();case 31:case"end":return t.stop()}}),t,null,[[20,27]])}))),e.handleChange=function(t){var a;e.setState((a={},Object(K.a)(a,t.target.name,t.target.value),Object(K.a)(a,"message",""),a))},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(C.jsx)(Q.a,{isOpen:this.props.openChangeInvoiceModal,style:De,children:Object(C.jsxs)(u.a,{children:[Object(C.jsx)(u.a.Header,{as:"h3",children:" Change Invoice Status "}),Object(C.jsxs)(u.a.Body,{children:[Object(C.jsx)(u.a.Text,{children:"Do you wanna change the Invoice's Status to:"}),Object(C.jsxs)(z.a,{children:[Object(C.jsx)("div",{className:"d-flex flex-column",children:Object(C.jsxs)(M.a,{className:"mt-3",children:[Object(C.jsx)(A.a,{variant:"secondary",disabled:!0,children:"Generated"}),Object(C.jsx)(A.a,{disabled:!!this.state.disableButtons||"Delivered"!==this.state.newStatus,variant:"Delivered"===this.state.newStatus?"primary":"secondary",onClick:this.handleChangeInvoiceStatus,children:"Delivered"}),Object(C.jsx)(A.a,{disabled:!!this.state.disableButtons||"Received"!==this.state.newStatus,variant:"Received"===this.state.newStatus?"primary":"secondary",onClick:this.handleChangeInvoiceStatus,children:"Received"})]})}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formDT",children:[Object(C.jsxs)(z.a.Label,{column:!0,sm:"5",className:"cardLabel",children:["Date ",this.state.newStatus,":"]}),Object(C.jsx)(p.a,{sm:"7",children:Object(C.jsx)(z.a.Control,{type:"date",name:"date".concat(this.state.newStatus),onChange:this.handleChange,value:"Delivered"===this.state.newStatus?this.state.dateDelivered:this.state.dateReceived})})]}),Object(C.jsx)(u.a.Footer,{className:this.state.classNameMessage,children:this.state.message?this.state.message:Object(C.jsx)("br",{})}),Object(C.jsx)("div",{className:"d-flex flex-column",children:Object(C.jsxs)(M.a,{className:"mt-3",children:[Object(C.jsx)(A.a,{variant:"success",onClick:this.handleChangeInvoiceStatus,disabled:this.state.disableButtons,children:"Yes"}),Object(C.jsx)(A.a,{variant:"danger",onClick:this.props.closeChangeModal,disabled:this.state.disableButtons,children:" No "})]})})]})]})]})})}}]),a}(s.Component),Be=Object(b.b)((function(e){return{storeToken:e.token}}),null)(Me);var Fe=Object(b.b)((function(e){return{storeToken:e.token}}),null)((function(e){var t=Object(s.useState)(e.initialState),a=Object(I.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)("Deleting the invoice will set all its clockins to no invoice. Are you sure you want to delete it?"),r=Object(I.a)(i,2),l=r[0],o=r[1],d=Object(s.useState)(!1),h=Object(I.a)(d,2),j=h[0],b=h[1],m=Object(s.useState)(!1),u=Object(I.a)(m,2),x=u[0],p=u[1],O=function(){x&&e.confirmDeletion(),c(!1),e.closeDeleteModal()},g=function(){var t=Object(H.a)(G.a.mark((function t(){var a,s;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/invoice/?invoiceId=".concat(e.invoiceId),t.prev=1,t.next=4,W.a.delete(a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.storeToken)}});case 4:s=t.sent,console.log(".............deleting invoice::",s),s.data.message?(o("Invoice ".concat(e.invoiceCode," has been deleted")),p(!0)):(console.log("ERROR is present"),o(s.data.error+"!!!")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.message),o(t.t0.message);case 13:b(!0);case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();return Object(C.jsx)("div",{children:Object(C.jsxs)(D.a,{show:n,onHide:O,children:[Object(C.jsx)(D.a.Header,{closeButton:!0,children:Object(C.jsx)(D.a.Title,{children:"Delete Invoice"})}),Object(C.jsxs)(D.a.Body,{children:[" ",l," "]}),Object(C.jsx)(D.a.Footer,{children:j?Object(C.jsx)(A.a,{variant:"primary",onClick:O,style:{width:"50%"},children:"Close"}):Object(C.jsxs)(M.a,{className:"mt-3",style:{width:"50%"},children:[Object(C.jsx)(A.a,{variant:"primary",onClick:g,style:{width:"50%"},children:"Yes"}),Object(C.jsx)(A.a,{variant:"danger",onClick:O,style:{width:"50%"},children:"No"})]})})]})})}));var Re=Object(b.b)((function(e){return{storeToken:e.token}}),null)((function(e){var t=Object(s.useState)(e.showEditInvoiceModal),a=Object(I.a)(t,2),n=a[0],c=a[1],i=function(){c(!1);var t=e.invoice._id;K?e.closeInvoiceEditModal({invoiceId:t,newInvoiceCode:d,newReceivedAmount:x,newReason:k}):e.closeInvoiceEditModal()},r=e.invoice.code,l=Object(s.useState)(r),o=Object(I.a)(l,2),d=o[0],h=o[1],j=e.invoice.cad_adjustment||"",b=Object(s.useState)(j),m=Object(I.a)(b,2),x=m[0],g=m[1],v=e.invoice.reason_adjustment||"",f=Object(s.useState)(v),y=Object(I.a)(f,2),k=y[0],w=y[1],N=Object(s.useState)(""),S=Object(I.a)(N,2),L=S[0],T=S[1],P=Object(s.useState)(""),E=Object(I.a)(P,2),B=E[0],F=E[1],R=Object(s.useState)(!1),_=Object(I.a)(R,2),K=_[0],U=_[1],V=function(){var t=Object(H.a)(G.a.mark((function t(){var a,s;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r!==d||j!==x||v!==k){t.next=6;break}F("messageFailure"),T("Nothing to be changed"),w(""),t.next=41;break;case 6:if(""!==d){t.next=11;break}F("messageFailure"),T("Missing Invoice's Code"),t.next=41;break;case 11:if(""===x||""!==k&&k.trim()){t.next=17;break}F("messageFailure"),T("Missing Reason"),w(""),t.next=41;break;case 17:if(""!==x||""===k||!k.trim()){t.next=22;break}F("messageFailure"),T("Missing Received Amount"),t.next=41;break;case 22:if(""===x||Number(x)){t.next=27;break}F("messageFailure"),T("'Received $' has to be a number."),t.next=41;break;case 27:return a={invoiceId:e.invoice._id,code:d,cad_adjustment:x,reason_adjustment:k},"/invoice/edit",t.prev=29,t.next=32,W.a.patch("/invoice/edit",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.storeToken)}});case 32:(s=t.sent).data.message?(F("messageSuccess"),T("Invoice has been modified"),U(!0)):(console.log("something wrong!!"),F("messageFailure"),T(s.data.error)),t.next=41;break;case 36:t.prev=36,t.t0=t.catch(29),console.log("ERRRRRRRRRRRRRRRRR"),F("messageFailure"),T(t.t0.message);case 41:Y();case 42:case"end":return t.stop()}}),t,null,[[29,36]])})));return function(){return t.apply(this,arguments)}}(),Y=function(){setTimeout((function(){F(""),T("")}),3e3)};return Object(C.jsx)(D.a,{show:n,onHide:i,children:Object(C.jsx)(D.a.Body,{children:Object(C.jsxs)(u.a,{className:"card-settings",style:{marginLeft:0,backgroundColor:"lightsteelblue"},children:[Object(C.jsx)(u.a.Header,{children:"Edit Invoice's data"}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a,{children:[Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Total CAD"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{style:{textAlign:"right"},disabled:!0,value:"$ ".concat(e.invoice.total_cad.toFixed(2))})})]}),Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Date Start"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{style:{textAlign:"right"},disabled:!0,value:ve(e.invoice.date_start)})})]}),Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Date End"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{style:{textAlign:"right"},disabled:!0,value:ve(e.invoice.date_end)})})]}),Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Date Generated"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{style:{textAlign:"right"},disabled:!0,value:ve(e.invoice.date)})})]}),e.invoice.date_delivered&&Object(C.jsx)("div",{children:Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Date Delivered"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{style:{textAlign:"right"},disabled:!0,value:ve(e.invoice.date_delivered)})})]})}),e.invoice.date_received&&Object(C.jsx)("div",{children:Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Date Received"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{style:{textAlign:"right"},disabled:!0,value:ve(e.invoice.date_received)})})]})}),Object(C.jsx)("br",{}),Object(C.jsxs)(u.a,{children:[Object(C.jsx)(u.a.Header,{children:"What you can change"}),Object(C.jsxs)(u.a.Body,{children:[Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Code"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{style:{textAlign:"right"},type:"text",placeholder:d||"Invoice's Code",name:"newInvoiceCode",onChange:function(e){return h(e.target.value)},value:d})})]}),Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Received $"})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(z.a.Control,{disabled:"Received"!==e.invoice.status,style:{textAlign:"right"},type:"number",placeholder:"Received"===e.invoice.status?"Actually $ received":"disabled",name:"newReceivedAmount",value:x,onChange:function(e){return g(e.target.value)}})})]}),Object(C.jsx)(z.a.Label,{column:!0,className:"cardLabel",style:{paddingLeft:"0px"},children:"Reason"}),Object(C.jsx)(z.a.Control,{disabled:"Received"!==e.invoice.status,style:{textAlign:"right"},as:"textarea",rows:"3",placeholder:"Received"===e.invoice.status?"Why the diff btw the Total CAD and Received Amount":"Only enabled when Invoice's status is 'Received'",name:"newReason",value:k,onChange:function(e){return w(e.target.value)}})]})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)(u.a.Footer,{className:B,children:L||Object(C.jsx)("br",{})}),Object(C.jsxs)(M.a,{className:"mt-3",children:[Object(C.jsx)(A.a,{style:{width:"50%"},onClick:i,children:"Close"}),Object(C.jsx)(A.a,{style:{width:"50%"},variant:"success",onClick:V,children:"Save Changes"})]})]})})})})),_e=window.innerWidth<800,Ge=window.innerWidth<800?{content:{width:"95%",height:"85%",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",overflow:"scroll"}}:{content:{width:"70%",maxWidth:"650px",height:"75%",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",overflow:"scroll"}},He=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={dateStart:"",dateEnd:"",clientId:"",client:"",clockInListTable:"",tableVisibility:!1,message:"",changeStatusModal:!1,currentStatus:e.props.invoice.status,updateYN:!1,showModalDeleteInvoice:!1,invoiceDeleted:!1,dateDelivered:"",dateReceived:"",showClockinModal:"",showEditInvoiceModal:""},e.handleChange=function(t){e.setState(Object(K.a)({},t.target.name,t.target.value))},e.clearMessage=function(){setTimeout((function(){e.setState({message:"",invoiceCode:""})}),3500)},e.updateInvoice=function(t,a){"Delivered"===t?e.setState({currentStatus:t,dateDelivered:"Delivered"===t?a:"",updateYN:!0}):"Received"===t&&e.setState({currentStatus:t,dateReceived:"Received"===t?a:"",updateYN:!0})},e.componentDidMount=function(){e.takeClockinData()},e.takeClockinData=Object(H.a)(G.a.mark((function t(){var a,s,n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.invoice._id,s=e.props.storeToken,"invoiceClockins",t.prev=1,t.next=4,ge(s,"invoiceClockins",a);case 4:if(!(n=t.sent).error){t.next=7;break}throw n.error;case 7:e.setState({clockinList:n,clockInListTable:e.renderDataTable(n),tableVisibility:!0}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.setState({message:t.t0||t.t0.message,tableVisibility:!1});case 13:case"end":return t.stop()}}),t,null,[[1,10]])}))),e.handleChangeInvoiceStatus=function(){e.setState({changeStatusModal:!0})},e.editClockin=function(t){e.setState({showClockinModal:!0,clockinToModal:t,client:t.client})},e.renderDataTable=function(t){var a=0,s=0,n=t.map((function(t,n){var c=ye(t,n);return a+=Number(c.totalTime),s+=Number(c.totalCad),Object(C.jsxs)("tr",{onClick:function(){return e.editClockin(c)},children:[Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.num}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.date}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.totalTime}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:c.totalCad})]},c.num)})),c=Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:Object(C.jsx)("b",{children:"Totals"})}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:Object(C.jsxs)("b",{children:[a.toFixed(2)," ",a>1?"hours":"hour"]})}),Object(C.jsx)("td",{style:{verticalAlign:"middle"},children:Object(C.jsxs)("b",{children:["$",s.toFixed(2)]})})]},n.length+1);return[].concat(Object(he.a)(n),[c])},e.closeChangeModal=function(){e.setState({changeStatusModal:!1})},e.backToThePrevious=function(){e.state.updateYN||e.state.invoiceDeleted?e.props.updateScreen(e.state.updateYN?e.state.currentStatus:null):e.props.closeModal()},e.setShowModalDeleteInvoice=function(){e.setState({showModalDeleteInvoice:!0})},e.closeShowModalDeleteInvoice=function(){e.setState({showModalDeleteInvoice:!1})},e.confirmDeletion=function(){e.setState({invoiceDeleted:!0})},e.closeClockinModal=function(){e.setState({showClockinModal:!1})},e.closeEditModal=function(t){e.props.changeInvoiceData(t),e.setState({showEditInvoiceModal:!1})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsxs)(Q.a,{isOpen:this.props.openInvoiceModal,style:Ge,children:[this.state.showEditInvoiceModal?Object(C.jsx)(Re,{invoice:this.props.invoice,showEditInvoiceModal:this.state.showEditInvoiceModal,closeInvoiceEditModal:function(t){t?e.closeEditModal(t):e.setState({showEditInvoiceModal:!1})}}):"",this.state.changeStatusModal?Object(C.jsx)(Be,{invoice:this.props.invoice,closeChangeModal:this.closeChangeModal,currentStatus:this.state.currentStatus,openChangeInvoiceModal:this.state.changeStatusModal,updateInvoice:this.updateInvoice,dateDelivered:this.state.dateDelivered,dateReceived:this.state.dateReceived}):"",this.state.showModalDeleteInvoice?Object(C.jsx)(Fe,{initialState:this.state.showModalDeleteInvoice,closeDeleteModal:this.closeShowModalDeleteInvoice,invoiceCode:this.props.invoice.code,invoiceId:this.props.invoice._id,confirmDeletion:this.confirmDeletion}):"",this.state.showClockinModal?Object(C.jsx)(we,{showModal:this.state.showClockinModal,clockinData:this.state.clockinToModal,client:this.state.client,deleteClockin:!1,closeModal:this.closeClockinModal,thinScreen:_e}):"",Object(C.jsxs)(u.a,{children:[Object(C.jsxs)(u.a.Header,{as:"h3",children:["Invoice: ",this.props.invoice.code]}),Object(C.jsxs)(u.a.Body,{children:[Object(C.jsxs)(u.a.Title,{style:{fontWeight:"bold",fontSize:"large"},children:[" Client: ",this.props.client.nickname||this.props.client.name]}),_e?Object(C.jsxs)("div",{children:[Object(C.jsxs)(z.a.Label,{style:{left:"2rem"},children:[Object(C.jsx)("b",{children:"Total: $"}),this.props.invoice.total_cad.toFixed(2)]}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a.Label,{style:{left:"2rem"},children:[Object(C.jsx)("b",{children:"Date Start: "})," ",ve(this.props.invoice.date_start)]}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a.Label,{children:[Object(C.jsx)("b",{children:"Date End: "})," ",ve(this.props.invoice.date_end)]}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a.Label,{style:{left:"2rem"},children:[Object(C.jsx)("b",{children:"Date Generated:"})," ",ve(this.props.invoice.date)]}),(this.props.invoice.date_delivered||this.state.dateDelivered)&&Object(C.jsx)("div",{children:Object(C.jsxs)(z.a.Label,{style:{left:"2rem"},children:[Object(C.jsx)("b",{children:"Date Delivered:"})," ",ve(this.props.invoice.date_delivered||this.state.dateDelivered)]})}),(this.props.invoice.date_received||this.state.dateReceived)&&Object(C.jsx)("div",{children:Object(C.jsxs)(z.a.Label,{style:{left:"2rem"},children:[Object(C.jsx)("b",{children:"Date Received:"})," ",ve(this.props.invoice.date_received||this.state.dateReceived)]})}),this.props.invoice.cad_adjustment&&Object(C.jsxs)("div",{children:[Object(C.jsxs)(z.a.Label,{style:{left:"2rem"},children:[Object(C.jsx)("b",{children:"Received $:"})," ",this.props.invoice.cad_adjustment]}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a.Label,{style:{left:"2rem"},children:[Object(C.jsx)("b",{children:"Reason:"})," ",this.props.invoice.reason_adjustment]})]})]}):Object(C.jsx)("div",{children:Object(C.jsxs)(O.a,{children:[Object(C.jsxs)(p.a,{style:{width:"50%"},children:[Object(C.jsxs)(z.a.Label,{style:{left:"2rem"},children:[Object(C.jsx)("b",{children:"Total: $"}),this.props.invoice.total_cad.toFixed(2)]}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a.Label,{style:{left:"2rem"},children:[Object(C.jsx)("b",{children:"Date Start: "})," ",ve(this.props.invoice.date_start)]}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a.Label,{children:[Object(C.jsx)("b",{children:"Date End: "})," ",ve(this.props.invoice.date_end)]}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a.Label,{style:{left:"2rem"},children:[Object(C.jsx)("b",{children:"Date Generated:"})," ",ve(this.props.invoice.date)]}),(this.props.invoice.date_delivered||this.state.dateDelivered)&&Object(C.jsx)("div",{children:Object(C.jsxs)(z.a.Label,{style:{left:"2rem"},children:[Object(C.jsx)("b",{children:"Date Delivered:"})," ",ve(this.props.invoice.date_delivered||this.state.dateDelivered)]})}),(this.props.invoice.date_received||this.state.dateReceived)&&Object(C.jsx)("div",{children:Object(C.jsxs)(z.a.Label,{style:{left:"2rem"},children:[Object(C.jsx)("b",{children:"Date Received:"})," ",ve(this.props.invoice.date_received||this.state.dateReceived)]})})]}),this.props.invoice.cad_adjustment&&Object(C.jsxs)(p.a,{style:{width:"50%"},children:[Object(C.jsxs)(z.a.Label,{style:{left:"2rem"},children:[Object(C.jsx)("b",{children:"Received $:"})," ",this.props.invoice.cad_adjustment]}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a.Label,{style:{left:"2rem"},children:[Object(C.jsx)("b",{children:"Reason:"})," ",this.props.invoice.reason_adjustment]})]})]})}),"Received"===this.state.currentStatus?Object(C.jsx)(A.a,{onClick:function(){return e.setState({showEditInvoiceModal:!0})},children:"Edit Invoice"}):Object(C.jsx)(A.a,{onClick:function(){return e.setState({showEditInvoiceModal:!0})},children:"Edit Invoice's Code"}),Object(C.jsx)("div",{className:"d-flex flex-column",children:this.state.invoiceDeleted?Object(C.jsx)(A.a,{style:{width:"100%"},variant:"warning",disabled:!0,children:"Invoice has already been deleted."}):Object(C.jsxs)(M.a,{className:"mt-3",children:[Object(C.jsx)(A.a,{style:{width:"50%"},variant:"info",disabled:"Received"===this.state.currentStatus,onClick:this.handleChangeInvoiceStatus,children:this.state.currentStatus}),Object(C.jsx)(A.a,{style:{width:"50%"},variant:"danger",disabled:"Received"===this.state.currentStatus,onClick:this.setShowModalDeleteInvoice,children:"Delete"})]})})]})]}),this.state.tableVisibility?Object(C.jsxs)(u.a,{className:"cardInvoiceGenListofClockinsModal card",children:[Object(C.jsx)(u.a.Footer,{style:{fontSize:"x-large",textAlign:"center",fontWeight:"bold"},children:"Invoice's Clockins List"}),Object(C.jsxs)(Oe.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{style:{textAlign:"center"},children:[Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"#"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Date"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"Total Time"}),Object(C.jsx)("th",{style:{verticalAlign:"middle"},children:"CAD$"})]})}),Object(C.jsx)("tbody",{style:{textAlign:"center"},children:this.state.clockInListTable})]})]}):Object(C.jsx)(u.a,{children:Object(C.jsx)(u.a.Title,{children:this.state.message})}),Object(C.jsx)(A.a,{variant:"primary",onClick:this.backToThePrevious,children:"Close Window"})]})}}]),a}(s.Component),Ke=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={dateStart:"",dateEnd:"",clientId:"",invoiceList:[],client:"",invoiceListTable:"",tableVisibility:!1,message:"",openInvoiceModal:!1,invoice:""},e.handleChange=function(t){e.setState(Object(K.a)({},t.target.name,t.target.value))},e.handleGetInvoices=function(){var t=Object(H.a)(G.a.mark((function t(a){var s,n,c,i,r;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),s=e.state.dateStart,n=e.state.dateEnd,c=e.state.clientId,e.state.clientId){t.next=6;break}e.setState({message:"Select a client.",classNameMessage:"messageFailure"}),t.next=18;break;case 6:return i="/api/invoice?dateStart=".concat(s,"&dateEnd=").concat(n,"&clientId=").concat(c),t.prev=7,t.next=10,W.a.get(i,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.props.storeToken)}});case 10:r=t.sent,console.log(".....................getInvoices:",r),r.data.allInvoices?e.setState({invoiceList:r.data.allInvoices,invoiceListTable:e.renderDataTable(r.data.allInvoices),tableVisibility:!0,clientId:c}):e.setState({message:"No Invoices for this period.",classNameMessage:"messageFailure",tableVisibility:!1}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(7),e.setState({message:t.t0.message,classNameMessage:"messageFailure"});case 18:e.clearMessage();case 19:case"end":return t.stop()}}),t,null,[[7,15]])})));return function(e){return t.apply(this,arguments)}}(),e.renderDataTable=function(t){var a=0,s=0,c=0,i=0,r=t.map((function(t,n){var r={num:n+1,date:ve(t.date),totalCad:Number(t.cad_adjustment)||Number(t.total_cad),code:t.code,status:t.status};return i+=r.totalCad,"Generated"===r.status?c+=r.totalCad:"Delivered"===r.status?s+=r.totalCad:"Received"===r.status&&(a+=r.totalCad),Object(C.jsxs)("tr",{onClick:function(){return e.invoiceEdit(t)},children:[Object(C.jsx)("td",{children:r.num}),Object(C.jsx)("td",{children:r.date}),Object(C.jsx)("td",{children:r.totalCad.toFixed(2)}),Object(C.jsx)("td",{children:r.code}),Object(C.jsx)("td",{children:r.status})]},r.num)})),l=Object(C.jsxs)(n.a.Fragment,{children:[Object(C.jsx)("tr",{style:{background:"gainsboro"},children:Object(C.jsx)("td",{colSpan:"5"})},i+1),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{colSpan:"2",style:{textAlign:"left",paddingLeft:"2rem"},children:Object(C.jsx)("b",{children:"Generated"})}),Object(C.jsx)("td",{colSpan:"3",style:{verticalAlign:"middle",textAlign:"right",paddingRight:"2rem"},children:Object(C.jsx)("b",{children:c.toFixed(2)})})]},i+5),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{colSpan:"2",style:{textAlign:"left",paddingLeft:"2rem"},children:Object(C.jsx)("b",{children:"Delivered"})}),Object(C.jsx)("td",{colSpan:"3",style:{verticalAlign:"middle",textAlign:"right",paddingRight:"2rem"},children:Object(C.jsx)("b",{children:s.toFixed(2)})})]},i+4),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{colSpan:"2",style:{textAlign:"left",paddingLeft:"2rem"},children:Object(C.jsx)("b",{children:"Received"})}),Object(C.jsx)("td",{colSpan:"3",style:{verticalAlign:"middle",textAlign:"right",paddingRight:"2rem"},children:Object(C.jsx)("b",{children:a.toFixed(2)})})]},i+3),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{colSpan:"2",style:{textAlign:"left",paddingLeft:"2rem"},children:Object(C.jsx)("b",{children:"Total"})}),Object(C.jsx)("td",{colSpan:"3",style:{verticalAlign:"middle",textAlign:"right",paddingRight:"2rem"},children:Object(C.jsxs)("b",{children:["CAD ",i.toFixed(2)]})})]},i+2)]},i);return r.push(l),r},e.clearMessage=function(){setTimeout((function(){e.setState({message:"",invoiceCode:""})}),3500)},e.getClientInfo=function(t){e.setState({client:t,clientId:t._id,disabledIPBtn:!1,tableVisibility:!1})},e.invoiceEdit=function(t){e.setState({openInvoiceModal:!0,invoice:t})},e.closeModal=function(){e.setState({openInvoiceModal:!1})},e.updateScreen=function(t){var a;if(t)a=e.state.invoiceList.map((function(a){return a._id===e.state.invoice._id&&(a.status=t),a}));else{var s=e.state.invoice._id;a=e.state.invoiceList.filter((function(e){return e._id!==s}))}var n=e.renderDataTable(a);e.setState({invoiceList:a,invoiceListTable:n,openInvoiceModal:!1})},e.updateInvoiceData=function(t){var a=Object(U.a)({},e.state.invoice);a.code=t.newInvoiceCode,a.cad_adjustment=t.newReceivedAmount,a.reason_adjustment=t.newReason;var s=e.state.invoiceList.map((function(e){return e._id===t.invoiceId?e=a:e}));e.setState({invoice:a,invoiceList:s,invoiceListTable:e.renderDataTable(s)})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"formPosition",children:[Object(C.jsx)("br",{}),this.state.openInvoiceModal?Object(C.jsx)(He,{invoice:this.state.invoice,client:this.state.client,closeModal:this.closeModal,updateScreen:this.updateScreen,openInvoiceModal:this.state.openInvoiceModal,storeToken:this.props.storeToken}):"",Object(C.jsxs)(u.a,{className:"card-settings",children:[Object(C.jsx)(u.a.Header,{children:"Invoice's List and Edit"}),Object(C.jsxs)(u.a.Body,{children:[Object(C.jsxs)("div",{className:"gridClientBtContainer",children:[Object(C.jsx)(me,{client:this.state.client,getClientInfo:this.getClientInfo,invoiceFlag:!0})," "]}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a,{onSubmit:this.handleGetInvoices,children:[Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formST",children:[Object(C.jsx)(z.a.Label,{column:!0,sm:"3",className:"cardLabel",children:"Date Start:"}),Object(C.jsx)(p.a,{sm:"5",children:Object(C.jsx)(z.a.Control,{type:"date",name:"dateStart",onChange:this.handleChange,value:this.state.dateStart})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formET",children:[Object(C.jsx)(p.a,{sm:"3",children:Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Date End:"})}),Object(C.jsx)(p.a,{sm:"5",children:Object(C.jsx)(z.a.Control,{type:"date",name:"dateEnd",onChange:this.handleChange,value:this.state.dateEnd})})]}),Object(C.jsx)(u.a.Footer,{className:this.state.classNameMessage,children:this.state.message?this.state.message:Object(C.jsx)("br",{})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"d-flex flex-column",children:Object(C.jsx)(A.a,{variant:"primary",type:"submit",onClick:this.handleGetInvoices,ref:function(t){return e.getInvoicesBtn=t},children:"Get Invoices"})})]})]})]}),this.state.tableVisibility?Object(C.jsxs)(u.a,{className:"cardInvoiceGenListofInvoices",children:[Object(C.jsxs)(u.a.Header,{style:{textAlign:"center"},children:["Client: ",Object(C.jsx)("b",{children:this.state.client.nickname||this.state.client.name}),", "," ",Object(C.jsx)("b",{children:this.state.invoiceList.length})," ",this.state.invoiceList.length>1?"Invoices":"Invoice"]}),this.state.invoiceList.length>0?Object(C.jsx)("div",{children:Object(C.jsxs)(Oe.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{style:{textAlign:"center",verticalAlign:"middle"},children:[Object(C.jsx)("th",{children:"#"}),Object(C.jsx)("th",{children:"Date"}),Object(C.jsx)("th",{children:"CAD$"}),Object(C.jsx)("th",{children:"Code"}),Object(C.jsx)("th",{children:"Status"})]})}),Object(C.jsx)("tbody",{style:{textAlign:"center"},children:this.state.invoiceListTable})]})}):null]}):null]})}}]),a}(s.Component),Ue=Object(b.b)((function(e){return{storeToken:e.token}}),null)(Ke),ze=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={newPassword:"",confirmPassword:"",code:"",url:"",user:"",cancel:!1,logged:!1,newResetPassword:!1,message:"Processing...",classNameMessage:"messageSuccess",flag:"Processing...",disableButton:!0},e.handleChange=function(t){e.setState(Object(K.a)({},t.target.name,t.target.value)),"Enter"===t.key&&"newPassword"===t.target.name&&""!==t.target.value?(e.textInput2.focus(),t.preventDefault()):"Enter"===t.key&&"confirmPassword"===t.target.name&&""!==t.target.value&&(e.handleSubmit(t),t.preventDefault())},e.handleSubmit=function(){var t=Object(H.a)(G.a.mark((function t(a){var s,n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),""!==e.state.newPassword){t.next=5;break}alert("New Password and Confirm Password have to be the same and not empty!"),t.next=30;break;case 5:if(e.state.newPassword===e.state.confirmPassword){t.next=9;break}alert("New Password and Confirm Password have to be the same."),t.next=30;break;case 9:return"/api/user",e.setState({message:"Processing...",classNameMessage:"messageSuccess",disableButton:!0}),t.prev=11,t.next=14,W.a.post("/api/user",{userId:e.state.user._id,newPassword:e.state.newPassword,whatToDo:"reset-password"});case 14:if(!(s=t.sent).data.message){t.next=24;break}return(n=s.data.user).id=s.data.user._id,n.token=s.data.token,t.next=21,e.props.dispatchLogin({user:n});case 21:e.setState({logged:!0}),t.next=25;break;case 24:e.setState({message:s.data.error,classNameMessage:"messageFailure",disableButton:!1});case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(11),e.setState({message:t.t0.message,classNameMessage:"messageFailure",disableButton:!1});case 30:case"end":return t.stop()}}),t,null,[[11,27]])})));return function(e){return t.apply(this,arguments)}}(),e.cancelResetPassword=function(){e.setState({cancel:!0})},e.componentDidMount=Object(H.a)(G.a.mark((function t(){var a,s,n,c;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(j.f)(window.location.pathname,{path:"/reset_password/:param",exact:!0,strict:!1}),s=a.params.param,t.prev=2,"/api/user",t.next=6,W.a.get("/api/user");case 6:(n=t.sent).data.message?e.setState({code:s,user:n.data.user,url:a.url,flag:"",message:"",disableButton:!1}):(c={name:"<code_is_invaild>"},e.setState({user:n.data.code?n.data.user.name:c,message:n.data.error,classNameMessage:"messageFailure",flag:"",disableButton:!1})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),e.setState({message:t.t0.message,classNameMessage:"messageFailure",flag:""});case 13:case"end":return t.stop()}}),t,null,[[2,10]])}))),e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return this.state.cancel||this.state.newResetPassword?Object(C.jsx)(j.a,{to:"/login"}):this.state.logged?Object(C.jsx)(j.a,{to:"/"}):Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"formPosition",children:[Object(C.jsx)("br",{}),Object(C.jsx)("h3",{children:"Reset Password"}),Object(C.jsx)("br",{}),Object(C.jsxs)("p",{children:["Hi ",Object(C.jsx)("b",{children:this.state.flag?Object(C.jsx)("span",{className:"messageSuccess",children:this.state.flag}):this.state.user?this.state.user.name.split(" ")[0]:""})]}),Object(C.jsx)("br",{}),Object(C.jsx)(u.a,{className:"card-settings",children:Object(C.jsxs)(z.a,{onSubmit:this.handleSubmit,children:[Object(C.jsxs)(z.a.Group,{controlId:"formBasicEmail",children:[Object(C.jsx)(z.a.Label,{children:"New password"}),Object(C.jsx)(z.a.Control,{autoFocus:!0,type:"password",placeholder:"Type new password",name:"newPassword",onChange:this.handleChange,onKeyPress:this.handleChange,value:this.state.newPassword,ref:function(t){return e.textInput1=t}}),Object(C.jsx)(z.a.Text,{className:"text-muted",children:"Never share your password. ;D"})]}),Object(C.jsxs)(z.a.Group,{controlId:"formBasicPassword",children:[Object(C.jsx)(z.a.Label,{children:"Confirm New Password"}),Object(C.jsx)(z.a.Control,{type:"password",placeholder:"Confirm New Password",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleChange,onKeyPress:this.handleChange,ref:function(t){return e.textInput2=t}})]}),Object(C.jsx)(x.a,{className:this.state.classNameMessage,children:this.state.message}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"d-flex flex-column",children:Object(C.jsxs)(M.a,{className:"mt-3",children:[Object(C.jsx)(A.a,{disabled:this.state.disableButton,variant:"primary",type:"submit",children:"Submit"}),Object(C.jsx)(A.a,{disabled:this.state.disableButton,variant:"danger",onClick:this.cancelResetPassword,children:"Cancel"})]})})]})})]})})}}]),a}(s.Component),Ve=Object(b.b)(null,(function(e){return{dispatchLogin:function(t){return e({type:"LOGIN",data:t})}}}))(ze),We=a.p+"static/media/signUp.80011238.png",Ye=a.p+"static/media/newClient.915199de.png",Je=a.p+"static/media/punchIn.866c828b.png",qe=a.p+"static/media/listOfPunchIns.942d50e3.png",Xe=a.p+"static/media/clockinInfo.c7d62155.png",Ze=a.p+"static/media/invoiceGen.df4c7f06.png",$e=a.p+"static/media/invoice01.9693a120.png",Qe=a.p+"static/media/invoiceChange.8843c86c.png";function et(){var e=window.innerWidth;return Object(C.jsxs)("div",{style:{all:"unset"},className:"formPosition",children:[Object(C.jsxs)(u.a,{className:"bigCardPosition",children:[Object(C.jsx)(u.a.Header,{style:{textAlign:"center"},children:Object(C.jsx)("h1",{children:"Quick Guidance"})}),Object(C.jsxs)(u.a.Body,{children:[Object(C.jsx)(u.a.Title,{children:"With Clockin.js you are able to manage your clients data, work hours and invoices."}),Object(C.jsx)("br",{}),"You can access the functions described below on the menu bar (computer) or menu icon on top right side (mobile).",Object(C.jsxs)(u.a,{style:{marginTop:"1rem"},children:[Object(C.jsx)(u.a.Header,{style:{fontSize:"h4"},children:"1- Sign Up"}),Object(C.jsx)(u.a.Body,{children:"Here you enter you info"}),Object(C.jsx)(u.a.Body,{style:{paddingTop:"0px"},children:"If you set a real email you are going to receive emails when you punch in and set more security to your account - change data and password only occurs by receiving a code in your email."}),Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:We,alt:"Clockin.js",width:e<800?.65*e:.3*e,style:{marginLeft:e<800?.25*e/2:"8rem"}})}),Object(C.jsx)("br",{})]}),Object(C.jsxs)(u.a,{style:{marginTop:"1rem"},children:[Object(C.jsx)(u.a.Header,{style:{fontSize:"h4"},children:"2- Input your Clients' data"}),Object(C.jsx)(u.a.Body,{children:"The system also allows you to have client's contact info stored."}),Object(C.jsx)(u.a.Body,{style:{paddingTop:"0px"},children:"You can have one or multiples clients. (none also but it would not be the point :D)"}),Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:Ye,alt:"Clockin.js",width:e<800?.65*e:.3*e,style:{marginLeft:e<800?.25*e/2:"8rem"}})}),Object(C.jsx)("br",{})]}),Object(C.jsxs)(u.a,{style:{marginTop:"1rem"},children:[Object(C.jsx)(u.a.Header,{style:{fontSize:"h4"},children:"3- PunchIn"}),Object(C.jsx)(u.a.Body,{children:"Each time you work to a client you register the time about it - punch in."}),Object(C.jsx)(u.a.Body,{style:{paddingTop:"0px"},children:"For every Punch in, Clockin.js will send you an email with all info you registered. It is a way to double register."}),Object(C.jsx)(u.a.Body,{style:{paddingTop:"0px"},children:"You can also delete punchins."}),Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:Je,alt:"Clockin.js",width:e<800?.65*e:.3*e,style:{marginLeft:e<800?.25*e/2:"8rem"}})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:qe,alt:"Clockin.js",width:e<800?.65*e:.3*e,style:{marginLeft:e<800?.25*e/2:"8rem"}})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:Xe,alt:"Clockin.js",width:e<800?.65*e:.3*e,style:{marginLeft:e<800?.25*e/2:"8rem"}})}),Object(C.jsx)("br",{})]}),Object(C.jsxs)(u.a,{style:{marginTop:"1rem"},children:[Object(C.jsx)(u.a.Header,{style:{fontSize:"h4"},children:"4- Generate invoices"}),Object(C.jsx)(u.a.Body,{children:"At the end of a period we need to invoice a client."}),Object(C.jsx)(u.a.Body,{style:{paddingTop:"0px"},children:"For that, you go to Invoices menu, select the client, specify the period, set a code for the invoice and generate it."}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:Ze,alt:"Clockin.js",width:e<800?.65*e:.3*e,style:{marginLeft:e<800?.25*e/2:"8rem"}})}),Object(C.jsx)("br",{}),Object(C.jsx)(u.a.Body,{style:{paddingTop:"0px"},children:"Afterwars, you can check the invoice and its clockins."}),Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:$e,alt:"Clockin.js",width:e<800?.65*e:.3*e,style:{marginLeft:e<800?.25*e/2:"8rem"}})}),Object(C.jsx)("br",{}),Object(C.jsx)(u.a.Body,{style:{paddingTop:"0px"},children:"Also, you can delete the invoice and manage their status wich are:"}),Object(C.jsxs)(u.a.Body,{style:{paddingTop:"0px",paddingLeft:"2rem"},children:[Object(C.jsx)("b",{children:"1) Generated"}),", after steps above,"]}),Object(C.jsxs)(u.a.Body,{style:{paddingTop:"0px",paddingLeft:"2rem"},children:[Object(C.jsx)("b",{children:"2) Delivered"}),", when you handle the invoice to your client, and"]}),Object(C.jsxs)(u.a.Body,{style:{paddingTop:"0px",paddingLeft:"2rem"},children:[Object(C.jsx)("b",{children:"3) Received"}),", when you get the earning$ in your pockets."]}),Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:Qe,alt:"Clockin.js",width:e<800?.65*e:.3*e,style:{marginLeft:e<800?.25*e/2:"8rem"}})}),Object(C.jsx)("br",{})]}),Object(C.jsx)(u.a.Body,{style:{marginTop:"1rem"},children:"It is easy and helpful."}),Object(C.jsx)(u.a.Body,{style:{paddingTop:"0px"},children:"Let's get started!"}),Object(C.jsxs)(u.a.Body,{style:{paddingTop:"0px"},children:["More info, motivation and tech topics at ",Object(C.jsx)(h.b,{to:"/about",children:"About"})," or ",Object(C.jsx)(h.b,{to:"/contact",children:"Contact"})]}),Object(C.jsx)(u.a.Body,{style:{paddingTop:"0px",paddingBottom:"0px"},children:"Kind regards from"}),Object(C.jsx)(u.a.Body,{style:{paddingTop:"0px",paddingLeft:"2rem",fontWeight:"bold"},children:"Clockin.js Team :)"})]}),Object(C.jsx)("br",{})]}),Object(C.jsx)(k,{bckColor:window.innerWidth<800?"aliceblue":"gainsboro",opac:"iconSettingsOpacity"})]})}function tt(){return Object(C.jsx)(n.a.Fragment,{children:Object(C.jsxs)(u.a,{className:"bigCardPosition",children:[Object(C.jsx)(u.a.Header,{style:{textAlign:"center"},children:Object(C.jsx)("h1",{children:"Contact"})}),Object(C.jsxs)(u.a.Body,{children:[Object(C.jsx)("h4",{style:{marginTop:"1rem"},children:"Clockin.js creator is Tony Kieling."}),Object(C.jsx)("br",{}),Object(C.jsx)("p",{children:"Curious and self-taught passionate about data handling and process automation. He has a background as an IT system analyst, which has made him an excellent problem solver, always committed to finding ways to automate solutions using the right tools and best practices. He holds experience and maturity in dealing with customers and users' demands in a complex context and he is eager to face challenges and deliver a reliable and first-class code."})]}),Object(C.jsxs)(u.a,{className:"cardsPresentationPosition",children:[Object(C.jsx)(u.a.Header,{style:{textAlign:"center"},children:Object(C.jsx)("h4",{children:"Tony Kieling's Contacts"})}),Object(C.jsx)(u.a.Body,{children:Object(C.jsx)(x.a,{style:{maxWidth:"250px"},children:Object(C.jsxs)(O.a,{children:[Object(C.jsx)(p.a,{style:{textAlign:"center",padding:"0 5px"},children:Object(C.jsx)("a",{href:"mailto:tony.kieling@gmail.com",target:"_top",children:Object(C.jsx)("img",{src:g,alt:"gmail",className:"iconSettings"})})}),Object(C.jsx)(p.a,{style:{textAlign:"center",padding:"0 5px"},children:Object(C.jsx)("a",{href:"https://www.linkedin.com/in/tony-kieling/",target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)("img",{src:f,className:"iconSettings",alt:"linkedin"})})}),Object(C.jsx)(p.a,{style:{textAlign:"center",padding:"0 5px"},children:Object(C.jsx)("a",{href:"https://github.com/tonykieling",target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)("img",{src:y,className:"iconSettings",alt:"linkedin"})})}),Object(C.jsx)(p.a,{style:{textAlign:"center",padding:"0 5px"},children:Object(C.jsx)("a",{href:"https://resume.creddle.io/resume/hqaeq2fbnr6",target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)("img",{src:v,alt:"resume",className:"iconSettings"})})})]})})})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})})}var at=a(115),st=function(){var e=Object(H.a)(G.a.mark((function e(t,a,s,n){var c,i;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="/clockin?dateStart=".concat(s,"&dateEnd=").concat(n,"&clientId=").concat(a),e.prev=1,e.next=4,W.a.get(c,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 4:return i=e.sent,e.abrupt("return",i.data.allClockins);case 8:e.prev=8,e.t0=e.catch(1),console.log("Error: ",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a,s,n){return e.apply(this,arguments)}}(),nt=function(){var e=Object(H.a)(G.a.mark((function e(t){var a,s,n,c,i,r,l,o,d,h,j,b;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(t.user.token,t.client._id,t.invoice.date_start.substring(0,10),t.invoice.date_end.substring(0,10));case 2:a=e.sent,s=Math.ceil(a.length/14),n=1,c={invoiceDate:t.invoice.date,invoiceNumber:t.invoice.code,serviceProviderName:t.user.name,mailingAddres:t.user.address,city:t.user.city,postalCode:"".concat(t.user.postalCode.substring(0,3),"\u2013").concat(t.user.postalCode.substring(3,6)),phoneNumber1:t.user.phone.substring(1,4),phoneNumber2:t.user.phone.substring(6,9),phoneNumber3:t.user.phone.substring(10,14),client:t.client.name,typeOfService:"Behaviour Intervention",totalCad:t.invoice.total_cad,invoiceSample:t.client.invoice_sample},i=new at.a;case 7:if(n>1&&i.addPage(),i.addImage(c.invoiceSample,"JPEG",0,0,210,297),i.setTextColor(92,76,76),i.setFontSize(12),i.text(ve(c.invoiceDate),131,30),i.text(c.invoiceNumber,168,30),i.text(c.serviceProviderName,77,41),i.text(c.mailingAddres,65,51.5),i.text(c.city,42,61.5),i.text(c.postalCode,154,61.5),i.text(c.phoneNumber1,63,71.5),i.text(c.phoneNumber2,80,71.5),i.text(c.phoneNumber3,91.5,71.5),i.text(c.client,72,164),i.setFontSize(11),i.text(c.typeOfService,30,190),s<2?(a.forEach((function(e,t){return i.text(ve(e.date),78,4.25*t+190)})),a.forEach((function(e,t){return i.text("".concat((e.worked_hours/36e5).toFixed(2)),120,4.25*t+190,{align:"right"})})),a.forEach((function(e,t){return i.text("".concat(e.rate.toFixed(2)),150,4.25*t+190,{align:"right"})})),a.forEach((function(e,t){return i.text("".concat((e.worked_hours/36e5*e.rate).toFixed(2)),189.5,4.25*t+190,{align:"right"})}))):((r=a.slice(14*(n-1),14*n)).forEach((function(e,t){return i.text(ve(e.date),78,4.25*t+190)})),r.forEach((function(e,t){return i.text("".concat((e.worked_hours/36e5).toFixed(2)),120,4.25*t+190,{align:"right"})})),r.forEach((function(e,t){return i.text("".concat(e.rate.toFixed(2)),150,4.25*t+190,{align:"right"})})),r.forEach((function(e,t){return i.text("".concat((e.worked_hours/36e5*e.rate).toFixed(2)),189.5,4.25*t+190,{align:"right"})}))),l=a.map((function(e){return Number((e.worked_hours/36e5).toFixed(2))})),o=l.reduce((function(e,t){return e+t})),d=(a[0].rate*o).toFixed(2),h="",j="",!(s>1)){e.next=45;break}i.setFontSize(9),e.t0=s,e.next=2===e.t0?33:3===e.t0?37:41;break;case 33:return h="Page ".concat(n," of 2"),i.setFontType("italic"),j="see 2nd page",e.abrupt("break",45);case 37:return h="Page ".concat(n," of 3"),i.setFontType("italic"),j="see 3rd page",e.abrupt("break",45);case 41:return h="Page ".concat(n," of ").concat(s),i.setFontType("italic"),j="see ".concat(s,"th page"),e.abrupt("break",45);case 45:!(b=s>1&&n<s)&&i.setFontSize(12),i.text(b?j:d,b?191:189.5,250.4,{align:"right"}),i.text("---",179,255.5),i.text(b?j:d,b?191:189.5,261,{align:"right"}),i.setFontSize(12),i.setFontType("normal"),i.text(h,191,289,{align:"right"}),n++;case 54:if(n<=s){e.next=7;break}case 55:i.save("".concat(c.invoiceNumber,".pdf"));case 56:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ct(e){return Object(C.jsx)("div",{children:Object(C.jsxs)(D.a,{show:e.openModal,onHide:e.closeInvoicePdfModal,children:[Object(C.jsxs)(D.a.Header,{children:["I am: ",e.user.name]}),Object(C.jsxs)(D.a.Body,{children:["This is body. Client is: ",e.client.name]}),Object(C.jsx)(D.a.Footer,{children:"Footer"}),Object(C.jsxs)(M.a,{children:[Object(C.jsx)(A.a,{variant:"success",onClick:function(){return console.log("PDF is coming soon")},children:"Generate a PDF file"}),Object(C.jsx)(A.a,{variant:"danger",onClick:e.closeModal,children:"Close"})]})]})})}var it=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={dateStart:"",dateEnd:"",clientId:"",invoiceList:[],client:"",invoiceListTable:"",tableVisibility:!1,message:"",invoice:"",openInvoicePdfModal:!1},e.handleChange=function(t){e.setState(Object(K.a)({},t.target.name,t.target.value))},e.handleGetInvoices=function(){var t=Object(H.a)(G.a.mark((function t(a){var s,n,c,i,r,l;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),s=e.state.dateStart,n=e.state.dateEnd,c=e.state.clientId,e.state.clientId){t.next=6;break}e.setState({message:"Select a client.",classNameMessage:"messageFailure"}),t.next=23;break;case 6:return i="/invoice?dateStart=".concat(s,"&dateEnd=").concat(n,"&clientId=").concat(c),t.prev=7,t.next=10,W.a.get(i,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.props.storeToken)}});case 10:if(!(r=t.sent).data.allInvoices){t.next=16;break}l=!!e.state.client.invoice_sample,e.setState({invoiceList:r.data.allInvoices,invoiceListTable:e.renderDataTable(r.data.allInvoices),tableVisibility:!0,clientId:c,classNameMessage:"".concat(l?"messageSuccess":"messageFailure"),message:"".concat(l?"Click on the invoice to generate a pdf document and check your download folder.":"Click in the invoice to a general pdf invoice. Please, contact tony.kieling@gmail.com for any format changes.")}),t.next=17;break;case 16:throw r.data.message;case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(7),e.setState({message:t.t0,classNameMessage:"messageFailure"}),e.clearMessage();case 23:case"end":return t.stop()}}),t,null,[[7,19]])})));return function(e){return t.apply(this,arguments)}}(),e.renderDataTable=function(t){return t.map((function(t,a){var s={num:a+1,date:ve(t.date),totalCad:Number(t.cad_adjustment)||Number(t.total_cad),code:t.code,status:t.status};return Object(C.jsxs)("tr",{onClick:e.state.client.invoice_sample?function(){return e.issuePdf(t)}:function(){return e.setState({openInvoicePdfModal:!0})},children:[Object(C.jsx)("td",{children:s.num}),Object(C.jsx)("td",{children:s.date}),Object(C.jsx)("td",{children:s.totalCad.toFixed(2)}),Object(C.jsx)("td",{children:s.code}),Object(C.jsx)("td",{children:s.status})]},s.num)}))},e.clearMessage=function(){setTimeout((function(){e.setState({message:"",invoiceCode:""})}),3500)},e.getClientInfo=function(t){e.setState({client:t,clientId:t._id,disabledIPBtn:!1,tableVisibility:!1,message:""})},e.issuePdf=function(t){if(e.state.client.invoice_sample){var a={invoice:t,user:e.props.user,client:e.state.client};nt(a)}else console.log("NO INVOICESAMPLE!")},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"formPosition",children:[this.state.openInvoicePdfModal&&Object(C.jsx)(ct,{user:this.props.user,client:this.state.client,openModal:this.state.openInvoicePdfModal,closeModal:function(){return e.setState({openInvoicePdfModal:!1})}}),Object(C.jsx)("br",{}),Object(C.jsxs)(u.a,{className:"card-settings",children:[Object(C.jsx)(u.a.Header,{children:"Generate a Pdf file"}),Object(C.jsxs)(u.a.Body,{children:[Object(C.jsx)("div",{className:"gridClientBtContainer",children:Object(C.jsx)(me,{client:this.state.client,getClientInfo:this.getClientInfo,askInvoiceSample:!0,company:!0})}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a,{onSubmit:this.handleGetInvoices,children:[Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formST",children:[Object(C.jsx)(z.a.Label,{column:!0,sm:"3",className:"cardLabel",children:"Date Start:"}),Object(C.jsx)(p.a,{sm:"5",children:Object(C.jsx)(z.a.Control,{type:"date",name:"dateStart",onChange:this.handleChange,value:this.state.dateStart})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formET",children:[Object(C.jsx)(p.a,{sm:"3",children:Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Date End:"})}),Object(C.jsx)(p.a,{sm:"5",children:Object(C.jsx)(z.a.Control,{type:"date",name:"dateEnd",onChange:this.handleChange,value:this.state.dateEnd})})]}),Object(C.jsx)(u.a.Footer,{className:this.state.classNameMessage,children:this.state.message?this.state.message:Object(C.jsx)("br",{})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"d-flex flex-column",children:Object(C.jsx)(A.a,{variant:"primary",type:"submit",onClick:this.handleGetInvoices,ref:function(t){return e.getInvoicesBtn=t},children:"Get Invoices"})})]})]})]}),this.state.tableVisibility?Object(C.jsxs)(u.a,{className:"cardInvoiceGenListofInvoices",children:[Object(C.jsxs)(u.a.Header,{style:{textAlign:"center"},children:["Client: ",Object(C.jsx)("b",{children:this.state.client.nickname||this.state.client.name}),", "," ",Object(C.jsx)("b",{children:this.state.invoiceList.length})," ",this.state.invoiceList.length>1?"Invoices":"Invoice"]}),this.state.invoiceList.length>0?Object(C.jsx)("div",{children:Object(C.jsxs)(Oe.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{style:{textAlign:"center",verticalAlign:"middle"},children:[Object(C.jsx)("th",{children:"#"}),Object(C.jsx)("th",{children:"Date"}),Object(C.jsx)("th",{children:"CAD$"}),Object(C.jsx)("th",{children:"Code"}),Object(C.jsx)("th",{children:"Status"})]})}),Object(C.jsx)("tbody",{style:{textAlign:"center"},children:this.state.invoiceListTable})]})}):null]}):null]})}}]),a}(s.Component),rt=Object(b.b)((function(e){return{storeToken:e.token,user:e}}),null)(it),lt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={name:"",defaultRate:"",message:"",className:"",disableBtn:!1,email:"",typeOfService:"",address:"",city:"",province:"",postalCode:"",phone:"",messageControlName:"",messageControlDefaultRate:"",pcOutsideCanada:!1},e.handleChange=function(t){e.setState(Object(K.a)({},t.target.name,t.target.value)),"name"===t.target.name&&e.state.messageControlName&&e.setState({messageControlName:""}),"defaultRate"===t.target.name&&e.state.messageControlDefaultRate&&e.setState({messageControlDefaultRate:""})},e.handlePostalCode=function(t){var a=t.target.value;e.setState({postalCode:isNaN(a)?a.toUpperCase():a})},e.handleCheckPostalCode=function(){e.setState({pcOutsideCanada:!e.state.pcOutsideCanada})},e.handleSubmit=function(){var t=Object(H.a)(G.a.mark((function t(a){var s,n,c;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),window.scrollTo(0,2e3),e.state.name&&e.state.defaultRate){t.next=7;break}e.state.defaultRate||(e.setState({messageControlDefaultRate:"Please inform the default rate($)."}),e.textInput9.focus()),e.state.name||(window.scrollTo(0,0),e.setState({messageControlName:"Please inform client's name."}),e.textInput1.focus()),t.next=28;break;case 7:return e.setState({disableBtn:!0}),"/api/client",s=e.state.postalCode?e.state.pcOutsideCanada?e.state.postalCode:e.state.postalCode.substr(0,7).split(" ").join(""):void 0,n={name:e.state.name,defaultRate:e.state.defaultRate,email:e.state.email||void 0,address:e.state.address||void 0,city:e.state.city||void 0,province:e.state.province||void 0,phone:e.state.phone||void 0,postalCode:s,typeOfService:e.state.typeOfService||void 0},t.prev=11,t.next=14,W.a.post("/api/client",n,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.props.storeToken)}});case 14:if(!(c=t.sent).data.message){t.next=19;break}e.setState({message:Object(C.jsxs)("p",{children:["Client ",Object(C.jsx)("b",{children:e.state.name})," has been created."]}),className:"messageSuccess",name:"",email:"",phone:"",address:"",city:"",province:"",postalCode:"",typeOfService:"",defaultRate:""}),t.next=21;break;case 19:if(!c.data.error){t.next=21;break}throw c.data.error;case 21:t.next=27;break;case 23:t.prev=23,t.t0=t.catch(11),window.scrollTo(0,2e4),e.setState({message:t.t0.message||t.t0,className:"messageFailure"});case 27:e.clearMessage();case 28:case"end":return t.stop()}}),t,null,[[11,23]])})));return function(e){return t.apply(this,arguments)}}(),e.clearMessage=function(){setTimeout((function(){e.setState({message:"",disableBtn:!1,pcOutsideCanada:!1}),window.scrollTo(0,0),e.textInput1.focus()}),3500)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{className:"formPosition",children:[Object(C.jsx)("br",{}),Object(C.jsxs)(u.a,{className:"card-settings",children:[Object(C.jsx)(u.a.Header,{children:Object(C.jsx)("h2",{children:"New Client"})}),Object(C.jsxs)(z.a,{autoComplete:"off",className:"formPosition",style:{width:"30rem"},onSubmit:this.handleSubmit,children:[Object(C.jsxs)(z.a.Group,{controlId:"formName",children:[Object(C.jsx)("br",{}),Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Name"}),Object(C.jsx)(z.a.Control,{autoFocus:!0,type:"text",placeholder:"Client's name",name:"name",onChange:this.handleChange,value:this.state.name,onKeyPress:this.handleChange,disabled:this.state.disableBtn,ref:function(t){return e.textInput1=t}}),Object(C.jsx)(z.a.Text,{className:"messageControl-user",children:this.state.messageControlName})]}),Object(C.jsxs)(z.a.Group,{controlId:"formEmail",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Email"}),Object(C.jsx)(z.a.Control,{type:"email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",placeholder:"Client's email",name:"email",onChange:this.handleChange,value:this.state.email,onKeyPress:this.handleChange,disabled:this.state.disableBtn,ref:function(t){return e.textInput2=t}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formPhone",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Phone"}),Object(C.jsx)(J.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],className:"form-control",placeholder:"Client's phone number",name:"phone",value:this.state.phone,onKeyPress:this.handleChange,disabled:this.state.disableBtn})]}),Object(C.jsxs)(z.a.Group,{controlId:"formAddress",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Address"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"street, place..",name:"address",onChange:this.handleChange,value:this.state.address,disabled:this.state.disableBtn,onKeyPress:this.handleChange,ref:function(t){return e.textInput4=t}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formCity",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"City"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"city",name:"city",onChange:this.handleChange,value:this.state.city,disabled:this.state.disableBtn,onKeyPress:this.handleChange,ref:function(t){return e.textInput5=t}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formProvince",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Province"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"province",name:"province",onChange:this.handleChange,value:this.state.province,disabled:this.state.disableBtn,onKeyPress:this.handleChange,ref:function(t){return e.textInput6=t}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formPostalCode",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Postal Code"}),Object(C.jsx)(z.a.Check,{inline:!0,label:" outside Canada",checked:this.state.pcOutsideCanada,type:"checkbox",style:{marginLeft:"1rem"},onChange:this.handleCheckPostalCode,disabled:this.state.disableBtn}),this.state.pcOutsideCanada?Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Enter client's postal code",name:"postalCode",onChange:this.handleChange,value:this.state.postalCode,disabled:this.state.disableBtn,onKeyPress:this.handleChange,ref:function(t){return e.textInput7=t}}):Object(C.jsx)(J.a,{mask:[/[A-Z]/i,/\d/,/[A-Z]/i," ",/\d/,/[A-Z]/i,/\d/],className:"form-control",placeholder:"Enter client's postal code",name:"postalCode",value:this.state.postalCode,onChange:this.handlePostalCode,disabled:this.state.disableBtn})]}),Object(C.jsxs)(z.a.Group,{controlId:"formTypeOfService",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Type of service"}),Object(C.jsx)(z.a.Control,{type:"text",placeholder:"Categorize the service provided by you",name:"typeOfService",onChange:this.handleChange,value:this.state.typeOfService,disabled:this.state.disableBtn,onKeyPress:this.handleChange,ref:function(t){return e.textInput8=t}})]}),Object(C.jsxs)(z.a.Group,{controlId:"formDefaultRate",children:[Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Rate"}),Object(C.jsx)(z.a.Control,{type:"number",placeholder:"Hourly rate - CAD$",name:"defaultRate",onChange:this.handleChange,value:this.state.defaultRate,disabled:this.state.disableBtn,onKeyPress:this.handleChange,ref:function(t){return e.textInput9=t}}),Object(C.jsx)(z.a.Text,{className:"messageControl-user",children:this.state.messageControlDefaultRate})]}),Object(C.jsx)(u.a.Footer,{className:this.state.className,children:this.state.message?this.state.message:Object(C.jsx)("br",{})}),Object(C.jsx)("div",{className:"d-flex flex-column",children:Object(C.jsx)(A.a,{disabled:this.state.disableBtn,variant:"primary",type:"submit",ref:function(t){return e.buttonSave=t},children:"Save"})})]})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})}}]),a}(s.Component),ot=Object(b.b)((function(e){return{storeToken:e.token}}),null)(lt);a(112);var dt=Object(b.b)((function(e){return{storeUser:e.name,storeToken:e.token}}),null)((function(e){var t=Object(s.useState)({client:{id:"",name:""},period:{dateStart:"",dateEnd:""},message:{descripition:"",classNameMessage:""},showOutput:!1,checkAllClients:!1}),a=Object(I.a)(t,2),c=a[0],i=a[1],r=function(e){var t=e.target,a=t.name,s=t.value;i(Object(U.a)(Object(U.a)({},c),{},{period:Object(U.a)(Object(U.a)({},c.period),{},Object(K.a)({},a,s)),message:{descripition:""}}))},l=Object(s.useState)({period:{dateStart:"",dateEnd:""},summary:{totalClockins:"",totalHours:"",totalClockinsInvoiced:"",totalHoursInvoiced:"",totalClockinsNoInvoice:"",totalHoursNoInvoice:"",client:""},clockinsByClient:[],message:""}),o=Object(I.a)(l,2),d=o[0],h=o[1],j=function(){var t=Object(H.a)(G.a.mark((function t(a){var s,n,r,l,o,j,b;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i(Object(U.a)(Object(U.a)({},c),{},{message:{descripition:""}})),a.preventDefault(),s=c.client,n=c.period.dateStart,r=c.period.dateEnd,n&&r){t.next=7;break}i(Object(U.a)(Object(U.a)({},c),{},{message:{descripition:s._id||c.checkAllClients?"Please, set period.":"Please, select client and set period.",classNameMessage:"messageFailure"}})),t.next=29;break;case 7:if(!s._id&&!c.checkAllClients){t.next=28;break}if(l=new Date(n).getTime(),o=new Date(r).getTime(),!(l>o)){t.next=14;break}i(Object(U.a)(Object(U.a)({},c),{},{message:{descripition:"Check you dates.",classNameMessage:"messageFailure"}})),t.next=26;break;case 14:return t.prev=14,j="/report/clockins?dateStart=".concat(n,"&dateEnd=").concat(r,"&clientId=").concat(c.client._id,"&checkAllClients=").concat(c.checkAllClients),t.next=18,W.a.get(j,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.storeToken)}});case 18:"summary"in(b=t.sent).data?("message"in b.data.summary?h({message:"There is no clockins for this period.",summary:{client:b.data.summary.client},period:b.data.period}):h(Object(U.a)(Object(U.a)({},d),{},{message:"",period:b.data.period,summary:b.data.summary,clockinsByClient:b.data.clockinsByClient})),i(Object(U.a)(Object(U.a)({},c),{},{showOutput:!0,message:""}))):(console.log("ERROR:",b.data.error),i(Object(U.a)(Object(U.a)({},c),{},{message:{classNameMessage:"messageFailure",descripition:b.data.error.search("ECA01")?"Token expired - User needs to login again.":b.data.error}}))),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(14),console.log("Another ERRRRRRR",t.t0.message||t.t0),i(Object(U.a)(Object(U.a)({},c),{},{message:{descripition:t.t0.message,classNameMessage:"messageFailure"}}));case 26:t.next=29;break;case 28:i(Object(U.a)(Object(U.a)({},c),{},{message:{descripition:"Please, choose a client option.",classNameMessage:"messageFailure"}}));case 29:case"end":return t.stop()}}),t,null,[[14,22]])})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"formPosition",children:[Object(C.jsx)("br",{}),Object(C.jsxs)(u.a,{className:"card-settings",children:[Object(C.jsx)(u.a.Header,{children:"Reports - Clockins"}),Object(C.jsxs)(u.a.Body,{children:[Object(C.jsx)("div",{className:"gridClientBtContainer",children:Object(C.jsx)(me,{client:c.client,getClientInfo:function(e){i(Object(U.a)(Object(U.a)({},c),{},{client:e,message:{descripition:""},checkAllClients:!e._id,showOutput:!1}))},report:!0})}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a,{children:[Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formST",children:[Object(C.jsx)(z.a.Label,{column:!0,sm:"3",className:"cardLabel",children:"Date Start:"}),Object(C.jsx)(p.a,{sm:"5",children:Object(C.jsx)(z.a.Control,{type:"date",name:"dateStart",onChange:r,value:c.period.dateStart})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formET",children:[Object(C.jsx)(p.a,{sm:"3",children:Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Date End:"})}),Object(C.jsx)(p.a,{sm:"5",children:Object(C.jsx)(z.a.Control,{type:"date",name:"dateEnd",onChange:r,value:c.period.dateEnd})})]}),Object(C.jsx)(u.a.Footer,{className:c.message.classNameMessage,children:c.message&&c.message.descripition?c.message.descripition:Object(C.jsx)("br",{})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"d-flex flex-column",children:Object(C.jsx)(A.a,{variant:"primary",onClick:j,children:"Get List"})})]})]})]}),c.showOutput&&Object(C.jsxs)("div",{children:[Object(C.jsxs)(u.a,{className:"report-card",children:[Object(C.jsx)(u.a.Header,{className:"report-header",children:"Clockins' Report"}),c.checkAllClients?Object(C.jsxs)(u.a.Text,{className:"report-main-title",children:[e.storeUser,"'s clients report"]}):Object(C.jsxs)(u.a.Text,{className:"report-main-title",children:[e.storeUser,"'s Client: ",d.summary.client]}),Object(C.jsxs)(u.a.Text,{className:"report-period",children:[Object(C.jsx)("b",{children:"Period:"})," ",ve(d.period.dateStart)," to ",ve(d.period.dateEnd)]}),Object(C.jsx)(u.a.Text,{className:"report-general-subtitle",children:"Summary:"}),d.message?Object(C.jsx)(u.a.Text,{className:"report-items",children:d.message}):Object(C.jsx)(n.a.Fragment,{children:Object(C.jsxs)(Oe.a,{bordered:!0,size:"sm",style:{width:"15rem",marginLeft:"3rem"},children:[Object(C.jsx)("thead",{style:{textAlign:"center"},children:Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{colSpan:"2",children:["Total of ",Object(C.jsxs)("b",{children:[d.summary.totalHours.toFixed(2)," hour",d.summary.totalHours>1&&"s"]})," in ",Object(C.jsxs)("b",{children:[d.summary.totalClockins," clockin",d.summary.totalClockins>1&&"s"]})]})})}),Object(C.jsxs)("tbody",{children:[Object(C.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(C.jsx)("td",{children:"Clockins Invoiced"}),Object(C.jsxs)("td",{style:{textAlign:"center",width:"4rem"},children:[" ",d.summary.totalClockinsInvoiced," "]})]}),Object(C.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(C.jsx)("td",{children:"Clockins no Invoice"}),Object(C.jsxs)("td",{style:{textAlign:"center"},children:[" ",d.summary.totalClockinsNoInvoice," "]})]}),Object(C.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(C.jsx)("td",{children:"Hours Invoiced"}),Object(C.jsxs)("td",{style:{textAlign:"center"},children:[" ",d.summary.totalHoursInvoiced.toFixed(2)," "]})]}),Object(C.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(C.jsx)("td",{children:"Hours no Invoice"}),Object(C.jsxs)("td",{style:{textAlign:"center"},children:[" ",d.summary.totalHoursNoInvoice.toFixed(2)," "]})]})]})]})}),c.checkAllClients&&Object(C.jsxs)("div",{children:[Object(C.jsx)("br",{}),Object(C.jsx)(u.a.Text,{className:"report-general-subtitle",children:"Clockins by Client:"}),d.clockinsByClient.map((function(e,t){return e.message?Object(C.jsxs)("div",{children:[Object(C.jsx)(u.a.Text,{className:"report-items-by-client-first",children:Object(C.jsxs)("b",{children:[t+1,"- Client: ",e.client]})}),Object(C.jsx)(u.a.Text,{className:"report-items-by-client",children:e.message})]},t):Object(C.jsxs)("div",{children:[Object(C.jsx)(u.a.Text,{className:"report-items-by-client-first",children:Object(C.jsxs)("b",{children:[t+1,"- Client: ",e.client]})}),Object(C.jsxs)(Oe.a,{bordered:!0,size:"sm",style:{width:"15rem",marginLeft:"3rem"},children:[Object(C.jsx)("thead",{style:{textAlign:"center"},children:Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{colSpan:"2",children:["Total of ",Object(C.jsxs)("b",{children:[e.totalHours.toFixed(2)," hour",e.totalHours>1&&"s"]})," in ",Object(C.jsxs)("b",{children:[e.totalClockins," clockin",e.totalClockins>1&&"s"]})]})})}),Object(C.jsxs)("tbody",{children:[Object(C.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(C.jsx)("td",{children:"Clockins Invoiced"}),Object(C.jsxs)("td",{style:{textAlign:"center",width:"4rem"},children:[" ",e.totalClockinsInvoiced," "]})]}),Object(C.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(C.jsx)("td",{children:"Clockins no Invoice"}),Object(C.jsxs)("td",{style:{textAlign:"center"},children:[" ",e.totalClockinsNoInvoice," "]})]}),Object(C.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(C.jsx)("td",{children:"Hours Invoiced"}),Object(C.jsxs)("td",{style:{textAlign:"center"},children:[" ",e.totalHoursInvoiced.toFixed(2)," "]})]}),Object(C.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(C.jsx)("td",{children:"Hours no Invoice"}),Object(C.jsxs)("td",{style:{textAlign:"center"},children:[" ",e.totalHoursNoInvoice.toFixed(2)," "]})]})]})]})]},t)}))]}),Object(C.jsx)("br",{})]}),Object(C.jsx)("br",{})]})]})}));var ht=Object(b.b)((function(e){return{storeUser:e.name,storeToken:e.token}}),null)((function(e){var t=Object(s.useState)({client:{id:"",name:""},period:{dateStart:"2020-01-01",dateEnd:"2020-12-30"},message:{descripition:"",classNameMessage:""},showOutput:!1,checkAllClients:!1}),a=Object(I.a)(t,2),c=a[0],i=a[1],r=function(e){var t=e.target,a=t.name,s=t.value;i(Object(U.a)(Object(U.a)({},c),{},{period:Object(U.a)(Object(U.a)({},c.period),{},Object(K.a)({},a,s)),message:{descripition:""}}))},l=Object(s.useState)({period:{dateStart:"",dateEnd:""},summary:{totalClockins:"",totalHours:"",totalClockinsInvoiced:"",totalHoursInvoiced:"",totalClockinsNoInvoice:"",totalHoursNoInvoice:"",client:""},clockinsByClient:[],message:""}),o=Object(I.a)(l,2),d=o[0],h=o[1],j=function(){var t=Object(H.a)(G.a.mark((function t(a){var s,n,r,l,o,j,b;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i(Object(U.a)(Object(U.a)({},c),{},{message:{descripition:""}})),a.preventDefault(),s=c.client,n=c.period.dateStart,r=c.period.dateEnd,console.log("dates:",r,n),n&&r){t.next=8;break}i(Object(U.a)(Object(U.a)({},c),{},{message:{descripition:s._id||c.checkAllClients?"Please, set period.":"Please, select client and set period.",classNameMessage:"messageFailure"}})),t.next=31;break;case 8:if(!s._id&&!c.checkAllClients){t.next=30;break}if(l=new Date(n).getTime(),o=new Date(r).getTime(),!(l>o)){t.next=15;break}i(Object(U.a)(Object(U.a)({},c),{},{message:{descripition:"Check you dates.",classNameMessage:"messageFailure"}})),t.next=28;break;case 15:return t.prev=15,j="/report/clockins?dateStart=".concat(n,"&dateEnd=").concat(r,"&clientId=").concat(c.client._id,"&checkAllClients=").concat(c.checkAllClients),t.next=19,W.a.get(j,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.storeToken)}});case 19:b=t.sent,console.log("getClockinsReport",b),"summary"in b.data?("message"in b.data.summary?h({message:"There is no clockins for this period.",summary:{client:b.data.summary.client},period:b.data.period}):h(Object(U.a)(Object(U.a)({},d),{},{message:"",period:b.data.period,summary:b.data.summary,clockinsByClient:b.data.clockinsByClient})),i(Object(U.a)(Object(U.a)({},c),{},{showOutput:!0,message:""}))):(console.log("ERROR:",b.data.error),i(Object(U.a)(Object(U.a)({},c),{},{message:{classNameMessage:"messageFailure",descripition:b.data.error.search("ECA01")?"Token expired - User needs to login again.":b.data.error}}))),t.next=28;break;case 24:t.prev=24,t.t0=t.catch(15),console.log("Another ERRRRRRR",t.t0.message||t.t0),i(Object(U.a)(Object(U.a)({},c),{},{message:{descripition:t.t0.message,classNameMessage:"messageFailure"}}));case 28:t.next=31;break;case 30:i(Object(U.a)(Object(U.a)({},c),{},{message:{descripition:"Please, choose a client option.",classNameMessage:"messageFailure"}}));case 31:case"end":return t.stop()}}),t,null,[[15,24]])})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"formPosition",children:[Object(C.jsx)("br",{}),Object(C.jsxs)(u.a,{className:"card-settings",children:[Object(C.jsx)(u.a.Header,{children:"Report - Invoices - Coming soon"}),Object(C.jsxs)(u.a.Body,{children:[Object(C.jsx)("div",{className:"gridClientBtContainer"}),Object(C.jsx)("br",{}),Object(C.jsxs)(z.a,{children:[Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formST",children:[Object(C.jsx)(z.a.Label,{column:!0,sm:"3",className:"cardLabel",children:"Date Start:"}),Object(C.jsx)(p.a,{sm:"5",children:Object(C.jsx)(z.a.Control,{type:"date",name:"dateStart",onChange:r,value:c.period.dateStart,disabled:!0})})]}),Object(C.jsxs)(z.a.Group,{as:O.a,controlId:"formET",children:[Object(C.jsx)(p.a,{sm:"3",children:Object(C.jsx)(z.a.Label,{className:"cardLabel",children:"Date End:"})}),Object(C.jsx)(p.a,{sm:"5",children:Object(C.jsx)(z.a.Control,{type:"date",name:"dateEnd",onChange:r,value:c.period.dateEnd,disabled:!0})})]}),Object(C.jsx)(u.a.Footer,{className:c.message.classNameMessage,children:c.message&&c.message.descripition?c.message.descripition:Object(C.jsx)("br",{})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"d-flex flex-column",children:Object(C.jsx)(A.a,{variant:"primary",onClick:j,disabled:!0,children:"Get List"})})]})]})]}),c.showOutput&&Object(C.jsxs)("div",{children:[Object(C.jsxs)(u.a,{className:"report-card",children:[Object(C.jsx)(u.a.Header,{className:"report-header",children:"Clockins' Report"}),c.checkAllClients?Object(C.jsxs)(u.a.Text,{className:"report-main-title",children:[e.storeUser,"'s clients report"]}):Object(C.jsxs)(u.a.Text,{className:"report-main-title",children:[e.storeUser,"'s Client: ",d.summary.client]}),Object(C.jsxs)(u.a.Text,{className:"report-period",children:[Object(C.jsx)("b",{children:"Period:"})," ",ve(d.period.dateStart)," to ",ve(d.period.dateEnd)]}),Object(C.jsx)(u.a.Text,{className:"report-general-subtitle",children:"Summary:"}),d.message?Object(C.jsx)(u.a.Text,{className:"report-items",children:d.message}):Object(C.jsx)(n.a.Fragment,{children:Object(C.jsxs)(Oe.a,{bordered:!0,size:"sm",style:{width:"15rem",marginLeft:"3rem"},children:[Object(C.jsx)("thead",{style:{textAlign:"center"},children:Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{colSpan:"2",children:["Total of ",Object(C.jsxs)("b",{children:[d.summary.totalHours," hour",d.summary.totalHours>1&&"s"]})," in ",Object(C.jsxs)("b",{children:[d.summary.totalClockins," clockin",d.summary.totalClockins>1&&"s"]})]})})}),Object(C.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(C.jsx)("td",{children:"Clockins Invoiced"}),Object(C.jsxs)("td",{style:{textAlign:"center",width:"4rem"},children:[" ",d.summary.totalClockinsInvoiced," "]})]}),Object(C.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(C.jsx)("td",{children:"Clockins no Invoice"}),Object(C.jsxs)("td",{style:{textAlign:"center"},children:[" ",d.summary.totalClockinsNoInvoice," "]})]}),Object(C.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(C.jsx)("td",{children:"Hours Invoiced"}),Object(C.jsxs)("td",{style:{textAlign:"center"},children:[" ",d.summary.totalHoursInvoiced," "]})]}),Object(C.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(C.jsx)("td",{children:"Hours no Invoice"}),Object(C.jsxs)("td",{style:{textAlign:"center"},children:[" ",d.summary.totalHoursNoInvoice," "]})]})]})}),c.checkAllClients&&Object(C.jsxs)("div",{children:[Object(C.jsx)("br",{}),Object(C.jsx)(u.a.Text,{className:"report-general-subtitle",children:"Clockins by Client:"}),d.clockinsByClient.map((function(e,t){return e.message?Object(C.jsxs)("div",{children:[Object(C.jsx)(u.a.Text,{className:"report-items-by-client-first",children:Object(C.jsxs)("b",{children:[t+1,"- Client: ",e.client]})}),Object(C.jsx)(u.a.Text,{className:"report-items-by-client",children:e.message})]},t):Object(C.jsxs)("div",{children:[Object(C.jsx)(u.a.Text,{className:"report-items-by-client-first",children:Object(C.jsxs)("b",{children:[t+1,"- Client: ",e.client]})}),Object(C.jsxs)(Oe.a,{bordered:!0,size:"sm",style:{width:"15rem",marginLeft:"3rem"},children:[Object(C.jsx)("thead",{style:{textAlign:"center"},children:Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{colSpan:"2",children:["Total of ",Object(C.jsxs)("b",{children:[e.totalHours," hour",e.totalHours>1&&"s"]})," in ",Object(C.jsxs)("b",{children:[e.totalClockins," clockin",e.totalClockins>1&&"s"]})]})})}),Object(C.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(C.jsx)("td",{children:"Clockins Invoiced"}),Object(C.jsxs)("td",{style:{textAlign:"center",width:"4rem"},children:[" ",e.totalClockinsInvoiced," "]})]}),Object(C.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(C.jsx)("td",{children:"Clockins no Invoice"}),Object(C.jsxs)("td",{style:{textAlign:"center"},children:[" ",e.totalClockinsNoInvoice," "]})]}),Object(C.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(C.jsx)("td",{children:"Hours Invoiced"}),Object(C.jsxs)("td",{style:{textAlign:"center"},children:[" ",e.totalHoursInvoiced," "]})]}),Object(C.jsxs)("tr",{style:{verticalAlign:"middle"},children:[Object(C.jsx)("td",{children:"Hours no Invoice"}),Object(C.jsxs)("td",{style:{textAlign:"center"},children:[" ",e.totalHoursNoInvoice," "]})]})]})]},t)}))]}),Object(C.jsx)("br",{})]}),Object(C.jsx)("br",{})]})]})})),jt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(C.jsxs)(h.a,{children:[Object(C.jsx)(R,{}),Object(C.jsxs)(j.d,{children:[Object(C.jsx)(j.b,{exact:!0,path:"/",render:function(){return e.props.storeEmail?Object(C.jsx)(ce,{}):Object(C.jsx)(j.a,{to:"/land"})}}),Object(C.jsx)(j.b,{exact:!0,path:"/user",render:function(){return e.props.storeEmail?Object(C.jsx)(le,{}):Object(C.jsx)(j.a,{to:"/land"})}}),Object(C.jsx)(j.b,{exact:!0,path:"/land",render:function(){return e.props.storeEmail?Object(C.jsx)(j.a,{to:"/"}):Object(C.jsx)(N,{})}}),Object(C.jsx)(j.b,{exact:!0,path:"/signup",render:function(){return e.props.storeEmail?Object(C.jsx)(j.a,{to:"/"}):Object(C.jsx)(Z,{})}}),Object(C.jsx)(j.b,{exact:!0,path:"/login",render:function(){return e.props.storeEmail?Object(C.jsx)(j.a,{to:"/"}):Object(C.jsx)(ne,{})}}),Object(C.jsx)(j.b,{exact:!0,path:"/clientNew",render:function(){return e.props.storeEmail?Object(C.jsx)(de,{}):Object(C.jsx)(ne,{})}}),Object(C.jsx)(j.b,{exact:!0,path:"/clientGeneralNew",render:function(){return e.props.storeEmail?Object(C.jsx)(ot,{}):Object(C.jsx)(ne,{})}}),Object(C.jsx)(j.b,{exact:!0,path:"/clientList",render:function(){return e.props.storeEmail?Object(C.jsx)(pe,{}):Object(C.jsx)(ne,{})}}),Object(C.jsx)(j.b,{exact:!0,path:"/punchInNew",render:function(){return e.props.storeEmail?Object(C.jsx)(ke,{}):Object(C.jsx)(ne,{})}}),Object(C.jsx)(j.b,{exact:!0,path:"/punchInsList",render:function(){return e.props.storeEmail?Object(C.jsx)(Se,{}):Object(C.jsx)(ne,{})}}),Object(C.jsx)(j.b,{exact:!0,path:"/invoiceNew",render:function(){return e.props.storeEmail?Object(C.jsx)(Ae,{}):Object(C.jsx)(ne,{})}}),Object(C.jsx)(j.b,{exact:!0,path:"/invoicesList",render:function(){return e.props.storeEmail?Object(C.jsx)(Ue,{}):Object(C.jsx)(ne,{})}}),Object(C.jsx)(j.b,{exact:!0,path:"/invoiceIssue",render:function(){return e.props.storeEmail?Object(C.jsx)(rt,{}):Object(C.jsx)(ne,{})}}),Object(C.jsx)(j.b,{exact:!0,path:"/reset_password/:code",children:Object(C.jsx)(Ve,{})}),Object(C.jsx)(j.b,{exact:!0,path:"/about",children:Object(C.jsx)(Ee,{})}),Object(C.jsx)(j.b,{exact:!0,path:"/guidance",children:Object(C.jsx)(et,{})}),Object(C.jsx)(j.b,{exact:!0,path:"/contact",children:Object(C.jsx)(tt,{})}),Object(C.jsx)(j.b,{exact:!0,path:"/reports/clockins",children:Object(C.jsx)(dt,{})}),Object(C.jsx)(j.b,{exact:!0,path:"/reports/invoices",children:Object(C.jsx)(ht,{})}),Object(C.jsx)(j.b,{component:N})]})]})}}]),a}(s.Component),bt=Object(b.b)((function(e){return{storeEmail:e.email}}),null)(jt),mt=a(116),ut=function(){try{var e={id:localStorage.getItem("id"),name:localStorage.getItem("name"),email:localStorage.getItem("email"),token:localStorage.getItem("token"),address:localStorage.getItem("address"),city:localStorage.getItem("city"),postalCode:localStorage.getItem("postalCode"),phone:localStorage.getItem("phone")};return e||void 0}catch(t){return}},xt=function(e){try{localStorage.setItem("id",e.id),localStorage.setItem("email",e.email),localStorage.setItem("name",e.name),localStorage.setItem("token",e.token),localStorage.setItem("city",e.city),localStorage.setItem("address",e.address),localStorage.setItem("postalCode",e.postalCode),localStorage.setItem("phone",e.phone)}catch(t){return t.message}},pt=function(){localStorage.removeItem("id"),localStorage.removeItem("name"),localStorage.removeItem("email"),localStorage.removeItem("token"),localStorage.removeItem("address"),localStorage.removeItem("city"),localStorage.removeItem("postalCode"),localStorage.removeItem("phone")},Ot={},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0,a=Object(U.a)({},e);return"LOGIN"===t.type?(a=Object(U.a)(Object(U.a)({},e),{},{id:t.data.user.id,email:t.data.user.email,name:t.data.user.name,token:t.data.user.token,address:t.data.user.address,city:t.data.user.city,postalCode:t.data.user.postalCode,phone:t.data.user.phone}),xt(a)):"LOGOUT"===t.type?(a={id:void 0,email:void 0,name:void 0,token:void 0,address:void 0,city:void 0,postalCode:void 0,phone:void 0},pt()):"SETCLIENT"===t.type&&console.log("error on SETCLIENT in reducer.js"),a},vt={id:ut().id,email:ut().email,name:ut().name,token:ut().token,address:ut().address,city:ut().city,postalCode:ut().postalCode,phone:ut().phone},ft=Object(mt.a)(gt,vt);ft.subscribe((function(){}));var yt=ft;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(C.jsx)(b.a,{store:yt,children:Object(C.jsx)(bt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[161,1,3]]]);
//# sourceMappingURL=main.bff87b01.chunk.js.map